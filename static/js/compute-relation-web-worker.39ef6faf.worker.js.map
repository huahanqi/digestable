{"version":3,"sources":["../webpack/bootstrap","../node_modules/sylvester/lib/node-sylvester/line.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/sylvester/lib/node-sylvester/plane.js","../node_modules/underscore/underscore.js","../node_modules/shaman/lib/distance.js","../node_modules/shaman/index.js","../node_modules/sylvester/lib/node-sylvester/vector.js","../node_modules/sylvester/lib/node-sylvester/sylvester.js","../node_modules/sylvester/lib/node-sylvester/matrix.js","../../src/sum.js","../../src/mean.js","../../src/sum_nth_power_deviations.js","../../src/variance.js","../../src/standard_deviation.js","../../src/mode_sorted.js","../../src/numeric_sort.js","../../src/min.js","../../src/max.js","../../src/sum_simple.js","../../src/quantile_sorted.js","../../src/quickselect.js","../../src/quantile.js","../../src/quantile_rank_sorted.js","../../src/interquartile_range.js","../../src/median.js","../../src/median_absolute_deviation.js","../../src/shuffle_in_place.js","../../src/shuffle.js","../../src/sample.js","../../src/make_matrix.js","../../src/unique_count_sorted.js","../../src/ckmeans.js","../../src/sample_covariance.js","../../src/sample_variance.js","../../src/sample_standard_deviation.js","../../src/sample_correlation.js","../../src/combine_means.js","../../src/mean_simple.js","../../src/root_mean_square.js","../../src/bayesian_classifier.js","../../src/perceptron.js","../../src/epsilon.js","../../src/factorial.js","../../src/gammaln.js","../../src/chi_squared_distribution_table.js","../../src/kernel_density_estimation.js","../../src/standard_normal_table.js","../../src/error_function.js","../../src/inverse_error_function.js","../../src/sign.js","../../src/euclidean_distance.js","../../src/k_means_cluster.js","../../src/silhouette.js","../../src/relative_error.js","../../src/add_to_mean.js","../../src/approx_equal.js","../../src/bernoulli_distribution.js","../../src/binomial_distribution.js","../../src/bisect.js","../../src/chi_squared_goodness_of_fit.js","../../src/chunk.js","../../src/coefficient_of_variation.js","../../src/combinations.js","../../src/combinations_replacement.js","../../src/combine_variances.js","../../src/cumulative_std_logistic_probability.js","../../src/cumulative_std_normal_probability.js","../../src/equal_interval_breaks.js","../../src/extent.js","../../src/extent_sorted.js","../../src/gamma.js","../../src/geometric_mean.js","../../src/harmonic_mean.js","../../src/linear_regression.js","../../src/linear_regression_line.js","../../src/log_average.js","../../src/logit.js","../../src/max_sorted.js","../../src/median_sorted.js","../../src/min_sorted.js","../../src/mode.js","../../src/mode_fast.js","../../src/permutation_test.js","../../src/permutations_heap.js","../../src/poisson_distribution.js","../../src/probit.js","../../src/product.js","../../src/quantile_rank.js","../../src/r_squared.js","../../src/sample_kurtosis.js","../../src/sample_rank_correlation.js","../../src/sample_skewness.js","../../src/sample_with_replacement.js","../../src/silhouette_metric.js","../../src/subtract_from_mean.js","../../src/t_test.js","../../src/t_test_two_sample.js","../../src/wilcoxon_rank_sum.js","../../src/z_score.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/shaman/lib/linear_regression.js","../node_modules/sylvester/lib/node-sylvester/index.js","../node_modules/webpack/buildin/global.js","../node_modules/sylvester/lib/node-sylvester/line.segment.js","../node_modules/shaman/lib/k_means.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/zoom.js","digestable/relations/correlation.js","digestable/relations/utils.js","digestable/relations/cramersV.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","digestable/relations/categoricalRegression.js","digestable/compute-relation-web-worker.js","../node_modules/d3-array/src/ascending.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Vector","require","Matrix","Plane","Sylvester","Line","eql","line","this","isParallelTo","contains","anchor","dup","direction","translate","vector","V","elements","obj","normal","start","end","theta","angleFrom","Math","abs","precision","PI","distanceFrom","N","cross","toUnitVector","A","B","P","D","PA1","PA2","PA3","modPA","sqrt","cosTheta","sin2","dist","positionOf","point","liesIn","plane","intersects","intersectionWith","X","Q","Y","X1","X2","X3","Y1","Y2","Y3","PsubQ1","PsubQ2","PsubQ3","YdotY","XdotY","k","pointClosestTo","E","D1","D2","D3","E1","E2","E3","x","y","z","A1","A2","A3","modulus","rotate","to3D","R","Rotation","C","C1","C2","C3","reverse","reflectionIn","newA","AD1","AD2","AD3","newD","setVectors","length","push","mod","Zero","j","Z","isPerpendicularTo","add","multiplier","O","solver","isSingular","inverse","intersection","dot","determinant","N1","N2","N3","AN1","AN2","AN3","newN","v1","v2","v11","v12","v13","v21","v22","v23","XY","YZ","ZX","YX","ZY","XZ","fromPoints","points","prevN","np","list","totalN","root","previousUnderscore","_","ArrayProto","Array","ObjProto","FuncProto","Function","slice","concat","toString","nativeIsArray","isArray","nativeKeys","keys","nativeBind","_wrapped","VERSION","createCallback","func","context","argCount","other","index","collection","accumulator","apply","arguments","iteratee","identity","isFunction","isObject","matches","each","forEach","map","collect","currentKey","results","reduceError","reduce","foldl","inject","memo","TypeError","reduceRight","foldr","find","detect","predicate","result","some","filter","select","reject","negate","every","all","any","include","target","values","indexOf","invoke","method","args","isFunc","pluck","where","attrs","findWhere","max","computed","Infinity","lastComputed","min","shuffle","rand","set","shuffled","random","sample","guard","sortBy","criteria","sort","left","right","a","b","group","behavior","groupBy","has","indexBy","countBy","sortedIndex","array","low","high","mid","toArray","size","partition","pass","fail","first","head","take","initial","last","rest","tail","drop","compact","flatten","input","shallow","strict","output","isArguments","without","difference","uniq","unique","isSorted","isBoolean","seen","union","argsLength","item","zip","lastIndexOf","from","idx","range","stop","step","ceil","Ctor","bound","self","partial","boundArgs","position","bindAll","Error","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","now","remaining","clearTimeout","trailing","debounce","immediate","timestamp","callNow","wrap","wrapper","compose","after","times","before","once","pairs","invert","functions","methods","names","extend","source","prop","pick","omit","String","defaults","clone","tap","interceptor","eq","aStack","bStack","className","aCtor","constructor","bCtor","pop","isEqual","isEmpty","isString","isElement","nodeType","type","isFinite","isNaN","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","noop","pair","accum","floor","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","match","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","unescape","idCounter","uniqueId","prefix","id","templateSettings","evaluate","interpolate","noMatch","escapes","escapeChar","template","text","settings","oldSettings","matcher","offset","variable","render","e","data","argument","chain","instance","_chain","mixin","euclidean","sum","pow","LinearRegression","euclideanDistance","KMeans","norm","dimensions","rows","cols","fn","mod1","mod2","acos","angle","isAntiparallelTo","v","subtract","multiply","elementMultiply","chomp","top","augment","newElements","log","elementDivide","product","maxIndex","toDiagonalMatrix","Diagonal","round","transpose","snapTo","part","liesOn","inspect","setElements","els","Random","Fill","One","sign","approxPrecision","fs","identSize","M","row","unshift","$M","svdJs","I","S","U","err","Number","MAX_VALUE","qr","qrJs","triu","unroll","f","diagonal","ss","ssn","$V","svdPack","lapack","sgesvd","column","VT","ak","col","oneZero","vk","Vk","Qk","div","qrPack","luPack","lu","L","solve","forwardSubstitute","backSubstitute","pcaProject","Ureduce","svd","pca","pcaRecover","startRow","endRow","startCol","endCol","approxEql","matrix","nj","isSameSizeAs","canMultiplyFromLeft","mulOp","op","returnVector","rowThis","rowElem","mean","dim","minor","ni","isSquare","toRightTriangular","toUpperTriangular","det","trace","tr","rank","rk","T","divisor","new_element","inverse_elements","inv","matrix_rows","maxColumnIndexes","maxes","maxColumns","minColumnIndexes","mins","minIndex","minColumns","partialPivot","maxValue","tmp","xa","w","luJs","Zeros","getLapack","aElements","ignoreLapack","loadFile","file","rowArray","readFileSync","split","cos","sin","axis","RotationX","RotationY","RotationZ","Ones","let","transition","correction","sumNthPowerDeviations","const","tempValue","meanValue","variance","standardDeviation","modeSorted","sorted","NaN","maxSeen","seenThis","numericSort","sumSimple","quantileSorted","quickselect","arr","exp","sd","swap","quantile","copy","indices","quantileIndex","compare","stack","quantileSelect","len","quantileRankSorted","lo","hi","u","interquartileRange","q1","q2","median","medianAbsoluteDeviation","medianValue","medianAbsoluteDeviations","shuffleInPlace","randomSource","temporary","makeMatrix","columns","uniqueCountSorted","lastSeenValue","uniqueValueCount","ssq","sums","sumsOfSquares","sji","muji","fillMatrixColumn","iMin","iMax","cluster","backtrackMatrix","jlow","ssqjlow","ssqj","jhigh","sampleCovariance","xmean","ymean","sampleVariance","sampleStandardDeviation","sampleVarianceX","sampleCorrelation","combineMeans","mean1","n1","mean2","n2","meanSimple","rootMeanSquare","sumOfSquares","BayesianClassifier","totalCount","train","category","score","odds","oddsSums","combination","PerceptronModel","weights","bias","predict","features","label","prediction","gradient","epsilon","factorial","COEFFICIENTS","LOGSQRT2PI","chiSquaredDistributionTable","1","0.995","0.99","0.975","0.95","0.9","0.5","0.1","0.05","0.025","0.01","0.005","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","40","50","60","70","80","90","100","SQRT_2PI","kernels","gaussian","bandwidthMethods","nrd","stddev","iqr","kernelDensityEstimation","kernel","bandwidthMethod","kernelFn","bandwidth","cumulativeDistribution","standardNormalTable","errorFunction","tau","inverseErrorFunction","diff","labelPoints","centroids","minDist","calculateCentroids","labels","numCluster","dimension","counts","fill","numPoints","current","centroid","calculateChange","total","silhouette","groupings","numGroups","distances","meanDistanceFromPointToGroup","meanDistanceToNearestGroup","which","relativeError","actual","expected","newValue","tolerance","trials","probability","cumulativeProbability","cells","binomialCoefficient","maxIterations","errorTolerance","distributionType","significance","chiSquared","hypothesizedDistribution","observedFrequencies","expectedFrequencies","degreesOfFreedom","chunkSize","nClusters","nValues","shift","shiftedValue","clusters","clusterRight","clusterLeft","combinations","subI","subsetCombinations","next","combinationList","combinationsReplacement","variance1","variance2","newMean","absZ","toFixed","nClasses","theMin","theMax","breaks","breakSize","gamma","isInteger","seriesDenom","g","reciprocalSum","oldCentroids","newCentroids","change","dataLength","sumX","sumY","sumXX","sumXY","mb","Map","modeCount","newCount","sampleX","sampleY","alternative","testStatistic","testStatDsn","allData","midIndex","permLeft","permRight","permTestStatistic","numExtremeTStats","indexes","permutations","swapFrom","temp","lambda","factorialX","average","secondCentralMoment","fourthCentralMoment","xIndexes","yIndexes","xRanks","yRanks","sumSquaredDeviations","sumCubedDeviations","besselsCorrection","theSampleStandardDeviation","expectedValue","meanX","meanY","sampleVarianceY","weightedVariance","pooledSamples","tiedRanks","replaceRanksInPlace","rankSum","runtime","undefined","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","configurable","writable","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","state","GenStateSuspendedStart","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","resolve","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","skipTempReset","prev","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","sylvester","algorithm","saveCosts","costs","debug","trained","normalized","getMinOfArray","numArray","callback","trainWithGradientDescent","trainWithNormalEquation","addColumnOne","normalize","console","nbrOfFeatures","newX","means","ranges","feature","num","normalizedFeature","featureArray","inversePortion","computeCost","xThetaMinusY","xThetaMinusYSquared","val","gradientDescent","learningRate","numberOfIterations","normalizedX","tempArray","xThetaMinusYTimesXj","arrayToSum","xInput","global","$L","$P","Segment","window","segment","toVector","midpoint","bisectingPlane","vect","setPoints","startPoint","endPoint","distance","K","iterations","normalizedData","randomIndex","clusterIndexes","closestCentroid","tmpDistance","clusterIndex","denormalize","originalMean","newPoints","newPoint","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","_createForOfIteratorHelper","allowArrayLike","it","F","_e","normalCompletion","didErr","_e2","dispatch","Dispatch","parseTypenames","typenames","types","trim","on","typename","that","_defineProperty","none","selector","querySelector","empty","querySelectorAll","childMatcher","node","childFirst","firstElementChild","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","appendChild","child","insertBefore","bindIndex","enter","exit","groupLength","bindKey","keyValue","nodeByKeyValue","keyValues","delete","arraylike","ascending","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","classedRemove","remove","classedTrue","classedFalse","classedFunction","splice","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","onRemove","__on","removeEventListener","listener","onAdd","event","contextListener","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","groups","_groups","Selection","parents","_parents","selection","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","enterGroup","updateGroup","exitGroup","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","nodes","attr","getAttributeNS","classed","html","creator","insert","deep","selection_iterator","factory","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","h","Hsl","hslConvert","hsl2rgb","m2","basis","t1","v0","v3","t2","t3","channels","assign","displayable","formatHsl","linear","nogamma","exponential","rgbGamma","colorRgb","rgbSpline","spline","colors","reA","reB","taskHead","taskTail","am","bm","bs","bi","lastIndex","q","number","one","zero","frame","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","time","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","elapsed","emptyOn","emptyTween","timing","schedules","__transition","tween","schedule","tick","duration","ease","init","svgNode","active","degrees","translateX","translateY","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","ya","xb","yb","scale","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","interpolateNumber","interpolateRgb","interpolateString","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","easeVarying","cancel","interrupt","defaultTiming","number1","number2","cosh","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","d1","b0","b1","r0","r1","coshr0","sinh","SQRT2","_1","_2","Transform","applyX","applyY","location","invertX","invertY","rescaleX","domain","rescaleY","correlation","getUniqueValues","Set","cramersV","dimension1","dimension2","categories1","categories2","chi2","categoryCounts","counts1","counts2","c1","c2","observed","k1","k2","_toConsumableArray","_slicedToArray","_arr","_n","_d","_s","_i","categoricalRegression","categorical","numeric","nonNull","validCat","validNum","categories","cats","lr","shaman","onmessage","relations","column1","column2","magnitude","d3","postMessage"],"mappings":"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","file":"static/js/compute-relation-web-worker.39ef6faf.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/digestable/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 99);\n","// Copyright (c) 2011, Chris Umbel, James Coglan\nvar Vector = require('./vector');\nvar Matrix = require('./matrix');\nvar Plane = require('./plane');\nvar Sylvester = require('./sylvester');\n\n// Line class - depends on Vector, and some methods require Matrix and Plane.\n\nfunction Line() {}\nLine.prototype = {\n\n  // Returns true if the argument occupies the same space as the line\n  eql: function(line) {\n    return (this.isParallelTo(line) && this.contains(line.anchor));\n  },\n\n  // Returns a copy of the line\n  dup: function() {\n    return Line.create(this.anchor, this.direction);\n  },\n\n  // Returns the result of translating the line by the given vector/array\n  translate: function(vector) {\n    var V = vector.elements || vector;\n    return Line.create([\n      this.anchor.elements[0] + V[0],\n      this.anchor.elements[1] + V[1],\n      this.anchor.elements[2] + (V[2] || 0)\n    ], this.direction);\n  },\n\n  // Returns true if the line is parallel to the argument. Here, 'parallel to'\n  // means that the argument's direction is either parallel or antiparallel to\n  // the line's own direction. A line is parallel to a plane if the two do not\n  // have a unique intersection.\n  isParallelTo: function(obj) {\n    if (obj.normal || (obj.start && obj.end)) { return obj.isParallelTo(this); }\n    var theta = this.direction.angleFrom(obj.direction);\n    return (Math.abs(theta) <= Sylvester.precision || Math.abs(theta - Math.PI) <= Sylvester.precision);\n  },\n\n  // Returns the line's perpendicular distance from the argument,\n  // which can be a point, a line or a plane\n  distanceFrom: function(obj) {\n    if (obj.normal || (obj.start && obj.end)) { return obj.distanceFrom(this); }\n    if (obj.direction) {\n      // obj is a line\n      if (this.isParallelTo(obj)) { return this.distanceFrom(obj.anchor); }\n      var N = this.direction.cross(obj.direction).toUnitVector().elements;\n      var A = this.anchor.elements, B = obj.anchor.elements;\n      return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);\n    } else {\n      // obj is a point\n      var P = obj.elements || obj;\n      var A = this.anchor.elements, D = this.direction.elements;\n      var PA1 = P[0] - A[0], PA2 = P[1] - A[1], PA3 = (P[2] || 0) - A[2];\n      var modPA = Math.sqrt(PA1*PA1 + PA2*PA2 + PA3*PA3);\n      if (modPA === 0) return 0;\n      // Assumes direction vector is normalized\n      var cosTheta = (PA1 * D[0] + PA2 * D[1] + PA3 * D[2]) / modPA;\n      var sin2 = 1 - cosTheta*cosTheta;\n      return Math.abs(modPA * Math.sqrt(sin2 < 0 ? 0 : sin2));\n    }\n  },\n\n  // Returns true iff the argument is a point on the line, or if the argument\n  // is a line segment lying within the receiver\n  contains: function(obj) {\n    if (obj.start && obj.end) { return this.contains(obj.start) && this.contains(obj.end); }\n    var dist = this.distanceFrom(obj);\n    return (dist !== null && dist <= Sylvester.precision);\n  },\n\n  // Returns the distance from the anchor of the given point. Negative values are\n  // returned for points that are in the opposite direction to the line's direction from\n  // the line's anchor point.\n  positionOf: function(point) {\n    if (!this.contains(point)) { return null; }\n    var P = point.elements || point;\n    var A = this.anchor.elements, D = this.direction.elements;\n    return (P[0] - A[0]) * D[0] + (P[1] - A[1]) * D[1] + ((P[2] || 0) - A[2]) * D[2];\n  },\n\n  // Returns true iff the line lies in the given plane\n  liesIn: function(plane) {\n    return plane.contains(this);\n  },\n\n  // Returns true iff the line has a unique point of intersection with the argument\n  intersects: function(obj) {\n    if (obj.normal) { return obj.intersects(this); }\n    return (!this.isParallelTo(obj) && this.distanceFrom(obj) <= Sylvester.precision);\n  },\n\n  // Returns the unique intersection point with the argument, if one exists\n  intersectionWith: function(obj) {\n    if (obj.normal || (obj.start && obj.end)) { return obj.intersectionWith(this); }\n    if (!this.intersects(obj)) { return null; }\n    var P = this.anchor.elements, X = this.direction.elements,\n        Q = obj.anchor.elements, Y = obj.direction.elements;\n    var X1 = X[0], X2 = X[1], X3 = X[2], Y1 = Y[0], Y2 = Y[1], Y3 = Y[2];\n    var PsubQ1 = P[0] - Q[0], PsubQ2 = P[1] - Q[1], PsubQ3 = P[2] - Q[2];\n    var XdotQsubP = - X1*PsubQ1 - X2*PsubQ2 - X3*PsubQ3;\n    var YdotPsubQ = Y1*PsubQ1 + Y2*PsubQ2 + Y3*PsubQ3;\n    var XdotX = X1*X1 + X2*X2 + X3*X3;\n    var YdotY = Y1*Y1 + Y2*Y2 + Y3*Y3;\n    var XdotY = X1*Y1 + X2*Y2 + X3*Y3;\n    var k = (XdotQsubP * YdotY / XdotX + XdotY * YdotPsubQ) / (YdotY - XdotY * XdotY);\n    return Vector.create([P[0] + k*X1, P[1] + k*X2, P[2] + k*X3]);\n  },\n\n  // Returns the point on the line that is closest to the given point or line/line segment\n  pointClosestTo: function(obj) {\n    if (obj.start && obj.end) {\n      // obj is a line segment\n      var P = obj.pointClosestTo(this);\n      return (P === null) ? null : this.pointClosestTo(P);\n    } else if (obj.direction) {\n      // obj is a line\n      if (this.intersects(obj)) { return this.intersectionWith(obj); }\n      if (this.isParallelTo(obj)) { return null; }\n      var D = this.direction.elements, E = obj.direction.elements;\n      var D1 = D[0], D2 = D[1], D3 = D[2], E1 = E[0], E2 = E[1], E3 = E[2];\n      // Create plane containing obj and the shared normal and intersect this with it\n      // Thank you: http://www.cgafaq.info/wiki/Line-line_distance\n      var x = (D3 * E1 - D1 * E3), y = (D1 * E2 - D2 * E1), z = (D2 * E3 - D3 * E2);\n      var N = [x * E3 - y * E2, y * E1 - z * E3, z * E2 - x * E1];\n      var P = Plane.create(obj.anchor, N);\n      return P.intersectionWith(this);\n    } else {\n      // obj is a point\n      var P = obj.elements || obj;\n      if (this.contains(P)) { return Vector.create(P); }\n      var A = this.anchor.elements, D = this.direction.elements;\n      var D1 = D[0], D2 = D[1], D3 = D[2], A1 = A[0], A2 = A[1], A3 = A[2];\n      var x = D1 * (P[1]-A2) - D2 * (P[0]-A1), y = D2 * ((P[2] || 0) - A3) - D3 * (P[1]-A2),\n          z = D3 * (P[0]-A1) - D1 * ((P[2] || 0) - A3);\n      var V = Vector.create([D2 * x - D3 * z, D3 * y - D1 * x, D1 * z - D2 * y]);\n      var k = this.distanceFrom(P) / V.modulus();\n      return Vector.create([\n        P[0] + V.elements[0] * k,\n        P[1] + V.elements[1] * k,\n        (P[2] || 0) + V.elements[2] * k\n      ]);\n    }\n  },\n\n  // Returns a copy of the line rotated by t radians about the given line. Works by\n  // finding the argument's closest point to this line's anchor point (call this C) and\n  // rotating the anchor about C. Also rotates the line's direction about the argument's.\n  // Be careful with this - the rotation axis' direction affects the outcome!\n  rotate: function(t, line) {\n    // If we're working in 2D\n    if (typeof(line.direction) == 'undefined') { line = Line.create(line.to3D(), Vector.k); }\n    var R = Matrix.Rotation(t, line.direction).elements;\n    var C = line.pointClosestTo(this.anchor).elements;\n    var A = this.anchor.elements, D = this.direction.elements;\n    var C1 = C[0], C2 = C[1], C3 = C[2], A1 = A[0], A2 = A[1], A3 = A[2];\n    var x = A1 - C1, y = A2 - C2, z = A3 - C3;\n    return Line.create([\n      C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z,\n      C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z,\n      C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z\n    ], [\n      R[0][0] * D[0] + R[0][1] * D[1] + R[0][2] * D[2],\n      R[1][0] * D[0] + R[1][1] * D[1] + R[1][2] * D[2],\n      R[2][0] * D[0] + R[2][1] * D[1] + R[2][2] * D[2]\n    ]);\n  },\n\n  // Returns a copy of the line with its direction vector reversed.\n  // Useful when using lines for rotations.\n  reverse: function() {\n    return Line.create(this.anchor, this.direction.x(-1));\n  },\n\n  // Returns the line's reflection in the given point or line\n  reflectionIn: function(obj) {\n    if (obj.normal) {\n      // obj is a plane\n      var A = this.anchor.elements, D = this.direction.elements;\n      var A1 = A[0], A2 = A[1], A3 = A[2], D1 = D[0], D2 = D[1], D3 = D[2];\n      var newA = this.anchor.reflectionIn(obj).elements;\n      // Add the line's direction vector to its anchor, then mirror that in the plane\n      var AD1 = A1 + D1, AD2 = A2 + D2, AD3 = A3 + D3;\n      var Q = obj.pointClosestTo([AD1, AD2, AD3]).elements;\n      var newD = [Q[0] + (Q[0] - AD1) - newA[0], Q[1] + (Q[1] - AD2) - newA[1], Q[2] + (Q[2] - AD3) - newA[2]];\n      return Line.create(newA, newD);\n    } else if (obj.direction) {\n      // obj is a line - reflection obtained by rotating PI radians about obj\n      return this.rotate(Math.PI, obj);\n    } else {\n      // obj is a point - just reflect the line's anchor in it\n      var P = obj.elements || obj;\n      return Line.create(this.anchor.reflectionIn([P[0], P[1], (P[2] || 0)]), this.direction);\n    }\n  },\n\n  // Set the line's anchor point and direction.\n  setVectors: function(anchor, direction) {\n    // Need to do this so that line's properties are not\n    // references to the arguments passed in\n    anchor = Vector.create(anchor);\n    direction = Vector.create(direction);\n    if (anchor.elements.length == 2) {anchor.elements.push(0); }\n    if (direction.elements.length == 2) { direction.elements.push(0); }\n    if (anchor.elements.length > 3 || direction.elements.length > 3) { return null; }\n    var mod = direction.modulus();\n    if (mod === 0) { return null; }\n    this.anchor = anchor;\n    this.direction = Vector.create([\n      direction.elements[0] / mod,\n      direction.elements[1] / mod,\n      direction.elements[2] / mod\n    ]);\n    return this;\n  }\n};\n\n// Constructor function\nLine.create = function(anchor, direction) {\n  var L = new Line();\n  return L.setVectors(anchor, direction);\n};\n\n// Axes\nLine.X = Line.create(Vector.Zero(3), Vector.i);\nLine.Y = Line.create(Vector.Zero(3), Vector.j);\nLine.Z = Line.create(Vector.Zero(3), Vector.k);\n\nmodule.exports = Line;\n","module.exports = require(\"regenerator-runtime\");\n","// Copyright (c) 2011, Chris Umbel, James Coglan\n// Plane class - depends on Vector. Some methods require Matrix and Line.\nvar Vector = require('./vector');\nvar Matrix = require('./matrix');\nvar Line = require('./line');\n\nvar Sylvester = require('./sylvester');\n\nfunction Plane() {}\nPlane.prototype = {\n\n  // Returns true iff the plane occupies the same space as the argument\n  eql: function(plane) {\n    return (this.contains(plane.anchor) && this.isParallelTo(plane));\n  },\n\n  // Returns a copy of the plane\n  dup: function() {\n    return Plane.create(this.anchor, this.normal);\n  },\n\n  // Returns the result of translating the plane by the given vector\n  translate: function(vector) {\n    var V = vector.elements || vector;\n    return Plane.create([\n      this.anchor.elements[0] + V[0],\n      this.anchor.elements[1] + V[1],\n      this.anchor.elements[2] + (V[2] || 0)\n    ], this.normal);\n  },\n\n  // Returns true iff the plane is parallel to the argument. Will return true\n  // if the planes are equal, or if you give a line and it lies in the plane.\n  isParallelTo: function(obj) {\n    var theta;\n    if (obj.normal) {\n      // obj is a plane\n      theta = this.normal.angleFrom(obj.normal);\n      return (Math.abs(theta) <= Sylvester.precision || Math.abs(Math.PI - theta) <= Sylvester.precision);\n    } else if (obj.direction) {\n      // obj is a line\n      return this.normal.isPerpendicularTo(obj.direction);\n    }\n    return null;\n  },\n\n  // Returns true iff the receiver is perpendicular to the argument\n  isPerpendicularTo: function(plane) {\n    var theta = this.normal.angleFrom(plane.normal);\n    return (Math.abs(Math.PI/2 - theta) <= Sylvester.precision);\n  },\n\n  // Returns the plane's distance from the given object (point, line or plane)\n  distanceFrom: function(obj) {\n    if (this.intersects(obj) || this.contains(obj)) { return 0; }\n    if (obj.anchor) {\n      // obj is a plane or line\n      var A = this.anchor.elements, B = obj.anchor.elements, N = this.normal.elements;\n      return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);\n    } else {\n      // obj is a point\n      var P = obj.elements || obj;\n      var A = this.anchor.elements, N = this.normal.elements;\n      return Math.abs((A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2]);\n    }\n  },\n\n  // Returns true iff the plane contains the given point or line\n  contains: function(obj) {\n    if (obj.normal) { return null; }\n    if (obj.direction) {\n      return (this.contains(obj.anchor) && this.contains(obj.anchor.add(obj.direction)));\n    } else {\n      var P = obj.elements || obj;\n      var A = this.anchor.elements, N = this.normal.elements;\n      var diff = Math.abs(N[0]*(A[0] - P[0]) + N[1]*(A[1] - P[1]) + N[2]*(A[2] - (P[2] || 0)));\n      return (diff <= Sylvester.precision);\n    }\n  },\n\n  // Returns true iff the plane has a unique point/line of intersection with the argument\n  intersects: function(obj) {\n    if (typeof(obj.direction) == 'undefined' && typeof(obj.normal) == 'undefined') { return null; }\n    return !this.isParallelTo(obj);\n  },\n\n  // Returns the unique intersection with the argument, if one exists. The result\n  // will be a vector if a line is supplied, and a line if a plane is supplied.\n  intersectionWith: function(obj) {\n    if (!this.intersects(obj)) { return null; }\n    if (obj.direction) {\n      // obj is a line\n      var A = obj.anchor.elements, D = obj.direction.elements,\n          P = this.anchor.elements, N = this.normal.elements;\n      var multiplier = (N[0]*(P[0]-A[0]) + N[1]*(P[1]-A[1]) + N[2]*(P[2]-A[2])) / (N[0]*D[0] + N[1]*D[1] + N[2]*D[2]);\n      return Vector.create([A[0] + D[0]*multiplier, A[1] + D[1]*multiplier, A[2] + D[2]*multiplier]);\n    } else if (obj.normal) {\n      // obj is a plane\n      var direction = this.normal.cross(obj.normal).toUnitVector();\n      // To find an anchor point, we find one co-ordinate that has a value\n      // of zero somewhere on the intersection, and remember which one we picked\n      var N = this.normal.elements, A = this.anchor.elements,\n          O = obj.normal.elements, B = obj.anchor.elements;\n      var solver = Matrix.Zero(2,2), i = 0;\n      while (solver.isSingular()) {\n        i++;\n        solver = Matrix.create([\n          [ N[i%3], N[(i+1)%3] ],\n          [ O[i%3], O[(i+1)%3]  ]\n        ]);\n      }\n      // Then we solve the simultaneous equations in the remaining dimensions\n      var inverse = solver.inverse().elements;\n      var x = N[0]*A[0] + N[1]*A[1] + N[2]*A[2];\n      var y = O[0]*B[0] + O[1]*B[1] + O[2]*B[2];\n      var intersection = [\n        inverse[0][0] * x + inverse[0][1] * y,\n        inverse[1][0] * x + inverse[1][1] * y\n      ];\n      var anchor = [];\n      for (var j = 1; j <= 3; j++) {\n        // This formula picks the right element from intersection by\n        // cycling depending on which element we set to zero above\n        anchor.push((i == j) ? 0 : intersection[(j + (5 - i)%3)%3]);\n      }\n      return Line.create(anchor, direction);\n    }\n  },\n\n  // Returns the point in the plane closest to the given point\n  pointClosestTo: function(point) {\n    var P = point.elements || point;\n    var A = this.anchor.elements, N = this.normal.elements;\n    var dot = (A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2];\n    return Vector.create([P[0] + N[0] * dot, P[1] + N[1] * dot, (P[2] || 0) + N[2] * dot]);\n  },\n\n  // Returns a copy of the plane, rotated by t radians about the given line\n  // See notes on Line#rotate.\n  rotate: function(t, line) {\n    var R = t.determinant ? t.elements : Matrix.Rotation(t, line.direction).elements;\n    var C = line.pointClosestTo(this.anchor).elements;\n    var A = this.anchor.elements, N = this.normal.elements;\n    var C1 = C[0], C2 = C[1], C3 = C[2], A1 = A[0], A2 = A[1], A3 = A[2];\n    var x = A1 - C1, y = A2 - C2, z = A3 - C3;\n    return Plane.create([\n      C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z,\n      C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z,\n      C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z\n    ], [\n      R[0][0] * N[0] + R[0][1] * N[1] + R[0][2] * N[2],\n      R[1][0] * N[0] + R[1][1] * N[1] + R[1][2] * N[2],\n      R[2][0] * N[0] + R[2][1] * N[1] + R[2][2] * N[2]\n    ]);\n  },\n\n  // Returns the reflection of the plane in the given point, line or plane.\n  reflectionIn: function(obj) {\n    if (obj.normal) {\n      // obj is a plane\n      var A = this.anchor.elements, N = this.normal.elements;\n      var A1 = A[0], A2 = A[1], A3 = A[2], N1 = N[0], N2 = N[1], N3 = N[2];\n      var newA = this.anchor.reflectionIn(obj).elements;\n      // Add the plane's normal to its anchor, then mirror that in the other plane\n      var AN1 = A1 + N1, AN2 = A2 + N2, AN3 = A3 + N3;\n      var Q = obj.pointClosestTo([AN1, AN2, AN3]).elements;\n      var newN = [Q[0] + (Q[0] - AN1) - newA[0], Q[1] + (Q[1] - AN2) - newA[1], Q[2] + (Q[2] - AN3) - newA[2]];\n      return Plane.create(newA, newN);\n    } else if (obj.direction) {\n      // obj is a line\n      return this.rotate(Math.PI, obj);\n    } else {\n      // obj is a point\n      var P = obj.elements || obj;\n      return Plane.create(this.anchor.reflectionIn([P[0], P[1], (P[2] || 0)]), this.normal);\n    }\n  },\n\n  // Sets the anchor point and normal to the plane. If three arguments are specified,\n  // the normal is calculated by assuming the three points should lie in the same plane.\n  // If only two are sepcified, the second is taken to be the normal. Normal vector is\n  // normalised before storage.\n  setVectors: function(anchor, v1, v2) {\n    anchor = Vector.create(anchor);\n    anchor = anchor.to3D(); if (anchor === null) { return null; }\n    v1 = Vector.create(v1);\n    v1 = v1.to3D(); if (v1 === null) { return null; }\n    if (typeof(v2) == 'undefined') {\n      v2 = null;\n    } else {\n      v2 = Vector.create(v2);\n      v2 = v2.to3D(); if (v2 === null) { return null; }\n    }\n    var A1 = anchor.elements[0], A2 = anchor.elements[1], A3 = anchor.elements[2];\n    var v11 = v1.elements[0], v12 = v1.elements[1], v13 = v1.elements[2];\n    var normal, mod;\n    if (v2 !== null) {\n      var v21 = v2.elements[0], v22 = v2.elements[1], v23 = v2.elements[2];\n      normal = Vector.create([\n        (v12 - A2) * (v23 - A3) - (v13 - A3) * (v22 - A2),\n        (v13 - A3) * (v21 - A1) - (v11 - A1) * (v23 - A3),\n        (v11 - A1) * (v22 - A2) - (v12 - A2) * (v21 - A1)\n      ]);\n      mod = normal.modulus();\n      if (mod === 0) { return null; }\n      normal = Vector.create([normal.elements[0] / mod, normal.elements[1] / mod, normal.elements[2] / mod]);\n    } else {\n      mod = Math.sqrt(v11*v11 + v12*v12 + v13*v13);\n      if (mod === 0) { return null; }\n      normal = Vector.create([v1.elements[0] / mod, v1.elements[1] / mod, v1.elements[2] / mod]);\n    }\n    this.anchor = anchor;\n    this.normal = normal;\n    return this;\n  }\n};\n\n// Constructor function\nPlane.create = function(anchor, v1, v2) {\n  var P = new Plane();\n  return P.setVectors(anchor, v1, v2);\n};\n\n// X-Y-Z planes\nPlane.XY = Plane.create(Vector.Zero(3), Vector.k);\nPlane.YZ = Plane.create(Vector.Zero(3), Vector.i);\nPlane.ZX = Plane.create(Vector.Zero(3), Vector.j);\nPlane.YX = Plane.XY; Plane.ZY = Plane.YZ; Plane.XZ = Plane.ZX;\n\n// Returns the plane containing the given points (can be arrays as\n// well as vectors). If the points are not coplanar, returns null.\nPlane.fromPoints = function(points) {\n  var np = points.length, list = [], i, P, n, N, A, B, C, D, theta, prevN, totalN = Vector.Zero(3);\n  for (i = 0; i < np; i++) {\n    P = Vector.create(points[i]).to3D();\n    if (P === null) { return null; }\n    list.push(P);\n    n = list.length;\n    if (n > 2) {\n      // Compute plane normal for the latest three points\n      A = list[n-1].elements; B = list[n-2].elements; C = list[n-3].elements;\n      N = Vector.create([\n        (A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]),\n        (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]),\n        (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])\n      ]).toUnitVector();\n      if (n > 3) {\n        // If the latest normal is not (anti)parallel to the previous one, we've strayed off the plane.\n        // This might be a slightly long-winded way of doing things, but we need the sum of all the normals\n        // to find which way the plane normal should point so that the points form an anticlockwise list.\n        theta = N.angleFrom(prevN);\n        if (theta !== null) {\n          if (!(Math.abs(theta) <= Sylvester.precision || Math.abs(theta - Math.PI) <= Sylvester.precision)) { return null; }\n        }\n      }\n      totalN = totalN.add(N);\n      prevN = N;\n    }\n  }\n  // We need to add in the normals at the start and end points, which the above misses out\n  A = list[1].elements; B = list[0].elements; C = list[n-1].elements; D = list[n-2].elements;\n  totalN = totalN.add(Vector.create([\n    (A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]),\n    (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]),\n    (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])\n  ]).toUnitVector()).add(Vector.create([\n    (B[1] - C[1]) * (D[2] - C[2]) - (B[2] - C[2]) * (D[1] - C[1]),\n    (B[2] - C[2]) * (D[0] - C[0]) - (B[0] - C[0]) * (D[2] - C[2]),\n    (B[0] - C[0]) * (D[1] - C[1]) - (B[1] - C[1]) * (D[0] - C[0])\n  ]).toUnitVector());\n  return Plane.create(list[0], totalN);\n};\n\nmodule.exports = Plane;\n","//     Underscore.js 1.7.0\n//     http://underscorejs.org\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    concat           = ArrayProto.concat,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.7.0';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var createCallback = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  _.iteratee = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return createCallback(value, context, argCount);\n    if (_.isObject(value)) return _.matches(value);\n    return _.property(value);\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    if (obj == null) return obj;\n    iteratee = createCallback(iteratee, context);\n    var i, length = obj.length;\n    if (length === +length) {\n      for (i = 0; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    if (obj == null) return [];\n    iteratee = _.iteratee(iteratee, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length),\n        currentKey;\n    for (var index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = function(obj, iteratee, memo, context) {\n    if (obj == null) obj = [];\n    iteratee = createCallback(iteratee, context, 4);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index = 0, currentKey;\n    if (arguments.length < 3) {\n      if (!length) throw new TypeError(reduceError);\n      memo = obj[keys ? keys[index++] : index++];\n    }\n    for (; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = function(obj, iteratee, memo, context) {\n    if (obj == null) obj = [];\n    iteratee = createCallback(iteratee, context, 4);\n    var keys = obj.length !== + obj.length && _.keys(obj),\n        index = (keys || obj).length,\n        currentKey;\n    if (arguments.length < 3) {\n      if (!index) throw new TypeError(reduceError);\n      memo = obj[keys ? keys[--index] : --index];\n    }\n    while (index--) {\n      currentKey = keys ? keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var result;\n    predicate = _.iteratee(predicate, context);\n    _.some(obj, function(value, index, list) {\n      if (predicate(value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    if (obj == null) return results;\n    predicate = _.iteratee(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(_.iteratee(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    if (obj == null) return true;\n    predicate = _.iteratee(predicate, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index, currentKey;\n    for (index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    if (obj == null) return false;\n    predicate = _.iteratee(predicate, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index, currentKey;\n    for (index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (obj.length !== +obj.length) obj = _.values(obj);\n    return _.indexOf(obj, target) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matches(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matches(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = obj.length === +obj.length ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = obj.length === +obj.length ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = obj && obj.length === +obj.length ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (obj.length !== +obj.length) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = _.iteratee(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = _.iteratee(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = low + high >>> 1;\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return obj.length === +obj.length ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = _.iteratee(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    if (n < 0) return [];\n    return slice.call(array, 0, n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return slice.call(array, Math.max(array.length - n, 0));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    if (shallow && _.every(input, _.isArray)) {\n      return concat.apply(output, input);\n    }\n    for (var i = 0, length = input.length; i < length; i++) {\n      var value = input[i];\n      if (!_.isArray(value) && !_.isArguments(value)) {\n        if (!strict) output.push(value);\n      } else if (shallow) {\n        push.apply(output, value);\n      } else {\n        flatten(value, shallow, strict, output);\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (array == null) return [];\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = _.iteratee(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = array.length; i < length; i++) {\n      var value = array[i];\n      if (isSorted) {\n        if (!i || seen !== value) result.push(value);\n        seen = value;\n      } else if (iteratee) {\n        var computed = iteratee(value, i, array);\n        if (_.indexOf(seen, computed) < 0) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (_.indexOf(result, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true, []));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    if (array == null) return [];\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = array.length; i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(slice.call(arguments, 1), true, true, []);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function(array) {\n    if (array == null) return [];\n    var length = _.max(arguments, 'length').length;\n    var results = Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(arguments, i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, length = list.length; i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, length = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    for (; i < length; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var idx = array.length;\n    if (typeof from == 'number') {\n      idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);\n    }\n    while (--idx >= 0) if (array[idx] === item) return idx;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Reusable constructor function for prototype setting.\n  var Ctor = function(){};\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    var args, bound;\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    args = slice.call(arguments, 2);\n    bound = function() {\n      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));\n      Ctor.prototype = func.prototype;\n      var self = new Ctor;\n      Ctor.prototype = null;\n      var result = func.apply(self, args.concat(slice.call(arguments)));\n      if (_.isObject(result)) return result;\n      return self;\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    return function() {\n      var position = 0;\n      var args = boundArgs.slice();\n      for (var i = 0, length = args.length; i < length; i++) {\n        if (args[i] === _) args[i] = arguments[position++];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return func.apply(this, args);\n    };\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = hasher ? hasher.apply(this, arguments) : key;\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last > 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed before being called N times.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      } else {\n        func = null;\n      }\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (hasOwnProperty.call(source, prop)) {\n            obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj, iteratee, context) {\n    var result = {}, key;\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      iteratee = createCallback(iteratee, context);\n      for (key in obj) {\n        var value = obj[key];\n        if (iteratee(value, key, obj)) result[key] = value;\n      }\n    } else {\n      var keys = concat.apply([], slice.call(arguments, 1));\n      obj = new Object(obj);\n      for (var i = 0, length = keys.length; i < length; i++) {\n        key = keys[i];\n        if (key in obj) result[key] = obj[key];\n      }\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(concat.apply([], slice.call(arguments, 1)), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      var source = arguments[i];\n      for (var prop in source) {\n        if (obj[prop] === void 0) obj[prop] = source[prop];\n      }\n    }\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n    // Objects with different constructors are not equivalent, but `Object`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (\n      aCtor !== bCtor &&\n      // Handle Object.create(x) cases\n      'constructor' in a && 'constructor' in b &&\n      !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n        _.isFunction(bCtor) && bCtor instanceof bCtor)\n    ) {\n      return false;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size, result;\n    // Recursively compare objects and arrays.\n    if (className === '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size === b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      size = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      result = _.keys(b).length === size;\n      if (result) {\n        while (size--) {\n          // Deep compare each member\n          key = keys[size];\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around an IE 11 bug.\n  if (typeof /./ !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = function(key) {\n    return function(obj) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of `key:value` pairs.\n  _.matches = function(attrs) {\n    var pairs = _.pairs(attrs), length = pairs.length;\n    return function(obj) {\n      if (obj == null) return !length;\n      obj = new Object(obj);\n      for (var i = 0; i < length; i++) {\n        var pair = pairs[i], key = pair[0];\n        if (pair[1] !== obj[key] || !(key in obj)) return false;\n      }\n      return true;\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = createCallback(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return void 0;\n    var value = object[property];\n    return _.isFunction(value) ? object[property]() : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n","/*globals exports */\n\nexports.euclidean = function(a, b) {\n  var sum = 0;\n  var n;\n  for (n=0; n < a.length; n++) {\n    sum += Math.pow(a[n]-b[n], 2);\n  }\n  return Math.sqrt(sum);\n};\n","/*globals require, exports */\n\nexports.LinearRegression = require('./lib/linear_regression').LinearRegression;\nexports.euclideanDistance = require('./lib/distance').euclidean;\nexports.KMeans = require('./lib/k_means').KMeans;\n","// Copyright (c) 2011, Chris Umbel, James Coglan\n// This file is required in order for any other classes to work. Some Vector methods work with the\n// other Sylvester classes and are useless unless they are included. Other classes such as Line and\n// Plane will not function at all without Vector being loaded first.\n\nvar Sylvester = require('./sylvester'),\nMatrix = require('./matrix');\n\nfunction Vector() {}\nVector.prototype = {\n\n    norm: function() {\n\tvar n = this.elements.length;\n\tvar sum = 0;\n\n\twhile (n--) {\n\t    sum += Math.pow(this.elements[n], 2);\n\t}\n\n\treturn Math.sqrt(sum);\n    },\n\n    // Returns element i of the vector\n    e: function(i) {\n      return (i < 1 || i > this.elements.length) ? null : this.elements[i - 1];\n    },\n\n    // Returns the number of rows/columns the vector has\n    dimensions: function() {\n      return {rows: 1, cols: this.elements.length};\n    },\n\n    // Returns the number of rows in the vector\n    rows: function() {\n      return 1;\n    },\n\n    // Returns the number of columns in the vector\n    cols: function() {\n      return this.elements.length;\n    },\n\n    // Returns the modulus ('length') of the vector\n    modulus: function() {\n      return Math.sqrt(this.dot(this));\n    },\n\n    // Returns true iff the vector is equal to the argument\n    eql: function(vector) {\n    \tvar n = this.elements.length;\n    \tvar V = vector.elements || vector;\n    \tif (n != V.length) { return false; }\n    \twhile (n--) {\n    \t    if (Math.abs(this.elements[n] - V[n]) > Sylvester.precision) { return false; }\n    \t}\n    \treturn true;\n    },\n\n    // Returns a copy of the vector\n    dup: function() {\n\t    return Vector.create(this.elements);\n    },\n\n    // Maps the vector to another vector according to the given function\n    map: function(fn) {\n\tvar elements = [];\n\tthis.each(function(x, i) {\n\t    elements.push(fn(x, i));\n\t});\n\treturn Vector.create(elements);\n    },\n\n    // Calls the iterator for each element of the vector in turn\n    each: function(fn) {\n\tvar n = this.elements.length;\n\tfor (var i = 0; i < n; i++) {\n\t    fn(this.elements[i], i + 1);\n\t}\n    },\n\n    // Returns a new vector created by normalizing the receiver\n    toUnitVector: function() {\n\tvar r = this.modulus();\n\tif (r === 0) { return this.dup(); }\n\treturn this.map(function(x) { return x / r; });\n    },\n\n    // Returns the angle between the vector and the argument (also a vector)\n    angleFrom: function(vector) {\n\tvar V = vector.elements || vector;\n\tvar n = this.elements.length, k = n, i;\n\tif (n != V.length) { return null; }\n\tvar dot = 0, mod1 = 0, mod2 = 0;\n\t// Work things out in parallel to save time\n\tthis.each(function(x, i) {\n\t    dot += x * V[i - 1];\n\t    mod1 += x * x;\n\t    mod2 += V[i - 1] * V[i - 1];\n\t});\n\tmod1 = Math.sqrt(mod1); mod2 = Math.sqrt(mod2);\n\tif (mod1 * mod2 === 0) { return null; }\n\tvar theta = dot / (mod1 * mod2);\n\tif (theta < -1) { theta = -1; }\n\tif (theta > 1) { theta = 1; }\n\treturn Math.acos(theta);\n    },\n\n    // Returns true iff the vector is parallel to the argument\n    isParallelTo: function(vector) {\n\tvar angle = this.angleFrom(vector);\n\treturn (angle === null) ? null : (angle <= Sylvester.precision);\n    },\n\n    // Returns true iff the vector is antiparallel to the argument\n    isAntiparallelTo: function(vector) {\n\tvar angle = this.angleFrom(vector);\n\treturn (angle === null) ? null : (Math.abs(angle - Math.PI) <= Sylvester.precision);\n    },\n\n    // Returns true iff the vector is perpendicular to the argument\n    isPerpendicularTo: function(vector) {\n\tvar dot = this.dot(vector);\n\treturn (dot === null) ? null : (Math.abs(dot) <= Sylvester.precision);\n    },\n\n    // Returns the result of adding the argument to the vector\n    add: function(value) {\n\tvar V = value.elements || value;\n\n\tif (this.elements.length != V.length) \n\t    return this.map(function(v) { return v + value });\n\telse\n\t    return this.map(function(x, i) { return x + V[i - 1]; });\n    },\n\n    // Returns the result of subtracting the argument from the vector\n    subtract: function(v) {\n\tif (typeof(v) == 'number')\n\t    return this.map(function(k) { return k - v; });\n\n\tvar V = v.elements || v;\n\tif (this.elements.length != V.length) { return null; }\n\treturn this.map(function(x, i) { return x - V[i - 1]; });\n    },\n\n    // Returns the result of multiplying the elements of the vector by the argument\n    multiply: function(k) {\n\treturn this.map(function(x) { return x * k; });\n    },\n\n    elementMultiply: function(v) {\n\treturn this.map(function(k, i) {\n\t    return v.e(i) * k;\n\t});\n    },\n\n    sum: function() {\n\tvar sum = 0;\n\tthis.map(function(x) { sum += x;});\n\treturn sum;\n    },\n\n    chomp: function(n) {\n\tvar elements = [];\n\n\tfor (var i = n; i < this.elements.length; i++) {\n\t    elements.push(this.elements[i]);\n\t}\n\n\treturn Vector.create(elements);\n    },\n\n    top: function(n) {\n\tvar elements = [];\n\n\tfor (var i = 0; i < n; i++) {\n\t    elements.push(this.elements[i]);\n\t}\n\n\treturn Vector.create(elements);\n    },\n\n    augment: function(elements) {\n\tvar newElements = this.elements;\n\n\tfor (var i = 0; i < elements.length; i++) {\n\t    newElements.push(elements[i]);\n\t}\n\n\treturn Vector.create(newElements);\n    },\n\n    x: function(k) { return this.multiply(k); },\n\n    log: function() {\n\treturn Vector.log(this);\n    },\n\n    elementDivide: function(vector) {\n\treturn this.map(function(v, i) {\n\t    return v / vector.e(i);\n\t});\n    },\n\n    product: function() {\n\tvar p = 1;\n\n\tthis.map(function(v) {\n\t    p *= v;\n\t});\n\n\treturn p;\n    },\n\n    // Returns the scalar product of the vector with the argument\n    // Both vectors must have equal dimensionality\n    dot: function(vector) {\n\tvar V = vector.elements || vector;\n\tvar i, product = 0, n = this.elements.length;\t\n\tif (n != V.length) { return null; }\n\twhile (n--) { product += this.elements[n] * V[n]; }\n\treturn product;\n    },\n\n    // Returns the vector product of the vector with the argument\n    // Both vectors must have dimensionality 3\n    cross: function(vector) {\n\tvar B = vector.elements || vector;\n\tif (this.elements.length != 3 || B.length != 3) { return null; }\n\tvar A = this.elements;\n\treturn Vector.create([\n\t    (A[1] * B[2]) - (A[2] * B[1]),\n\t    (A[2] * B[0]) - (A[0] * B[2]),\n\t    (A[0] * B[1]) - (A[1] * B[0])\n\t]);\n    },\n\n    // Returns the (absolute) largest element of the vector\n    max: function() {\n\tvar m = 0, i = this.elements.length;\n\twhile (i--) {\n\t    if (Math.abs(this.elements[i]) > Math.abs(m)) { m = this.elements[i]; }\n\t}\n\treturn m;\n    },\n\n\n    maxIndex: function() {\n\tvar m = 0, i = this.elements.length;\n\tvar maxIndex = -1;\n\n\twhile (i--) {\n\t    if (Math.abs(this.elements[i]) > Math.abs(m)) { \n\t\tm = this.elements[i]; \n\t\tmaxIndex = i + 1;\n\t    }\n\t}\n\n\treturn maxIndex;\n    },\n\n\n    // Returns the index of the first match found\n    indexOf: function(x) {\n\tvar index = null, n = this.elements.length;\n\tfor (var i = 0; i < n; i++) {\n\t    if (index === null && this.elements[i] == x) {\n\t\tindex = i + 1;\n\t    }\n\t}\n\treturn index;\n    },\n\n    // Returns a diagonal matrix with the vector's elements as its diagonal elements\n    toDiagonalMatrix: function() {\n\treturn Matrix.Diagonal(this.elements);\n    },\n\n    // Returns the result of rounding the elements of the vector\n    round: function() {\n\treturn this.map(function(x) { return Math.round(x); });\n    },\n\n    // Transpose a Vector, return a 1xn Matrix\n    transpose: function() {\n\tvar rows = this.elements.length;\n\tvar elements = [];\n\n\tfor (var i = 0; i < rows; i++) {\n\t    elements.push([this.elements[i]]);\n\t}\n\treturn Matrix.create(elements);\n    },\n\n    // Returns a copy of the vector with elements set to the given value if they\n    // differ from it by less than Sylvester.precision\n    snapTo: function(x) {\n\treturn this.map(function(y) {\n\t    return (Math.abs(y - x) <= Sylvester.precision) ? x : y;\n\t});\n    },\n\n    // Returns the vector's distance from the argument, when considered as a point in space\n    distanceFrom: function(obj) {\n\tif (obj.anchor || (obj.start && obj.end)) { return obj.distanceFrom(this); }\n\tvar V = obj.elements || obj;\n\tif (V.length != this.elements.length) { return null; }\n\tvar sum = 0, part;\n\tthis.each(function(x, i) {\n\t    part = x - V[i - 1];\n\t    sum += part * part;\n\t});\n\treturn Math.sqrt(sum);\n    },\n\n    // Returns true if the vector is point on the given line\n    liesOn: function(line) {\n\treturn line.contains(this);\n    },\n\n    // Return true iff the vector is a point in the given plane\n    liesIn: function(plane) {\n\treturn plane.contains(this);\n    },\n\n    // Rotates the vector about the given object. The object should be a\n    // point if the vector is 2D, and a line if it is 3D. Be careful with line directions!\n    rotate: function(t, obj) {\n\tvar V, R = null, x, y, z;\n\tif (t.determinant) { R = t.elements; }\n\tswitch (this.elements.length) {\n\tcase 2:\n            V = obj.elements || obj;\n            if (V.length != 2) { return null; }\n            if (!R) { R = Matrix.Rotation(t).elements; }\n            x = this.elements[0] - V[0];\n            y = this.elements[1] - V[1];\n            return Vector.create([\n\t\tV[0] + R[0][0] * x + R[0][1] * y,\n\t\tV[1] + R[1][0] * x + R[1][1] * y\n            ]);\n            break;\n\tcase 3:\n            if (!obj.direction) { return null; }\n            var C = obj.pointClosestTo(this).elements;\n            if (!R) { R = Matrix.Rotation(t, obj.direction).elements; }\n            x = this.elements[0] - C[0];\n            y = this.elements[1] - C[1];\n            z = this.elements[2] - C[2];\n            return Vector.create([\n\t\tC[0] + R[0][0] * x + R[0][1] * y + R[0][2] * z,\n\t\tC[1] + R[1][0] * x + R[1][1] * y + R[1][2] * z,\n\t\tC[2] + R[2][0] * x + R[2][1] * y + R[2][2] * z\n            ]);\n            break;\n\tdefault:\n            return null;\n\t}\n    },\n\n    // Returns the result of reflecting the point in the given point, line or plane\n    reflectionIn: function(obj) {\n\tif (obj.anchor) {\n\t    // obj is a plane or line\n\t    var P = this.elements.slice();\n\t    var C = obj.pointClosestTo(P).elements;\n\t    return Vector.create([C[0] + (C[0] - P[0]), C[1] + (C[1] - P[1]), C[2] + (C[2] - (P[2] || 0))]);\n\t} else {\n\t    // obj is a point\n\t    var Q = obj.elements || obj;\n\t    if (this.elements.length != Q.length) { return null; }\n\t    return this.map(function(x, i) { return Q[i - 1] + (Q[i - 1] - x); });\n\t}\n    },\n\n    // Utility to make sure vectors are 3D. If they are 2D, a zero z-component is added\n    to3D: function() {\n\tvar V = this.dup();\n\tswitch (V.elements.length) {\n\tcase 3: break;\n\tcase 2: V.elements.push(0); break;\n\tdefault: return null;\n\t}\n\treturn V;\n    },\n\n    // Returns a string representation of the vector\n    inspect: function() {\n\treturn '[' + this.elements.join(', ') + ']';\n    },\n\n    // Set vector's elements from an array\n    setElements: function(els) {\n\tthis.elements = (els.elements || els).slice();\n\treturn this;\n    }\n};\n\n// Constructor function\nVector.create = function(elements) {\n    var V = new Vector();\n    return V.setElements(elements);\n};\n\n// i, j, k unit vectors\nVector.i = Vector.create([1, 0, 0]);\nVector.j = Vector.create([0, 1, 0]);\nVector.k = Vector.create([0, 0, 1]);\n\n// Random vector of size n\nVector.Random = function(n) {\n    var elements = [];\n    while (n--) { elements.push(Math.random()); }\n    return Vector.create(elements);\n};\n\nVector.Fill = function(n, v) {\n    var elements = [];\n    while (n--) { elements.push(v); }\n    return Vector.create(elements);\n};\n\n// Vector filled with zeros\nVector.Zero = function(n) {\n    return Vector.Fill(n, 0);\n};\n\nVector.One = function(n) {\n    return Vector.Fill(n, 1);\n};\n\nVector.log = function(v) {\n    return v.map(function(x) {\n\treturn Math.log(x);\n    });\n};\n\nmodule.exports = Vector;\n","// Copyright (c) 2011, Chris Umbel, James Coglan\n// This file is required in order for any other classes to work. Some Vector methods work with the\n// other Sylvester classes and are useless unless they are included. Other classes such as Line and\n// Plane will not function at all without Vector being loaded first.           \n\nMath.sign = function(x) {\n    return x < 0 ? -1: 1;\n}\n                                              \nvar Sylvester = {\n    precision: 1e-6,\n    approxPrecision: 1e-5\n};\n\nmodule.exports = Sylvester;\n","// Copyright (c) 2011, Chris Umbel, James Coglan\n// Matrix class - depends on Vector.\n\nvar fs = require('fs');\nvar Sylvester = require('./sylvester');\nvar Vector = require('./vector');\n\n// augment a matrix M with identity rows/cols\nfunction identSize(M, m, n, k) {\n    var e = M.elements;\n    var i = k - 1;\n\n    while(i--) {\n\tvar row = [];\n\t\n\tfor(var j = 0; j < n; j++)\n\t    row.push(j == i ? 1 : 0);\n\t\n        e.unshift(row);\n    }\n    \n    for(var i = k - 1; i < m; i++) {\n        while(e[i].length < n)\n            e[i].unshift(0);\n    }\n\n    return $M(e);\n}\n\nfunction pca(X) {\n    var Sigma = X.transpose().x(X).x(1 / X.rows());\n    var svd = Sigma.svd();\n    return {U: svd.U, S: svd.S};\n}\n\n// singular value decomposition in pure javascript\nfunction svdJs() {\n    var A = this;\n    var V = Matrix.I(A.rows());\n    var S = A.transpose();\n    var U = Matrix.I(A.cols());\n    var err = Number.MAX_VALUE;\n    var i = 0;\n    var maxLoop = 100;\n\n    while(err > 2.2737e-13 && i < maxLoop) {\n        var qr = S.transpose().qrJs();\n        S = qr.R;\n        V = V.x(qr.Q);\n        qr = S.transpose().qrJs();\n        U = U.x(qr.Q);\n        S = qr.R;\n\n        var e = S.triu(1).unroll().norm();\n        var f = S.diagonal().norm();\n\n        if(f == 0)\n            f = 1;\n\n        err = e / f;\n\n        i++;\n    }\n\n    var ss = S.diagonal();\n    var s = [];\n\n    for(var i = 1; i <= ss.cols(); i++) {\n        var ssn = ss.e(i);\n        s.push(Math.abs(ssn));\n\n        if(ssn < 0) {\n            for(var j = 0; j < U.rows(); j++) {\n                V.elements[j][i - 1] = -(V.elements[j][i - 1]);\n            }\n        }\n    }\n\n    return {U: U, S: $V(s).toDiagonalMatrix(), V: V};\n}\n\n// singular value decomposition using LAPACK\nfunction svdPack() {\n    var result = lapack.sgesvd('A', 'A', this.elements);\n\n    return {\n        U: $M(result.U),\n        S: $M(result.S).column(1).toDiagonalMatrix(),\n\tV: $M(result.VT).transpose()\n    };\n}\n\n// QR decomposition in pure javascript\nfunction qrJs() {\n    var m = this.rows();\n    var n = this.cols();\n    var Q = Matrix.I(m);\n    var A = this;\n    \n    for(var k = 1; k < Math.min(m, n); k++) {\n\tvar ak = A.slice(k, 0, k, k).col(1);\n\tvar oneZero = [1];\n\t\n\twhile(oneZero.length <=  m - k)\n\t    oneZero.push(0);\n\t\n\toneZero = $V(oneZero);\n\tvar vk = ak.add(oneZero.x(ak.norm() * Math.sign(ak.e(1))));\n\tvar Vk = $M(vk);\n\tvar Hk = Matrix.I(m - k + 1).subtract(Vk.x(2).x(Vk.transpose()).div(Vk.transpose().x(Vk).e(1, 1)));\n\tvar Qk = identSize(Hk, m, n, k);\n\tA = Qk.x(A);\n\t// slow way to compute Q\n\tQ = Q.x(Qk);\n    }\n    \n    return {Q: Q, R: A};\n}\n\n// QR decomposition using LAPACK\nfunction qrPack() {\n    var qr = lapack.qr(this.elements);\n\n    return {\n\tQ: $M(qr.Q),\n\tR: $M(qr.R)\n    };\n}\n\nfunction Matrix() {}\nMatrix.prototype = {\n    // solve a system of linear equations (work in progress)\n    solve: function(b) {\n\tvar lu = this.lu();\n\tb = lu.P.x(b);\n\tvar y = lu.L.forwardSubstitute(b);\n\tvar x = lu.U.backSubstitute(y);\n\treturn lu.P.x(x);\n\t//return this.inv().x(b);\n    },\n\n    // project a matrix onto a lower dim\n    pcaProject: function(k, U) {\n\tvar U = U || pca(this).U;\n\tvar Ureduce= U.slice(1, U.rows(), 1, k);\n\treturn {Z: this.x(Ureduce), U: U};\n    },\n\n    // recover a matrix to a higher dimension\n    pcaRecover: function(U) {\n\tvar k = this.cols();\n\tvar Ureduce = U.slice(1, U.rows(), 1, k);\n\treturn this.x(Ureduce.transpose());\n    },    \n\n    // grab the upper triangular part of the matrix\n    triu: function(k) {\n\tif(!k)\n\t    k = 0;\n\t\n\treturn this.map(function(x, i, j) {\n\t    return j - i >= k ? x : 0;\n\t});\n    },\n\n    // unroll a matrix into a vector\n    unroll: function() {\n\tvar v = [];\n\t\n\tfor(var i = 1; i <= this.cols(); i++) {\n\t    for(var j = 1; j <= this.rows(); j++) {\n\t\tv.push(this.e(j, i));\n\t    }\n\t}\n\n\treturn $V(v);\n    },\n\n    // return a sub-block of the matrix\n    slice: function(startRow, endRow, startCol, endCol) {\n\tvar x = [];\n\t\n\tif(endRow == 0)\n\t    endRow = this.rows();\n\t\n\tif(endCol == 0)\n\t    endCol = this.cols();\n\n\tfor(i = startRow; i <= endRow; i++) {\n\t    var row = [];\n\n\t    for(j = startCol; j <= endCol; j++) {\n\t\trow.push(this.e(i, j));\n\t    }\n\n\t    x.push(row);\n\t}\n\n\treturn $M(x);\n    },\n\n    // Returns element (i,j) of the matrix\n    e: function(i,j) {\n\tif (i < 1 || i > this.elements.length || j < 1 || j > this.elements[0].length) { return null; }\n\treturn this.elements[i - 1][j - 1];\n    },\n\n    // Returns row k of the matrix as a vector\n    row: function(i) {\n\tif (i > this.elements.length) { return null; }\n\treturn $V(this.elements[i - 1]);\n    },\n\n    // Returns column k of the matrix as a vector\n    col: function(j) {\n\tif (j > this.elements[0].length) { return null; }\n\tvar col = [], n = this.elements.length;\n\tfor (var i = 0; i < n; i++) { col.push(this.elements[i][j - 1]); }\n\treturn $V(col);\n    },\n\n    // Returns the number of rows/columns the matrix has\n    dimensions: function() {\n\treturn {rows: this.elements.length, cols: this.elements[0].length};\n    },\n\n    // Returns the number of rows in the matrix\n    rows: function() {\n\treturn this.elements.length;\n    },\n\n    // Returns the number of columns in the matrix\n    cols: function() {\n\treturn this.elements[0].length;\n    },\n\n    approxEql: function(matrix) {\n\treturn this.eql(matrix, Sylvester.approxPrecision);\n    },\n\n    // Returns true iff the matrix is equal to the argument. You can supply\n    // a vector as the argument, in which case the receiver must be a\n    // one-column matrix equal to the vector.\n    eql: function(matrix, precision) {\n\tvar M = matrix.elements || matrix;\n\tif (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }\n\tif (this.elements.length != M.length ||\n            this.elements[0].length != M[0].length) { return false; }\n\tvar i = this.elements.length, nj = this.elements[0].length, j;\n\twhile (i--) { j = nj;\n\t\t      while (j--) {\n\t\t\t  if (Math.abs(this.elements[i][j] - M[i][j]) > (precision || Sylvester.precision)) { return false; }\n\t\t      }\n\t\t    }\n\treturn true;\n    },\n\n    // Returns a copy of the matrix\n    dup: function() {\n\treturn Matrix.create(this.elements);\n    },\n\n    // Maps the matrix to another matrix (of the same dimensions) according to the given function\n    map: function(fn) {\n    var els = [], i = this.elements.length, nj = this.elements[0].length, j;\n\twhile (i--) { j = nj;\n\t\t      els[i] = [];\n\t\t      while (j--) {\n\t\t\t  els[i][j] = fn(this.elements[i][j], i + 1, j + 1);\n\t\t      }\n\t\t    }\n\treturn Matrix.create(els);\n    },\n\n    // Returns true iff the argument has the same dimensions as the matrix\n    isSameSizeAs: function(matrix) {\n\tvar M = matrix.elements || matrix;\n\tif (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }\n\treturn (this.elements.length == M.length &&\n\t\tthis.elements[0].length == M[0].length);\n    },\n\n    // Returns the result of adding the argument to the matrix\n    add: function(matrix) {\n\tif(typeof(matrix) == 'number') {\n\t    return this.map(function(x, i, j) { return x + matrix});\n\t} else {\n\t    var M = matrix.elements || matrix;\n\t    if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }\n\t    if (!this.isSameSizeAs(M)) { return null; }\n\t    return this.map(function(x, i, j) { return x + M[i - 1][j - 1]; });\n\t}\n    },\n\n    // Returns the result of subtracting the argument from the matrix\n    subtract: function(matrix) {\n\tif(typeof(matrix) == 'number') {\n\t    return this.map(function(x, i, j) { return x - matrix});\n\t} else {\n\t    var M = matrix.elements || matrix;\n\t    if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }\n\t    if (!this.isSameSizeAs(M)) { return null; }\n\t    return this.map(function(x, i, j) { return x - M[i - 1][j - 1]; });\n\t}\n    },\n\n    // Returns true iff the matrix can multiply the argument from the left\n    canMultiplyFromLeft: function(matrix) {\n\tvar M = matrix.elements || matrix;\n\tif (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }\n\t// this.columns should equal matrix.rows\n\treturn (this.elements[0].length == M.length);\n    },\n\n    // Returns the result of a multiplication-style operation the matrix from the right by the argument.\n    // If the argument is a scalar then just operate on all the elements. If the argument is\n    // a vector, a vector is returned, which saves you having to remember calling\n    // col(1) on the result.\n    mulOp: function(matrix, op) {\n\tif (!matrix.elements) {\n\t    return this.map(function(x) { return op(x, matrix); });\n\t}\n\n\tvar returnVector = matrix.modulus ? true : false;\n\tvar M = matrix.elements || matrix;\n\tif (typeof(M[0][0]) == 'undefined') \n\t    M = Matrix.create(M).elements;\n\tif (!this.canMultiplyFromLeft(M)) \n\t    return null; \n\tvar e = this.elements, rowThis, rowElem, elements = [],\n        sum, m = e.length, n = M[0].length, o = e[0].length, i = m, j, k;\n\n\twhile (i--) {\n            rowElem = [];\n            rowThis = e[i];\n            j = n;\n\n            while (j--) {\n\t\tsum = 0;\n\t\tk = o;\n\n\t\twhile (k--) {\n                    sum += op(rowThis[k], M[k][j]);\n\t\t}\n\n\t\trowElem[j] = sum;\n            }\n\n            elements[i] = rowElem;\n\t}\n\n\tvar M = Matrix.create(elements);\n\treturn returnVector ? M.col(1) : M;\n    },\n\n    // Returns the result of dividing the matrix from the right by the argument.\n    // If the argument is a scalar then just divide all the elements. If the argument is\n    // a vector, a vector is returned, which saves you having to remember calling\n    // col(1) on the result.\n    div: function(matrix) {\n\treturn this.mulOp(matrix, function(x, y) { return x / y});\n    },\n\n    // Returns the result of multiplying the matrix from the right by the argument.\n    // If the argument is a scalar then just multiply all the elements. If the argument is\n    // a vector, a vector is returned, which saves you having to remember calling\n    // col(1) on the result.\n    multiply: function(matrix) {\n\treturn this.mulOp(matrix, function(x, y) { return x * y});\n    },\n\n    x: function(matrix) { return this.multiply(matrix); },\n\n    elementMultiply: function(v) {\n        return this.map(function(k, i, j) {\n            return v.e(i, j) * k;\n        });\n    },\n\n    // sum all elements in the matrix\n    sum: function() {\n        var sum = 0;\n\n        this.map(function(x) { sum += x;});\n\n        return sum;\n    },\n\n    // Returns a Vector of each colum averaged.\n    mean: function() {\n      var dim = this.dimensions();\n      var r = [];\n      for (var i = 1; i <= dim.cols; i++) {\n        r.push(this.col(i).sum() / dim.rows);\n      }\n      return $V(r);\n    },\n\n    column: function(n) {\n\treturn this.col(n);\n    },\n\n    // element-wise log\n    log: function() {\n\treturn this.map(function(x) { return Math.log(x); });\n    },\n\n    // Returns a submatrix taken from the matrix\n    // Argument order is: start row, start col, nrows, ncols\n    // Element selection wraps if the required index is outside the matrix's bounds, so you could\n    // use this to perform row/column cycling or copy-augmenting.\n    minor: function(a, b, c, d) {\n\tvar elements = [], ni = c, i, nj, j;\n\tvar rows = this.elements.length, cols = this.elements[0].length;\n\twhile (ni--) {\n\t    i = c - ni - 1;\n\t    elements[i] = [];\n\t    nj = d;\n\t    while (nj--) {\n\t\tj = d - nj - 1;\n\t\telements[i][j] = this.elements[(a + i - 1) % rows][(b + j - 1) % cols];\n\t    }\n\t}\n\treturn Matrix.create(elements);\n    },\n\n    // Returns the transpose of the matrix\n    transpose: function() {\n    var rows = this.elements.length, i, cols = this.elements[0].length, j;\n\tvar elements = [], i = cols;\n\twhile (i--) {\n\t    j = rows;\n\t    elements[i] = [];\n\t    while (j--) {\n\t\telements[i][j] = this.elements[j][i];\n\t    }\n\t}\n\treturn Matrix.create(elements);\n    },\n\n    // Returns true iff the matrix is square\n    isSquare: function() {\n\treturn (this.elements.length == this.elements[0].length);\n    },\n\n    // Returns the (absolute) largest element of the matrix\n    max: function() {\n\tvar m = 0, i = this.elements.length, nj = this.elements[0].length, j;\n\twhile (i--) {\n\t    j = nj;\n\t    while (j--) {\n\t\tif (Math.abs(this.elements[i][j]) > Math.abs(m)) { m = this.elements[i][j]; }\n\t    }\n\t}\n\treturn m;\n    },\n\n    // Returns the indeces of the first match found by reading row-by-row from left to right\n    indexOf: function(x) {\n\tvar index = null, ni = this.elements.length, i, nj = this.elements[0].length, j;\n\tfor (i = 0; i < ni; i++) {\n\t    for (j = 0; j < nj; j++) {\n\t\tif (this.elements[i][j] == x) { return {i: i + 1, j: j + 1}; }\n\t    }\n\t}\n\treturn null;\n    },\n\n    // If the matrix is square, returns the diagonal elements as a vector.\n    // Otherwise, returns null.\n    diagonal: function() {\n\tif (!this.isSquare) { return null; }\n\tvar els = [], n = this.elements.length;\n\tfor (var i = 0; i < n; i++) {\n\t    els.push(this.elements[i][i]);\n\t}\n\treturn $V(els);\n    },\n\n    // Make the matrix upper (right) triangular by Gaussian elimination.\n    // This method only adds multiples of rows to other rows. No rows are\n    // scaled up or switched, and the determinant is preserved.\n    toRightTriangular: function() {\n\tvar M = this.dup(), els;\n\tvar n = this.elements.length, i, j, np = this.elements[0].length, p;\n\tfor (i = 0; i < n; i++) {\n\t    if (M.elements[i][i] == 0) {\n\t\tfor (j = i + 1; j < n; j++) {\n\t\t    if (M.elements[j][i] != 0) {\n\t\t\tels = [];\n\t\t\tfor (p = 0; p < np; p++) { els.push(M.elements[i][p] + M.elements[j][p]); }\n\t\t\tM.elements[i] = els;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t    }\n\t    if (M.elements[i][i] != 0) {\n\t\tfor (j = i + 1; j < n; j++) {\n\t\t    var multiplier = M.elements[j][i] / M.elements[i][i];\n\t\t    els = [];\n\t\t    for (p = 0; p < np; p++) {\n\t\t\t// Elements with column numbers up to an including the number\n\t\t\t// of the row that we're subtracting can safely be set straight to\n\t\t\t// zero, since that's the point of this routine and it avoids having\n\t\t\t// to loop over and correct rounding errors later\n\t\t\tels.push(p <= i ? 0 : M.elements[j][p] - M.elements[i][p] * multiplier);\n\t\t    }\n\t\t    M.elements[j] = els;\n\t\t}\n\t    }\n\t}\n\treturn M;\n    },\n\n    toUpperTriangular: function() { return this.toRightTriangular(); },\n\n    // Returns the determinant for square matrices\n    determinant: function() {\n\tif (!this.isSquare()) { return null; }\n\tif (this.cols == 1 && this.rows == 1) { return this.row(1); }\n\tif (this.cols == 0 && this.rows == 0) { return 1; }\n\tvar M = this.toRightTriangular();\n\tvar det = M.elements[0][0], n = M.elements.length;\n\tfor (var i = 1; i < n; i++) {\n\t    det = det * M.elements[i][i];\n\t}\n\treturn det;\n    },\n    det: function() { return this.determinant(); },\n\n    // Returns true iff the matrix is singular\n    isSingular: function() {\n\treturn (this.isSquare() && this.determinant() === 0);\n    },\n\n    // Returns the trace for square matrices\n    trace: function() {\n\tif (!this.isSquare()) { return null; }\n\tvar tr = this.elements[0][0], n = this.elements.length;\n\tfor (var i = 1; i < n; i++) {\n\t    tr += this.elements[i][i];\n\t}\n\treturn tr;\n    },\n\n    tr: function() { return this.trace(); },\n\n    // Returns the rank of the matrix\n    rank: function() {\n\tvar M = this.toRightTriangular(), rank = 0;\n\tvar i = this.elements.length, nj = this.elements[0].length, j;\n\twhile (i--) {\n\t    j = nj;\n\t    while (j--) {\n\t\tif (Math.abs(M.elements[i][j]) > Sylvester.precision) { rank++; break; }\n\t    }\n\t}\n\treturn rank;\n    },\n\n    rk: function() { return this.rank(); },\n\n    // Returns the result of attaching the given argument to the right-hand side of the matrix\n    augment: function(matrix) {\n\tvar M = matrix.elements || matrix;\n\tif (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }\n\tvar T = this.dup(), cols = T.elements[0].length;\n\tvar i = T.elements.length, nj = M[0].length, j;\n\tif (i != M.length) { return null; }\n\twhile (i--) {\n\t    j = nj;\n\t    while (j--) {\n\t\tT.elements[i][cols + j] = M[i][j];\n\t    }\n\t}\n\treturn T;\n    },\n\n    // Returns the inverse (if one exists) using Gauss-Jordan\n    inverse: function() {\n\tif (!this.isSquare() || this.isSingular()) { return null; }\n\tvar n = this.elements.length, i = n, j;\n\tvar M = this.augment(Matrix.I(n)).toRightTriangular();\n\tvar np = M.elements[0].length, p, els, divisor;\n\tvar inverse_elements = [], new_element;\n\t// Matrix is non-singular so there will be no zeros on the diagonal\n\t// Cycle through rows from last to first\n\twhile (i--) {\n\t    // First, normalise diagonal elements to 1\n\t    els = [];\n\t    inverse_elements[i] = [];\n\t    divisor = M.elements[i][i];\n\t    for (p = 0; p < np; p++) {\n        new_element = M.elements[i][p] / divisor;\n\t\tels.push(new_element);\n\t\t// Shuffle off the current row of the right hand side into the results\n\t\t// array as it will not be modified by later runs through this loop\n\t\tif (p >= n) { inverse_elements[i].push(new_element); }\n\t    }\n\t    M.elements[i] = els;\n\t    // Then, subtract this row from those above it to\n\t    // give the identity matrix on the left hand side\n\t    j = i;\n\t    while (j--) {\n\t\tels = [];\n\t\tfor (p = 0; p < np; p++) {\n\t\t    els.push(M.elements[j][p] - M.elements[i][p] * M.elements[j][i]);\n\t\t}\n\t\tM.elements[j] = els;\n\t    }\n\t}\n\treturn Matrix.create(inverse_elements);\n    },\n\n    inv: function() { return this.inverse(); },\n\n    // Returns the result of rounding all the elements\n    round: function() {\n\treturn this.map(function(x) { return Math.round(x); });\n    },\n\n    // Returns a copy of the matrix with elements set to the given value if they\n    // differ from it by less than Sylvester.precision\n    snapTo: function(x) {\n\treturn this.map(function(p) {\n\t    return (Math.abs(p - x) <= Sylvester.precision) ? x : p;\n\t});\n    },\n\n    // Returns a string representation of the matrix\n    inspect: function() {\n\tvar matrix_rows = [];\n\tvar n = this.elements.length;\n\tfor (var i = 0; i < n; i++) {\n\t    matrix_rows.push($V(this.elements[i]).inspect());\n\t}\n\treturn matrix_rows.join('\\n');\n    },\n\n    // Returns a array representation of the matrix\n    toArray: function() {\n    \tvar matrix_rows = [];\n    \tvar n = this.elements.length;\n    \tfor (var i = 0; i < n; i++) {\n        matrix_rows.push(this.elements[i]);\n    \t}\n      return matrix_rows;\n    },\n\n\n    // Set the matrix's elements from an array. If the argument passed\n    // is a vector, the resulting matrix will be a single column.\n    setElements: function(els) {\n\tvar i, j, elements = els.elements || els;\n\tif (typeof(elements[0][0]) != 'undefined') {\n\t    i = elements.length;\n\t    this.elements = [];\n\t    while (i--) {\n\t\tj = elements[i].length;\n\t\tthis.elements[i] = [];\n\t\twhile (j--) {\n\t\t    this.elements[i][j] = elements[i][j];\n\t\t}\n\t    }\n\t    return this;\n\t}\n\tvar n = elements.length;\n\tthis.elements = [];\n\tfor (i = 0; i < n; i++) {\n\t    this.elements.push([elements[i]]);\n\t}\n\treturn this;\n    },\n\n    // return the indexes of the columns with the largest value\n    // for each row\n    maxColumnIndexes: function() {\n\tvar maxes = [];\n\n\tfor(var i = 1; i <= this.rows(); i++) {\n\t    var max = null;\n\t    var maxIndex = -1;\n\n\t    for(var j = 1; j <= this.cols(); j++) {\n\t\tif(max === null || this.e(i, j) > max) {\n\t\t    max = this.e(i, j);\n\t\t    maxIndex = j;\n\t\t}\n\t    }\n\n\t    maxes.push(maxIndex);\n\t}\n\n\treturn $V(maxes);\n    },\n\n    // return the largest values in each row\n    maxColumns: function() {\n\tvar maxes = [];\n\n\tfor(var i = 1; i <= this.rows(); i++) {\n\t    var max = null;\n\n\t    for(var j = 1; j <= this.cols(); j++) {\n\t\tif(max === null || this.e(i, j) > max) {\n\t\t    max = this.e(i, j);\n\t\t}\n\t    }\n\n\t    maxes.push(max);\n\t}\n\n\treturn $V(maxes);\n    },\n\n    // return the indexes of the columns with the smallest values\n    // for each row\n    minColumnIndexes: function() {\n\tvar mins = [];\n\n\tfor(var i = 1; i <= this.rows(); i++) {\n\t    var min = null;\n\t    var minIndex = -1;\n\n\t    for(var j = 1; j <= this.cols(); j++) {\n\t\tif(min === null || this.e(i, j) < min) {\n\t\t    min = this.e(i, j);\n\t\t    minIndex = j;\n\t\t}\n\t    }\n\n\t    mins.push(minIndex);\n\t}\n\n\treturn $V(mins);\n    },\n\n    // return the smallest values in each row\n    minColumns: function() {\n\tvar mins = [];\n\n\tfor(var i = 1; i <= this.rows(); i++) {\n\t    var min = null;\n\n\t    for(var j = 1; j <= this.cols(); j++) {\n\t\tif(min === null || this.e(i, j) < min) {\n\t\t    min = this.e(i, j);\n\t\t}\n\t    }\n\n\t    mins.push(min);\n\t}\n\n\treturn $V(mins);\n    },\n    \n    // perorm a partial pivot on the matrix. essentially move the largest\n    // row below-or-including the pivot and replace the pivot's row with it.\n    // a pivot matrix is returned so multiplication can perform the transform.\n    partialPivot: function(k, j, P, A, L) {\n\tvar maxIndex = 0;\n\tvar maxValue = 0;\n\n\tfor(var i = k; i <= A.rows(); i++) {\n\t    if(Math.abs(A.e(i, j)) > maxValue) {\n\t\tmaxValue = Math.abs(A.e(k, j));\n\t\tmaxIndex = i;\n\t    }\n\t}\n\n\tif(maxIndex != k) {\n\t    var tmp = A.elements[k - 1];\n\t    A.elements[k - 1] = A.elements[maxIndex - 1];\n\t    A.elements[maxIndex - 1] = tmp;\n\t    \n\t    P.elements[k - 1][k - 1] = 0;\n\t    P.elements[k - 1][maxIndex - 1] = 1;\n\t    P.elements[maxIndex - 1][maxIndex - 1] = 0;\n\t    P.elements[maxIndex - 1][k - 1] = 1;\n\t}\n\t\n\treturn P;\n    },\n\n    // solve lower-triangular matrix * x = b via forward substitution\n    forwardSubstitute: function(b) {\n\tvar xa = [];\n\n\tfor(var i = 1; i <= this.rows(); i++) {\n\t    var w = 0;\n\n\t    for(var j = 1; j < i; j++) {\n\t\tw += this.e(i, j) * xa[j - 1];\n\t    }\n\n\t    xa.push((b.e(i) - w) / this.e(i, i));\n\t}\n\n\treturn $V(xa);\n    },\n\n    // solve an upper-triangular matrix * x = b via back substitution\n    backSubstitute: function(b) {\n\tvar xa = [];\n\n\tfor(var i = this.rows(); i > 0; i--) {\n\t    var w = 0;\n\n\t    for(var j = this.cols(); j > i; j--) {\n\t\tw += this.e(i, j) * xa[this.rows() - j];\n\t    }\n\n\t    xa.push((b.e(i) - w) / this.e(i, i));\n\t}\n\n\treturn $V(xa.reverse());\n    },\n    \n    luPack: luPack,\n    luJs: luJs,\n    svdJs: svdJs,\n    svdPack: svdPack,\n    qrJs: qrJs,\n    qrPack: qrPack\n};\n\n// LU factorization from LAPACK\nfunction luPack() {\n    var lu = lapack.lu(this.elements);\n    return {\n\tL: $M(lu.L),\n\tU: $M(lu.U),\n\tP: $M(lu.P)\n\t// don't pass back IPIV\n    };\n}\n\nvar tolerance =  1.4901e-08;\n\n// pure Javascript LU factorization\nfunction luJs() {\n    var A = this.dup();\n    var L = Matrix.I(A.rows());\n    var P = Matrix.I(A.rows());\n    var U = Matrix.Zeros(A.rows(), A.cols());\n    var p = 1;\n\n    for(var k = 1; k <= Math.min(A.cols(), A.rows()); k++) {\n\tP = A.partialPivot(k, p, P, A, L);\n\t\n\tfor(var i = k + 1; i <= A.rows(); i++) {\n\t    var l = A.e(i, p) / A.e(k, p);\n\t    L.elements[i - 1][k - 1] = l;\n\t    \n\t    for(var j = k + 1 ; j <= A.cols(); j++) {\n\t\tA.elements[i - 1][j - 1] -= A.e(k, j) * l;\n\t    }\n\t}\n\t\n\tfor(var j = k; j <= A.cols(); j++) {\n\t    U.elements[k - 1][j - 1] = A.e(k, j);\n\t}\n\n\tif(p < A.cols())\n\t    p++;\n    }    \n    \n    return {L: L, U: U, P: P};\n}\n\nfunction getLapack() {\n    try {\n\treturn require('lapack');\n    } catch(e) {}\n}\n\nvar lapack;\n\n// if node-lapack is installed use the fast, native fortran routines\nif(lapack = getLapack()) {\n    Matrix.prototype.svd = svdPack;\n    Matrix.prototype.qr = qrPack;\n    Matrix.prototype.lu = luPack;\n} else {\n    // otherwise use the slower pure Javascript versions\n    Matrix.prototype.svd = svdJs;\n    Matrix.prototype.qr = qrJs;\n    Matrix.prototype.lu = luJs;\n}\n\n// Constructor function\nMatrix.create = function(aElements, ignoreLapack) {\n    var M = new Matrix().setElements(aElements);\n    return M;\n};\n\n// Identity matrix of size n\nMatrix.I = function(n) {\n    var els = [], i = n, j;\n    while (i--) {\n\tj = n;\n\tels[i] = [];\n\twhile (j--) {\n\t    els[i][j] = (i == j) ? 1 : 0;\n\t}\n    }\n    return Matrix.create(els);\n};\n\nMatrix.loadFile = function(file) {\n    var contents = fs.readFileSync(file, 'utf-8');\n    var matrix = [];\n\n    var rowArray = contents.split('\\n');\n    for (var i = 0; i < rowArray.length; i++) {\n\tvar d = rowArray[i].split(',');\n\tif (d.length > 1) {\n\t    matrix.push(d);\n\t}\n    }\n\n    var M = new Matrix();\n    return M.setElements(matrix);\n};\n\n// Diagonal matrix - all off-diagonal elements are zero\nMatrix.Diagonal = function(elements) {\n    var i = elements.length;\n    var M = Matrix.I(i);\n    while (i--) {\n\tM.elements[i][i] = elements[i];\n    }\n    return M;\n};\n\n// Rotation matrix about some axis. If no axis is\n// supplied, assume we're after a 2D transform\nMatrix.Rotation = function(theta, a) {\n    if (!a) {\n\treturn Matrix.create([\n\t    [Math.cos(theta), -Math.sin(theta)],\n\t    [Math.sin(theta), Math.cos(theta)]\n\t]);\n    }\n    var axis = a.dup();\n    if (axis.elements.length != 3) { return null; }\n    var mod = axis.modulus();\n    var x = axis.elements[0] / mod, y = axis.elements[1] / mod, z = axis.elements[2] / mod;\n    var s = Math.sin(theta), c = Math.cos(theta), t = 1 - c;\n    // Formula derived here: http://www.gamedev.net/reference/articles/article1199.asp\n    // That proof rotates the co-ordinate system so theta\n    // becomes -theta and sin becomes -sin here.\n    return Matrix.create([\n\t[t * x * x + c, t * x * y - s * z, t * x * z + s * y],\n\t[t * x * y + s * z, t * y * y + c, t * y * z - s * x],\n\t[t * x * z - s * y, t * y * z + s * x, t * z * z + c]\n    ]);\n};\n\n// Special case rotations\nMatrix.RotationX = function(t) {\n    var c = Math.cos(t), s = Math.sin(t);\n    return Matrix.create([\n\t[1, 0, 0],\n\t[0, c, -s],\n\t[0, s, c]\n    ]);\n};\n\nMatrix.RotationY = function(t) {\n    var c = Math.cos(t), s = Math.sin(t);\n    return Matrix.create([\n\t[c, 0, s],\n\t[0, 1, 0],\n\t[-s, 0, c]\n    ]);\n};\n\nMatrix.RotationZ = function(t) {\n    var c = Math.cos(t), s = Math.sin(t);\n    return Matrix.create([\n\t[c, -s, 0],\n\t[s, c, 0],\n\t[0, 0, 1]\n    ]);\n};\n\n// Random matrix of n rows, m columns\nMatrix.Random = function(n, m) {\n    if (arguments.length === 1) m = n;\n    return Matrix.Zero(n, m).map(\n\tfunction() { return Math.random(); }\n  );\n};\n\nMatrix.Fill = function(n, m, v) {\n    if (arguments.length === 2) {\n\tv = m;\n\tm = n;\n    }\n\n    var els = [], i = n, j;\n\n    while (i--) {\n\tj = m;\n\tels[i] = [];\n\n\twhile (j--) {\n\t    els[i][j] = v;\n\t}\n    }\n\n    return Matrix.create(els);\n};\n\n// Matrix filled with zeros\nMatrix.Zero = function(n, m) {\n    return Matrix.Fill(n, m, 0);\n};\n\n// Matrix filled with zeros\nMatrix.Zeros = function(n, m) {\n    return Matrix.Zero(n, m);\n};\n\n// Matrix filled with ones\nMatrix.One = function(n, m) {\n    return Matrix.Fill(n, m, 1);\n};\n\n// Matrix filled with ones\nMatrix.Ones = function(n, m) {\n    return Matrix.One(n, m);\n};\n\nmodule.exports = Matrix;\n","/**\n * Our default sum is the [Kahan-Babuska algorithm](https://pdfs.semanticscholar.org/1760/7d467cda1d0277ad272deb2113533131dc09.pdf).\n * This method is an improvement over the classical\n * [Kahan summation algorithm](https://en.wikipedia.org/wiki/Kahan_summation_algorithm).\n * It aims at computing the sum of a list of numbers while correcting for\n * floating-point errors. Traditionally, sums are calculated as many\n * successive additions, each one with its own floating-point roundoff. These\n * losses in precision add up as the number of numbers increases. This alternative\n * algorithm is more accurate than the simple way of calculating sums by simple\n * addition.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sum([1, 2, 3]); // => 6\n */\nfunction sum(x) {\n    // If the array is empty, we needn't bother computing its sum\n    if (x.length === 0) {\n        return 0;\n    }\n\n    // Initializing the sum as the first number in the array\n    let sum = x[0];\n\n    // Keeping track of the floating-point error correction\n    let correction = 0;\n\n    let transition;\n\n    for (let i = 1; i < x.length; i++) {\n        transition = sum + x[i];\n\n        // Here we need to update the correction in a different fashion\n        // if the new absolute value is greater than the absolute sum\n        if (Math.abs(sum) >= Math.abs(x[i])) {\n            correction += sum - transition + x[i];\n        } else {\n            correction += x[i] - transition + sum;\n        }\n\n        sum = transition;\n    }\n\n    // Returning the corrected sum\n    return sum + correction;\n}\n\nexport default sum;\n","import sum from \"./sum\";\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction mean(x) {\n    if (x.length === 0) {\n        throw new Error(\"mean requires at least one data point\");\n    }\n\n    return sum(x) / x.length;\n}\n\nexport default mean;\n","import mean from \"./mean\";\n\n/**\n * The sum of deviations to the Nth power.\n * When n=2 it's the sum of squared deviations.\n * When n=3 it's the sum of cubed deviations.\n *\n * @param {Array<number>} x\n * @param {number} n power\n * @returns {number} sum of nth power deviations\n *\n * @example\n * var input = [1, 2, 3];\n * // since the variance of a set is the mean squared\n * // deviations, we can calculate that with sumNthPowerDeviations:\n * sumNthPowerDeviations(input, 2) / input.length;\n */\nfunction sumNthPowerDeviations(x, n) {\n    const meanValue = mean(x);\n    let sum = 0;\n    let tempValue;\n    let i;\n\n    // This is an optimization: when n is 2 (we're computing a number squared),\n    // multiplying the number by itself is significantly faster than using\n    // the Math.pow method.\n    if (n === 2) {\n        for (i = 0; i < x.length; i++) {\n            tempValue = x[i] - meanValue;\n            sum += tempValue * tempValue;\n        }\n    } else {\n        for (i = 0; i < x.length; i++) {\n            sum += Math.pow(x[i] - meanValue, n);\n        }\n    }\n\n    return sum;\n}\n\nexport default sumNthPowerDeviations;\n","import sumNthPowerDeviations from \"./sum_nth_power_deviations\";\n\n/**\n * The [variance](http://en.wikipedia.org/wiki/Variance)\n * is the sum of squared deviations from the mean.\n *\n * This is an implementation of variance, not sample variance:\n * see the `sampleVariance` method if you want a sample measure.\n *\n * @param {Array<number>} x a population of one or more data points\n * @returns {number} variance: a value greater than or equal to zero.\n * zero indicates that all values are identical.\n * @throws {Error} if x's length is 0\n * @example\n * variance([1, 2, 3, 4, 5, 6]); // => 2.9166666666666665\n */\nfunction variance(x) {\n    if (x.length === 0) {\n        throw new Error(\"variance requires at least one data point\");\n    }\n\n    // Find the mean of squared deviations between the\n    // mean value and each value.\n    return sumNthPowerDeviations(x, 2) / x.length;\n}\n\nexport default variance;\n","import variance from \"./variance\";\n\n/**\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\n * is the square root of the variance. This is also known as the population\n * standard deviation. It's useful for measuring the amount\n * of variation or dispersion in a set of values.\n *\n * Standard deviation is only appropriate for full-population knowledge: for\n * samples of a population, {@link sampleStandardDeviation} is\n * more appropriate.\n *\n * @param {Array<number>} x input\n * @returns {number} standard deviation\n * @example\n * variance([2, 4, 4, 4, 5, 5, 7, 9]); // => 4\n * standardDeviation([2, 4, 4, 4, 5, 5, 7, 9]); // => 2\n */\nfunction standardDeviation(x) {\n    if (x.length === 1) {\n        return 0;\n    }\n    const v = variance(x);\n    return Math.sqrt(v);\n}\n\nexport default standardDeviation;\n","/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)` because the input is sorted.\n *\n * @param {Array<number>} sorted a sample of one or more data points\n * @returns {number} mode\n * @throws {Error} if sorted is empty\n * @example\n * modeSorted([0, 0, 1]); // => 0\n */\nfunction modeSorted(sorted) {\n    // Handle edge cases:\n    // The mode of an empty list is undefined\n    if (sorted.length === 0) {\n        throw new Error(\"mode requires at least one data point\");\n    } else if (sorted.length === 1) {\n        return sorted[0];\n    }\n\n    // This assumes it is dealing with an array of size > 1, since size\n    // 0 and 1 are handled immediately. Hence it starts at index 1 in the\n    // array.\n    let last = sorted[0],\n        // store the mode as we find new modes\n        value = NaN,\n        // store how many times we've seen the mode\n        maxSeen = 0,\n        // how many times the current candidate for the mode\n        // has been seen\n        seenThis = 1;\n\n    // end at sorted.length + 1 to fix the case in which the mode is\n    // the highest number that occurs in the sequence. the last iteration\n    // compares sorted[i], which is undefined, to the highest number\n    // in the series\n    for (let i = 1; i < sorted.length + 1; i++) {\n        // we're seeing a new number pass by\n        if (sorted[i] !== last) {\n            // the last number is the new mode since we saw it more\n            // often than the old one\n            if (seenThis > maxSeen) {\n                maxSeen = seenThis;\n                value = last;\n            }\n            seenThis = 1;\n            last = sorted[i];\n            // if this isn't a new number, it's one more occurrence of\n            // the potential mode\n        } else {\n            seenThis++;\n        }\n    }\n    return value;\n}\n\nexport default modeSorted;\n","/**\n * Sort an array of numbers by their numeric value, ensuring that the\n * array is not changed in place.\n *\n * This is necessary because the default behavior of .sort\n * in JavaScript is to sort arrays as string values\n *\n *     [1, 10, 12, 102, 20].sort()\n *     // output\n *     [1, 10, 102, 12, 20]\n *\n * @param {Array<number>} x input array\n * @return {Array<number>} sorted array\n * @private\n * @example\n * numericSort([3, 2, 1]) // => [1, 2, 3]\n */\nfunction numericSort(x) {\n    return (\n        x\n            // ensure the array is not changed in-place\n            .slice()\n            // comparator function that treats input as numeric\n            .sort(function (a, b) {\n                return a - b;\n            })\n    );\n}\n\nexport default numericSort;\n","/**\n * The min is the lowest number in the array.\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} minimum value\n * @example\n * min([1, 5, -10, 100, 2]); // => -10\n */\nfunction min(x) {\n    if (x.length === 0) {\n        throw new Error(\"min requires at least one data point\");\n    }\n\n    let value = x[0];\n    for (let i = 1; i < x.length; i++) {\n        if (x[i] < value) {\n            value = x[i];\n        }\n    }\n    return value;\n}\n\nexport default min;\n","/**\n * This computes the maximum number in an array.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} maximum value\n * @throws {Error} if the length of x is less than one\n * @example\n * max([1, 2, 3, 4]);\n * // => 4\n */\nfunction max(x) {\n    if (x.length === 0) {\n        throw new Error(\"max requires at least one data point\");\n    }\n\n    let value = x[0];\n    for (let i = 1; i < x.length; i++) {\n        if (x[i] > value) {\n            value = x[i];\n        }\n    }\n    return value;\n}\n\nexport default max;\n","/**\n * The simple [sum](https://en.wikipedia.org/wiki/Summation) of an array\n * is the result of adding all numbers together, starting from zero.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sumSimple([1, 2, 3]); // => 6\n */\nfunction sumSimple(x) {\n    let value = 0;\n    for (let i = 0; i < x.length; i++) {\n        value += x[i];\n    }\n    return value;\n}\n\nexport default sumSimple;\n","/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantileSorted(x, p) {\n    const idx = x.length * p;\n    if (x.length === 0) {\n        throw new Error(\"quantile requires at least one data point.\");\n    } else if (p < 0 || p > 1) {\n        throw new Error(\"quantiles must be between 0 and 1\");\n    } else if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\n\nexport default quantileSorted;\n","/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nfunction quickselect(arr, k, left, right) {\n    left = left || 0;\n    right = right || arr.length - 1;\n\n    while (right > left) {\n        // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp((2 * z) / 3);\n            let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n            if (m - n / 2 < 0) sd *= -1;\n            const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n            const newRight = Math.min(\n                right,\n                Math.floor(k + ((n - m) * s) / n + sd)\n            );\n            quickselect(arr, k, newLeft, newRight);\n        }\n\n        const t = arr[k];\n        let i = left;\n        let j = right;\n\n        swap(arr, left, k);\n        if (arr[right] > t) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (arr[i] < t) i++;\n            while (arr[j] > t) j--;\n        }\n\n        if (arr[left] === t) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nexport default quickselect;\n","import quantileSorted from \"./quantile_sorted\";\nimport quickselect from \"./quickselect\";\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x, p) {\n    const copy = x.slice();\n\n    if (Array.isArray(p)) {\n        // rearrange elements so that each element corresponding to a requested\n        // quantile is on a place it would be if the array was fully sorted\n        multiQuantileSelect(copy, p);\n        // Initialize the result array\n        const results = [];\n        // For each requested quantile\n        for (let i = 0; i < p.length; i++) {\n            results[i] = quantileSorted(copy, p[i]);\n        }\n        return results;\n    } else {\n        const idx = quantileIndex(copy.length, p);\n        quantileSelect(copy, idx, 0, copy.length - 1);\n        return quantileSorted(copy, p);\n    }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n    if (k % 1 === 0) {\n        quickselect(arr, k, left, right);\n    } else {\n        k = Math.floor(k);\n        quickselect(arr, k, left, right);\n        quickselect(arr, k + 1, k + 1, right);\n    }\n}\n\nfunction multiQuantileSelect(arr, p) {\n    const indices = [0];\n    for (let i = 0; i < p.length; i++) {\n        indices.push(quantileIndex(arr.length, p[i]));\n    }\n    indices.push(arr.length - 1);\n    indices.sort(compare);\n\n    const stack = [0, indices.length - 1];\n\n    while (stack.length) {\n        const r = Math.ceil(stack.pop());\n        const l = Math.floor(stack.pop());\n        if (r - l <= 1) continue;\n\n        const m = Math.floor((l + r) / 2);\n        quantileSelect(\n            arr,\n            indices[m],\n            Math.floor(indices[l]),\n            Math.ceil(indices[r])\n        );\n\n        stack.push(l, m, m, r);\n    }\n}\n\nfunction compare(a, b) {\n    return a - b;\n}\n\nfunction quantileIndex(len, p) {\n    const idx = len * p;\n    if (p === 1) {\n        // If p is 1, directly return the last index\n        return len - 1;\n    } else if (p === 0) {\n        // If p is 0, directly return the first index\n        return 0;\n    } else if (idx % 1 !== 0) {\n        // If index is not integer, return the next index in array\n        return Math.ceil(idx) - 1;\n    } else if (len % 2 === 0) {\n        // If the list has even-length, we'll return the middle of two indices\n        // around quantile to indicate that we need an average value of the two\n        return idx - 0.5;\n    } else {\n        // Finally, in the simple case of an integer index\n        // with an odd-length list, return the index\n        return idx;\n    }\n}\n\nexport default quantile;\n","/* eslint no-bitwise: 0 */\n\n/**\n * This function returns the quantile in which one would find the given value in\n * the given array. With a sorted array, leveraging binary search, we can find\n * this information in logarithmic time.\n *\n * @param {Array<number>} x input\n * @returns {number} value value\n * @example\n * quantileRankSorted([1, 2, 3, 4], 3); // => 0.75\n * quantileRankSorted([1, 2, 3, 3, 4], 3); // => 0.7\n * quantileRankSorted([1, 2, 3, 4], 6); // => 1\n * quantileRankSorted([1, 2, 3, 3, 5], 4); // => 0.8\n */\nfunction quantileRankSorted(x, value) {\n    // Value is lesser than any value in the array\n    if (value < x[0]) {\n        return 0;\n    }\n\n    // Value is greater than any value in the array\n    if (value > x[x.length - 1]) {\n        return 1;\n    }\n\n    let l = lowerBound(x, value);\n\n    // Value is not in the array\n    if (x[l] !== value) {\n        return l / x.length;\n    }\n\n    l++;\n\n    const u = upperBound(x, value);\n\n    // The value exists only once in the array\n    if (u === l) {\n        return l / x.length;\n    }\n\n    // Here, we are basically computing the mean of the range of indices\n    // containing our searched value. But, instead, of initializing an\n    // array and looping over it, there is a dedicated math formula that\n    // we apply below to get the result.\n    const r = u - l + 1;\n    const sum = (r * (u + l)) / 2;\n    const mean = sum / r;\n\n    return mean / x.length;\n}\n\nfunction lowerBound(x, value) {\n    let mid = 0;\n    let lo = 0;\n    let hi = x.length;\n\n    while (lo < hi) {\n        mid = (lo + hi) >>> 1;\n\n        if (value <= x[mid]) {\n            hi = mid;\n        } else {\n            lo = -~mid;\n        }\n    }\n\n    return lo;\n}\n\nfunction upperBound(x, value) {\n    let mid = 0;\n    let lo = 0;\n    let hi = x.length;\n\n    while (lo < hi) {\n        mid = (lo + hi) >>> 1;\n\n        if (value >= x[mid]) {\n            lo = -~mid;\n        } else {\n            hi = mid;\n        }\n    }\n\n    return lo;\n}\n\nexport default quantileRankSorted;\n","import quantile from \"./quantile\";\n\n/**\n * The [Interquartile range](http://en.wikipedia.org/wiki/Interquartile_range) is\n * a measure of statistical dispersion, or how scattered, spread, or\n * concentrated a distribution is. It's computed as the difference between\n * the third quartile and first quartile.\n *\n * @param {Array<number>} x sample of one or more numbers\n * @returns {number} interquartile range: the span between lower and upper quartile,\n * 0.25 and 0.75\n * @example\n * interquartileRange([0, 1, 2, 3]); // => 2\n */\nfunction interquartileRange(x) {\n    // Interquartile range is the span between the upper quartile,\n    // at `0.75`, and lower quartile, `0.25`\n    const q1 = quantile(x, 0.75);\n    const q2 = quantile(x, 0.25);\n\n    if (typeof q1 === \"number\" && typeof q2 === \"number\") {\n        return q1 - q2;\n    }\n}\n\nexport default interquartileRange;\n","import quantile from \"./quantile\";\n\n/**\n * The [median](http://en.wikipedia.org/wiki/Median) is\n * the middle number of a list. This is often a good indicator of 'the middle'\n * when there are outliers that skew the `mean()` value.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The median isn't necessarily one of the elements in the list: the value\n * can be the average of two elements if the list has an even length\n * and the two central values are different.\n *\n * @param {Array<number>} x input\n * @returns {number} median value\n * @example\n * median([10, 2, 5, 100, 2, 1]); // => 3.5\n */\nfunction median(x) {\n    return +quantile(x, 0.5);\n}\n\nexport default median;\n","import median from \"./median\";\n\n/**\n * The [Median Absolute Deviation](http://en.wikipedia.org/wiki/Median_absolute_deviation) is\n * a robust measure of statistical\n * dispersion. It is more resilient to outliers than the standard deviation.\n *\n * @param {Array<number>} x input array\n * @returns {number} median absolute deviation\n * @example\n * medianAbsoluteDeviation([1, 1, 2, 2, 4, 6, 9]); // => 1\n */\nfunction medianAbsoluteDeviation(x) {\n    const medianValue = median(x);\n    const medianAbsoluteDeviations = [];\n\n    // Make a list of absolute deviations from the median\n    for (let i = 0; i < x.length; i++) {\n        medianAbsoluteDeviations.push(Math.abs(x[i] - medianValue));\n    }\n\n    // Find the median value of that list\n    return median(medianAbsoluteDeviations);\n}\n\nexport default medianAbsoluteDeviation;\n","/**\n * A [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\n * in-place - which means that it **will change the order of the original\n * array by reference**.\n *\n * This is an algorithm that generates a random [permutation](https://en.wikipedia.org/wiki/Permutation)\n * of a set.\n *\n * @param {Array} x sample of one or more numbers\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @returns {Array} x\n * @example\n * var x = [1, 2, 3, 4];\n * shuffleInPlace(x);\n * // x is shuffled to a value like [2, 1, 4, 3]\n */\nfunction shuffleInPlace(x, randomSource) {\n    // a custom random number source can be provided if you want to use\n    // a fixed seed or another random number generator, like\n    // [random-js](https://www.npmjs.org/package/random-js)\n    randomSource = randomSource || Math.random;\n\n    // store the current length of the x to determine\n    // when no elements remain to shuffle.\n    let length = x.length;\n\n    // temporary is used to hold an item when it is being\n    // swapped between indices.\n    let temporary;\n\n    // The index to swap at each stage.\n    let index;\n\n    // While there are still items to shuffle\n    while (length > 0) {\n        // choose a random index within the subset of the array\n        // that is not yet shuffled\n        index = Math.floor(randomSource() * length--);\n\n        // store the value that we'll move temporarily\n        temporary = x[length];\n\n        // swap the value at `x[length]` with `x[index]`\n        x[length] = x[index];\n        x[index] = temporary;\n    }\n\n    return x;\n}\n\nexport default shuffleInPlace;\n","import shuffleInPlace from \"./shuffle_in_place\";\n\n/**\n * A [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\n * is a fast way to create a random permutation of a finite set. This is\n * a function around `shuffle_in_place` that adds the guarantee that\n * it will not modify its input.\n *\n * @param {Array} x sample of 0 or more numbers\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} shuffled version of input\n * @example\n * var shuffled = shuffle([1, 2, 3, 4]);\n * shuffled; // = [2, 3, 1, 4] or any other random permutation\n */\nfunction shuffle(x, randomSource) {\n    // slice the original array so that it is not modified\n    const sample = x.slice();\n\n    // and then shuffle that shallow-copied array, in place\n    return shuffleInPlace(sample, randomSource);\n}\n\nexport default shuffle;\n","import shuffle from \"./shuffle\";\n\n/**\n * Create a [simple random sample](http://en.wikipedia.org/wiki/Simple_random_sample)\n * from a given array of `n` elements.\n *\n * The sampled values will be in any order, not necessarily the order\n * they appear in the input.\n *\n * @param {Array<any>} x input array. can contain any type\n * @param {number} n count of how many elements to take\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} subset of n elements in original array\n *\n * @example\n * var values = [1, 2, 4, 5, 6, 7, 8, 9];\n * sample(values, 3); // returns 3 random values, like [2, 5, 8];\n */\nfunction sample(x, n, randomSource) {\n    // shuffle the original array using a fisher-yates shuffle\n    const shuffled = shuffle(x, randomSource);\n\n    // and then return a subset of it - the first `n` elements.\n    return shuffled.slice(0, n);\n}\n\nexport default sample;\n","/**\n * Create a new column x row matrix.\n *\n * @private\n * @param {number} columns\n * @param {number} rows\n * @return {Array<Array<number>>} matrix\n * @example\n * makeMatrix(10, 10);\n */\nfunction makeMatrix(columns, rows) {\n    const matrix = [];\n    for (let i = 0; i < columns; i++) {\n        const column = [];\n        for (let j = 0; j < rows; j++) {\n            column.push(0);\n        }\n        matrix.push(column);\n    }\n    return matrix;\n}\n\nexport default makeMatrix;\n","/**\n * For a sorted input, counting the number of unique values\n * is possible in constant time and constant memory. This is\n * a simple implementation of the algorithm.\n *\n * Values are compared with `===`, so objects and non-primitive objects\n * are not handled in any special way.\n *\n * @param {Array<*>} x an array of any kind of value\n * @returns {number} count of unique values\n * @example\n * uniqueCountSorted([1, 2, 3]); // => 3\n * uniqueCountSorted([1, 1, 1]); // => 1\n */\nfunction uniqueCountSorted(x) {\n    let uniqueValueCount = 0,\n        lastSeenValue;\n    for (let i = 0; i < x.length; i++) {\n        if (i === 0 || x[i] !== lastSeenValue) {\n            lastSeenValue = x[i];\n            uniqueValueCount++;\n        }\n    }\n    return uniqueValueCount;\n}\n\nexport default uniqueCountSorted;\n","import makeMatrix from \"./make_matrix\";\nimport numericSort from \"./numeric_sort\";\nimport uniqueCountSorted from \"./unique_count_sorted\";\n\n/**\n * Generates incrementally computed values based on the sums and sums of\n * squares for the data array\n *\n * @private\n * @param {number} j\n * @param {number} i\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n * @return {number}\n * @example\n * ssq(0, 1, [-1, 0, 2], [1, 1, 5]);\n */\nfunction ssq(j, i, sums, sumsOfSquares) {\n    let sji; // s(j, i)\n    if (j > 0) {\n        const muji = (sums[i] - sums[j - 1]) / (i - j + 1); // mu(j, i)\n        sji =\n            sumsOfSquares[i] - sumsOfSquares[j - 1] - (i - j + 1) * muji * muji;\n    } else {\n        sji = sumsOfSquares[i] - (sums[i] * sums[i]) / (i + 1);\n    }\n    if (sji < 0) {\n        return 0;\n    }\n    return sji;\n}\n\n/**\n * Function that recursively divides and conquers computations\n * for cluster j\n *\n * @private\n * @param {number} iMin Minimum index in cluster to be computed\n * @param {number} iMax Maximum index in cluster to be computed\n * @param {number} cluster Index of the cluster currently being computed\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n */\nfunction fillMatrixColumn(\n    iMin,\n    iMax,\n    cluster,\n    matrix,\n    backtrackMatrix,\n    sums,\n    sumsOfSquares\n) {\n    if (iMin > iMax) {\n        return;\n    }\n\n    // Start at midpoint between iMin and iMax\n    const i = Math.floor((iMin + iMax) / 2);\n\n    matrix[cluster][i] = matrix[cluster - 1][i - 1];\n    backtrackMatrix[cluster][i] = i;\n\n    let jlow = cluster; // the lower end for j\n\n    if (iMin > cluster) {\n        jlow = Math.max(jlow, backtrackMatrix[cluster][iMin - 1] || 0);\n    }\n    jlow = Math.max(jlow, backtrackMatrix[cluster - 1][i] || 0);\n\n    let jhigh = i - 1; // the upper end for j\n    if (iMax < matrix[0].length - 1) {\n        jhigh = Math.min(jhigh, backtrackMatrix[cluster][iMax + 1] || 0);\n    }\n\n    let sji;\n    let sjlowi;\n    let ssqjlow;\n    let ssqj;\n    for (let j = jhigh; j >= jlow; --j) {\n        sji = ssq(j, i, sums, sumsOfSquares);\n\n        if (sji + matrix[cluster - 1][jlow - 1] >= matrix[cluster][i]) {\n            break;\n        }\n\n        // Examine the lower bound of the cluster border\n        sjlowi = ssq(jlow, i, sums, sumsOfSquares);\n\n        ssqjlow = sjlowi + matrix[cluster - 1][jlow - 1];\n\n        if (ssqjlow < matrix[cluster][i]) {\n            // Shrink the lower bound\n            matrix[cluster][i] = ssqjlow;\n            backtrackMatrix[cluster][i] = jlow;\n        }\n        jlow++;\n\n        ssqj = sji + matrix[cluster - 1][j - 1];\n        if (ssqj < matrix[cluster][i]) {\n            matrix[cluster][i] = ssqj;\n            backtrackMatrix[cluster][i] = j;\n        }\n    }\n\n    fillMatrixColumn(\n        iMin,\n        i - 1,\n        cluster,\n        matrix,\n        backtrackMatrix,\n        sums,\n        sumsOfSquares\n    );\n    fillMatrixColumn(\n        i + 1,\n        iMax,\n        cluster,\n        matrix,\n        backtrackMatrix,\n        sums,\n        sumsOfSquares\n    );\n}\n\n/**\n * Initializes the main matrices used in Ckmeans and kicks\n * off the divide and conquer cluster computation strategy\n *\n * @private\n * @param {Array<number>} data sorted array of values\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n */\nfunction fillMatrices(data, matrix, backtrackMatrix) {\n    const nValues = matrix[0].length;\n\n    // Shift values by the median to improve numeric stability\n    const shift = data[Math.floor(nValues / 2)];\n\n    // Cumulative sum and cumulative sum of squares for all values in data array\n    const sums = [];\n    const sumsOfSquares = [];\n\n    // Initialize first column in matrix & backtrackMatrix\n    for (let i = 0, shiftedValue; i < nValues; ++i) {\n        shiftedValue = data[i] - shift;\n        if (i === 0) {\n            sums.push(shiftedValue);\n            sumsOfSquares.push(shiftedValue * shiftedValue);\n        } else {\n            sums.push(sums[i - 1] + shiftedValue);\n            sumsOfSquares.push(\n                sumsOfSquares[i - 1] + shiftedValue * shiftedValue\n            );\n        }\n\n        // Initialize for cluster = 0\n        matrix[0][i] = ssq(0, i, sums, sumsOfSquares);\n        backtrackMatrix[0][i] = 0;\n    }\n\n    // Initialize the rest of the columns\n    let iMin;\n    for (let cluster = 1; cluster < matrix.length; ++cluster) {\n        if (cluster < matrix.length - 1) {\n            iMin = cluster;\n        } else {\n            // No need to compute matrix[K-1][0] ... matrix[K-1][N-2]\n            iMin = nValues - 1;\n        }\n\n        fillMatrixColumn(\n            iMin,\n            nValues - 1,\n            cluster,\n            matrix,\n            backtrackMatrix,\n            sums,\n            sumsOfSquares\n        );\n    }\n}\n\n/**\n * Ckmeans clustering is an improvement on heuristic-based clustering\n * approaches like Jenks. The algorithm was developed in\n * [Haizhou Wang and Mingzhou Song](http://journal.r-project.org/archive/2011-2/RJournal_2011-2_Wang+Song.pdf)\n * as a [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming) approach\n * to the problem of clustering numeric data into groups with the least\n * within-group sum-of-squared-deviations.\n *\n * Minimizing the difference within groups - what Wang & Song refer to as\n * `withinss`, or within sum-of-squares, means that groups are optimally\n * homogenous within and the data is split into representative groups.\n * This is very useful for visualization, where you may want to represent\n * a continuous variable in discrete color or style groups. This function\n * can provide groups that emphasize differences between data.\n *\n * Being a dynamic approach, this algorithm is based on two matrices that\n * store incrementally-computed values for squared deviations and backtracking\n * indexes.\n *\n * This implementation is based on Ckmeans 3.4.6, which introduced a new divide\n * and conquer approach that improved runtime from O(kn^2) to O(kn log(n)).\n *\n * Unlike the [original implementation](https://cran.r-project.org/web/packages/Ckmeans.1d.dp/index.html),\n * this implementation does not include any code to automatically determine\n * the optimal number of clusters: this information needs to be explicitly\n * provided.\n *\n * ### References\n * _Ckmeans.1d.dp: Optimal k-means Clustering in One Dimension by Dynamic\n * Programming_ Haizhou Wang and Mingzhou Song ISSN 2073-4859\n *\n * from The R Journal Vol. 3/2, December 2011\n * @param {Array<number>} x input data, as an array of number values\n * @param {number} nClusters number of desired classes. This cannot be\n * greater than the number of values in the data array.\n * @returns {Array<Array<number>>} clustered input\n * @throws {Error} if the number of requested clusters is higher than the size of the data\n * @example\n * ckmeans([-1, 2, -1, 2, 4, 5, 6, -1, 2, -1], 3);\n * // The input, clustered into groups of similar numbers.\n * //= [[-1, -1, -1, -1], [2, 2, 2], [4, 5, 6]]);\n */\nfunction ckmeans(x, nClusters) {\n    if (nClusters > x.length) {\n        throw new Error(\n            \"cannot generate more classes than there are data values\"\n        );\n    }\n\n    const sorted = numericSort(x);\n    // we'll use this as the maximum number of clusters\n    const uniqueCount = uniqueCountSorted(sorted);\n\n    // if all of the input values are identical, there's one cluster\n    // with all of the input in it.\n    if (uniqueCount === 1) {\n        return [sorted];\n    }\n\n    // named 'S' originally\n    const matrix = makeMatrix(nClusters, sorted.length);\n    // named 'J' originally\n    const backtrackMatrix = makeMatrix(nClusters, sorted.length);\n\n    // This is a dynamic programming way to solve the problem of minimizing\n    // within-cluster sum of squares. It's similar to linear regression\n    // in this way, and this calculation incrementally computes the\n    // sum of squares that are later read.\n    fillMatrices(sorted, matrix, backtrackMatrix);\n\n    // The real work of Ckmeans clustering happens in the matrix generation:\n    // the generated matrices encode all possible clustering combinations, and\n    // once they're generated we can solve for the best clustering groups\n    // very quickly.\n    const clusters = [];\n    let clusterRight = backtrackMatrix[0].length - 1;\n\n    // Backtrack the clusters from the dynamic programming matrix. This\n    // starts at the bottom-right corner of the matrix (if the top-left is 0, 0),\n    // and moves the cluster target with the loop.\n    for (let cluster = backtrackMatrix.length - 1; cluster >= 0; cluster--) {\n        const clusterLeft = backtrackMatrix[cluster][clusterRight];\n\n        // fill the cluster from the sorted input by taking a slice of the\n        // array. the backtrack matrix makes this easy - it stores the\n        // indexes where the cluster should start and end.\n        clusters[cluster] = sorted.slice(clusterLeft, clusterRight + 1);\n\n        if (cluster > 0) {\n            clusterRight = clusterLeft - 1;\n        }\n    }\n\n    return clusters;\n}\n\nexport default ckmeans;\n","import mean from \"./mean\";\n\n/**\n * [Sample covariance](https://en.wikipedia.org/wiki/Sample_mean_and_covariance) of two datasets:\n * how much do the two datasets move together?\n * x and y are two datasets, represented as arrays of numbers.\n *\n * @param {Array<number>} x a sample of two or more data points\n * @param {Array<number>} y a sample of two or more data points\n * @throws {Error} if x and y do not have equal lengths\n * @throws {Error} if x or y have length of one or less\n * @returns {number} sample covariance\n * @example\n * sampleCovariance([1, 2, 3, 4, 5, 6], [6, 5, 4, 3, 2, 1]); // => -3.5\n */\nfunction sampleCovariance(x, y) {\n    // The two datasets must have the same length which must be more than 1\n    if (x.length !== y.length) {\n        throw new Error(\"sampleCovariance requires samples with equal lengths\");\n    }\n\n    if (x.length < 2) {\n        throw new Error(\n            \"sampleCovariance requires at least two data points in each sample\"\n        );\n    }\n\n    // determine the mean of each dataset so that we can judge each\n    // value of the dataset fairly as the difference from the mean. this\n    // way, if one dataset is [1, 2, 3] and [2, 3, 4], their covariance\n    // does not suffer because of the difference in absolute values\n    const xmean = mean(x);\n    const ymean = mean(y);\n    let sum = 0;\n\n    // for each pair of values, the covariance increases when their\n    // difference from the mean is associated - if both are well above\n    // or if both are well below\n    // the mean, the covariance increases significantly.\n    for (let i = 0; i < x.length; i++) {\n        sum += (x[i] - xmean) * (y[i] - ymean);\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    const besselsCorrection = x.length - 1;\n\n    // the covariance is weighted by the length of the datasets.\n    return sum / besselsCorrection;\n}\n\nexport default sampleCovariance;\n","import sumNthPowerDeviations from \"./sum_nth_power_deviations\";\n\n/**\n * The [sample variance](https://en.wikipedia.org/wiki/Variance#Sample_variance)\n * is the sum of squared deviations from the mean. The sample variance\n * is distinguished from the variance by the usage of [Bessel's Correction](https://en.wikipedia.org/wiki/Bessel's_correction):\n * instead of dividing the sum of squared deviations by the length of the input,\n * it is divided by the length minus one. This corrects the bias in estimating\n * a value from a set that you don't know if full.\n *\n * References:\n * * [Wolfram MathWorld on Sample Variance](http://mathworld.wolfram.com/SampleVariance.html)\n *\n * @param {Array<number>} x a sample of two or more data points\n * @throws {Error} if the length of x is less than 2\n * @return {number} sample variance\n * @example\n * sampleVariance([1, 2, 3, 4, 5]); // => 2.5\n */\nfunction sampleVariance(x) {\n    if (x.length < 2) {\n        throw new Error(\"sampleVariance requires at least two data points\");\n    }\n\n    const sumSquaredDeviationsValue = sumNthPowerDeviations(x, 2);\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    const besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    return sumSquaredDeviationsValue / besselsCorrection;\n}\n\nexport default sampleVariance;\n","import sampleVariance from \"./sample_variance\";\n\n/**\n * The [sample standard deviation](http://en.wikipedia.org/wiki/Standard_deviation#Sample_standard_deviation)\n * is the square root of the sample variance.\n *\n * @param {Array<number>} x input array\n * @returns {number} sample standard deviation\n * @example\n * sampleStandardDeviation([2, 4, 4, 4, 5, 5, 7, 9]).toFixed(2);\n * // => '2.14'\n */\nfunction sampleStandardDeviation(x) {\n    const sampleVarianceX = sampleVariance(x);\n    return Math.sqrt(sampleVarianceX);\n}\n\nexport default sampleStandardDeviation;\n","import sampleCovariance from \"./sample_covariance\";\nimport sampleStandardDeviation from \"./sample_standard_deviation\";\n\n/**\n * The [correlation](http://en.wikipedia.org/wiki/Correlation_and_dependence) is\n * a measure of how correlated two datasets are, between -1 and 1\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample correlation\n * @example\n * sampleCorrelation([1, 2, 3, 4, 5, 6], [2, 2, 3, 4, 5, 60]).toFixed(2);\n * // => '0.69'\n */\nfunction sampleCorrelation(x, y) {\n    const cov = sampleCovariance(x, y);\n    const xstd = sampleStandardDeviation(x);\n    const ystd = sampleStandardDeviation(y);\n\n    return cov / xstd / ystd;\n}\n\nexport default sampleCorrelation;\n","/**\n * When combining two lists of values for which one already knows the means,\n * one does not have to necessary recompute the mean of the combined lists in\n * linear time. They can instead use this function to compute the combined\n * mean by providing the mean & number of values of the first list and the mean\n * & number of values of the second list.\n *\n * @since 3.0.0\n * @param {number} mean1 mean of the first list\n * @param {number} n1 number of items in the first list\n * @param {number} mean2 mean of the second list\n * @param {number} n2 number of items in the second list\n * @returns {number} the combined mean\n *\n * @example\n * combineMeans(5, 3, 4, 3); // => 4.5\n */\nfunction combineMeans(mean1, n1, mean2, n2) {\n    return (mean1 * n1 + mean2 * n2) / (n1 + n2);\n}\n\nexport default combineMeans;\n","import sumSimple from \"./sum_simple\";\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The simple mean uses the successive addition method internally\n * to calculate it's result. Errors in floating-point addition are\n * not accounted for, so if precision is required, the standard {@link mean}\n * method should be used instead.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction meanSimple(x) {\n    if (x.length === 0) {\n        throw new Error(\"meanSimple requires at least one data point\");\n    }\n\n    return sumSimple(x) / x.length;\n}\n\nexport default meanSimple;\n","/**\n * The Root Mean Square (RMS) is\n * a mean function used as a measure of the magnitude of a set\n * of numbers, regardless of their sign.\n * This is the square root of the mean of the squares of the\n * input numbers.\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x a sample of one or more data points\n * @returns {number} root mean square\n * @throws {Error} if x is empty\n * @example\n * rootMeanSquare([-1, 1, -1, 1]); // => 1\n */\nfunction rootMeanSquare(x) {\n    if (x.length === 0) {\n        throw new Error(\"rootMeanSquare requires at least one data point\");\n    }\n\n    let sumOfSquares = 0;\n    for (let i = 0; i < x.length; i++) {\n        sumOfSquares += Math.pow(x[i], 2);\n    }\n\n    return Math.sqrt(sumOfSquares / x.length);\n}\n\nexport default rootMeanSquare;\n","/**\n * [Bayesian Classifier](http://en.wikipedia.org/wiki/Naive_Bayes_classifier)\n *\n * This is a naïve bayesian classifier that takes\n * singly-nested objects.\n *\n * @class\n * @example\n * var bayes = new BayesianClassifier();\n * bayes.train({\n *   species: 'Cat'\n * }, 'animal');\n * var result = bayes.score({\n *   species: 'Cat'\n * })\n * // result\n * // {\n * //   animal: 1\n * // }\n */\nclass BayesianClassifier {\n    /*:: totalCount: number */\n    /*:: data: Object */\n    constructor() {\n        // The number of items that are currently\n        // classified in the model\n        this.totalCount = 0;\n        // Every item classified in the model\n        this.data = {};\n    }\n\n    /**\n     * Train the classifier with a new item, which has a single\n     * dimension of Javascript literal keys and values.\n     *\n     * @param {Object} item an object with singly-deep properties\n     * @param {string} category the category this item belongs to\n     * @return {undefined} adds the item to the classifier\n     */\n    train(item, category) {\n        // If the data object doesn't have any values\n        // for this category, create a new object for it.\n        if (!this.data[category]) {\n            this.data[category] = {};\n        }\n\n        // Iterate through each key in the item.\n        for (const k in item) {\n            const v = item[k];\n            // Initialize the nested object `data[category][k][item[k]]`\n            // with an object of keys that equal 0.\n            if (this.data[category][k] === undefined) {\n                this.data[category][k] = {};\n            }\n            if (this.data[category][k][v] === undefined) {\n                this.data[category][k][v] = 0;\n            }\n\n            // And increment the key for this key/value combination.\n            this.data[category][k][v]++;\n        }\n\n        // Increment the number of items classified\n        this.totalCount++;\n    }\n\n    /**\n     * Generate a score of how well this item matches all\n     * possible categories based on its attributes\n     *\n     * @param {Object} item an item in the same format as with train\n     * @returns {Object} of probabilities that this item belongs to a\n     * given category.\n     */\n    score(item) {\n        // Initialize an empty array of odds per category.\n        const odds = {};\n        let category;\n        // Iterate through each key in the item,\n        // then iterate through each category that has been used\n        // in previous calls to `.train()`\n        for (const k in item) {\n            const v = item[k];\n            for (category in this.data) {\n                // Create an empty object for storing key - value combinations\n                // for this category.\n                odds[category] = {};\n\n                // If this item doesn't even have a property, it counts for nothing,\n                // but if it does have the property that we're looking for from\n                // the item to categorize, it counts based on how popular it is\n                // versus the whole population.\n                if (this.data[category][k]) {\n                    odds[category][k + \"_\" + v] =\n                        (this.data[category][k][v] || 0) / this.totalCount;\n                } else {\n                    odds[category][k + \"_\" + v] = 0;\n                }\n            }\n        }\n\n        // Set up a new object that will contain sums of these odds by category\n        const oddsSums = {};\n\n        for (category in odds) {\n            // Tally all of the odds for each category-combination pair -\n            // the non-existence of a category does not add anything to the\n            // score.\n            oddsSums[category] = 0;\n            for (const combination in odds[category]) {\n                oddsSums[category] += odds[category][combination];\n            }\n        }\n\n        return oddsSums;\n    }\n}\n\nexport default BayesianClassifier;\n","/**\n * This is a single-layer [Perceptron Classifier](http://en.wikipedia.org/wiki/Perceptron) that takes\n * arrays of numbers and predicts whether they should be classified\n * as either 0 or 1 (negative or positive examples).\n * @class\n * @example\n * // Create the model\n * var p = new PerceptronModel();\n * // Train the model with input with a diagonal boundary.\n * for (var i = 0; i < 5; i++) {\n *     p.train([1, 1], 1);\n *     p.train([0, 1], 0);\n *     p.train([1, 0], 0);\n *     p.train([0, 0], 0);\n * }\n * p.predict([0, 0]); // 0\n * p.predict([0, 1]); // 0\n * p.predict([1, 0]); // 0\n * p.predict([1, 1]); // 1\n */\nclass PerceptronModel {\n    /*:: bias: number */\n    /*:: weights: Array<number> */\n    constructor() {\n        // The weights, or coefficients of the model;\n        // weights are only populated when training with data.\n        this.weights = [];\n        // The bias term, or intercept; it is also a weight but\n        // it's stored separately for convenience as it is always\n        // multiplied by one.\n        this.bias = 0;\n    }\n    /**\n     * **Predict**: Use an array of features with the weight array and bias\n     * to predict whether an example is labeled 0 or 1.\n     *\n     * @param {Array<number>} features an array of features as numbers\n     * @returns {number} 1 if the score is over 0, otherwise 0\n     */\n    predict(features) {\n        // Only predict if previously trained\n        // on the same size feature array(s).\n        if (features.length !== this.weights.length) {\n            return null;\n        }\n\n        // Calculate the sum of features times weights,\n        // with the bias added (implicitly times one).\n        let score = 0;\n        for (let i = 0; i < this.weights.length; i++) {\n            score += this.weights[i] * features[i];\n        }\n        score += this.bias;\n\n        // Classify as 1 if the score is over 0, otherwise 0.\n        if (score > 0) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    /**\n     * **Train** the classifier with a new example, which is\n     * a numeric array of features and a 0 or 1 label.\n     *\n     * @param {Array<number>} features an array of features as numbers\n     * @param {number} label either 0 or 1\n     * @returns {PerceptronModel} this\n     */\n    train(features, label) {\n        // Require that only labels of 0 or 1 are considered.\n        if (label !== 0 && label !== 1) {\n            return null;\n        }\n        // The length of the feature array determines\n        // the length of the weight array.\n        // The perceptron will continue learning as long as\n        // it keeps seeing feature arrays of the same length.\n        // When it sees a new data shape, it initializes.\n        if (features.length !== this.weights.length) {\n            this.weights = features;\n            this.bias = 1;\n        }\n        // Make a prediction based on current weights.\n        const prediction = this.predict(features);\n        // Update the weights if the prediction is wrong.\n        if (typeof prediction === \"number\" && prediction !== label) {\n            const gradient = label - prediction;\n            for (let i = 0; i < this.weights.length; i++) {\n                this.weights[i] += gradient * features[i];\n            }\n            this.bias += gradient;\n        }\n        return this;\n    }\n}\n\nexport default PerceptronModel;\n","/**\n * We use `ε`, epsilon, as a stopping criterion when we want to iterate\n * until we're \"close enough\". Epsilon is a very small number: for\n * simple statistics, that number is **0.0001**\n *\n * This is used in calculations like the binomialDistribution, in which\n * the process of finding a value is [iterative](https://en.wikipedia.org/wiki/Iterative_method):\n * it progresses until it is close enough.\n *\n * Below is an example of using epsilon in [gradient descent](https://en.wikipedia.org/wiki/Gradient_descent),\n * where we're trying to find a local minimum of a function's derivative,\n * given by the `fDerivative` method.\n *\n * @example\n * // From calculation, we expect that the local minimum occurs at x=9/4\n * var x_old = 0;\n * // The algorithm starts at x=6\n * var x_new = 6;\n * var stepSize = 0.01;\n *\n * function fDerivative(x) {\n *   return 4 * Math.pow(x, 3) - 9 * Math.pow(x, 2);\n * }\n *\n * // The loop runs until the difference between the previous\n * // value and the current value is smaller than epsilon - a rough\n * // meaure of 'close enough'\n * while (Math.abs(x_new - x_old) > ss.epsilon) {\n *   x_old = x_new;\n *   x_new = x_old - stepSize * fDerivative(x_old);\n * }\n *\n * console.log('Local minimum occurs at', x_new);\n */\nconst epsilon = 0.0001;\n\nexport default epsilon;\n","/**\n * A [Factorial](https://en.wikipedia.org/wiki/Factorial), usually written n!, is the product of all positive\n * integers less than or equal to n. Often factorial is implemented\n * recursively, but this iterative approach is significantly faster\n * and simpler.\n *\n * @param {number} n input, must be an integer number 1 or greater\n * @returns {number} factorial: n!\n * @throws {Error} if n is less than 0 or not an integer\n * @example\n * factorial(5); // => 120\n */\nfunction factorial(n) {\n    // factorial is mathematically undefined for negative numbers\n    if (n < 0) {\n        throw new Error(\"factorial requires a non-negative value\");\n    }\n\n    if (Math.floor(n) !== n) {\n        throw new Error(\"factorial requires an integer input\");\n    }\n\n    // typically you'll expand the factorial function going down, like\n    // 5! = 5 * 4 * 3 * 2 * 1. This is going in the opposite direction,\n    // counting from 2 up to the number in question, and since anything\n    // multiplied by 1 is itself, the loop only needs to start at 2.\n    let accumulator = 1;\n    for (let i = 2; i <= n; i++) {\n        // for each number up to and including the number `n`, multiply\n        // the accumulator my that number.\n        accumulator *= i;\n    }\n    return accumulator;\n}\n\nexport default factorial;\n","// Define series coefficients\nconst COEFFICIENTS = [\n    0.99999999999999709182,\n    57.156235665862923517,\n    -59.597960355475491248,\n    14.136097974741747174,\n    -0.49191381609762019978,\n    0.33994649984811888699e-4,\n    0.46523628927048575665e-4,\n    -0.98374475304879564677e-4,\n    0.15808870322491248884e-3,\n    -0.21026444172410488319e-3,\n    0.2174396181152126432e-3,\n    -0.16431810653676389022e-3,\n    0.84418223983852743293e-4,\n    -0.2619083840158140867e-4,\n    0.36899182659531622704e-5\n];\n\nconst g = 607 / 128;\nconst LOGSQRT2PI = Math.log(Math.sqrt(2 * Math.PI));\n\n/**\n * Compute the logarithm of the [gamma function](https://en.wikipedia.org/wiki/Gamma_function) of a value using Lanczos' approximation.\n * This function takes as input any real-value n greater than 0.\n * This function is useful for values of n too large for the normal gamma function (n > 165).\n * The code is based on Lanczo's Gamma approximation, defined [here](http://my.fit.edu/~gabdo/gamma.txt).\n *\n * @param {number} n Any real number greater than zero.\n * @returns {number} The logarithm of gamma of the input value.\n *\n * @example\n * gammaln(500); // 2605.1158503617335\n * gammaln(2.4); // 0.21685932244884043\n */\nfunction gammaln(n) {\n    // Return infinity if value not in domain\n    if (n <= 0) {\n        return Infinity;\n    }\n\n    // Decrement n, because approximation is defined for n - 1\n    n--;\n\n    // Create series approximation\n    let a = COEFFICIENTS[0];\n\n    for (let i = 1; i < 15; i++) {\n        a += COEFFICIENTS[i] / (n + i);\n    }\n\n    const tmp = g + 0.5 + n;\n\n    // Return natural logarithm of gamma(n)\n    return LOGSQRT2PI + Math.log(a) - tmp + (n + 0.5) * Math.log(tmp);\n}\n\nexport default gammaln;\n","/**\n * **Percentage Points of the χ2 (Chi-Squared) Distribution**\n *\n * The [χ2 (Chi-Squared) Distribution](http://en.wikipedia.org/wiki/Chi-squared_distribution) is used in the common\n * chi-squared tests for goodness of fit of an observed distribution to a theoretical one, the independence of two\n * criteria of classification of qualitative data, and in confidence interval estimation for a population standard\n * deviation of a normal distribution from a sample standard deviation.\n *\n * Values from Appendix 1, Table III of William W. Hines & Douglas C. Montgomery, \"Probability and Statistics in\n * Engineering and Management Science\", Wiley (1980).\n */\nconst chiSquaredDistributionTable = {\n    1: {\n        0.995: 0,\n        0.99: 0,\n        0.975: 0,\n        0.95: 0,\n        0.9: 0.02,\n        0.5: 0.45,\n        0.1: 2.71,\n        0.05: 3.84,\n        0.025: 5.02,\n        0.01: 6.63,\n        0.005: 7.88\n    },\n    2: {\n        0.995: 0.01,\n        0.99: 0.02,\n        0.975: 0.05,\n        0.95: 0.1,\n        0.9: 0.21,\n        0.5: 1.39,\n        0.1: 4.61,\n        0.05: 5.99,\n        0.025: 7.38,\n        0.01: 9.21,\n        0.005: 10.6\n    },\n    3: {\n        0.995: 0.07,\n        0.99: 0.11,\n        0.975: 0.22,\n        0.95: 0.35,\n        0.9: 0.58,\n        0.5: 2.37,\n        0.1: 6.25,\n        0.05: 7.81,\n        0.025: 9.35,\n        0.01: 11.34,\n        0.005: 12.84\n    },\n    4: {\n        0.995: 0.21,\n        0.99: 0.3,\n        0.975: 0.48,\n        0.95: 0.71,\n        0.9: 1.06,\n        0.5: 3.36,\n        0.1: 7.78,\n        0.05: 9.49,\n        0.025: 11.14,\n        0.01: 13.28,\n        0.005: 14.86\n    },\n    5: {\n        0.995: 0.41,\n        0.99: 0.55,\n        0.975: 0.83,\n        0.95: 1.15,\n        0.9: 1.61,\n        0.5: 4.35,\n        0.1: 9.24,\n        0.05: 11.07,\n        0.025: 12.83,\n        0.01: 15.09,\n        0.005: 16.75\n    },\n    6: {\n        0.995: 0.68,\n        0.99: 0.87,\n        0.975: 1.24,\n        0.95: 1.64,\n        0.9: 2.2,\n        0.5: 5.35,\n        0.1: 10.65,\n        0.05: 12.59,\n        0.025: 14.45,\n        0.01: 16.81,\n        0.005: 18.55\n    },\n    7: {\n        0.995: 0.99,\n        0.99: 1.25,\n        0.975: 1.69,\n        0.95: 2.17,\n        0.9: 2.83,\n        0.5: 6.35,\n        0.1: 12.02,\n        0.05: 14.07,\n        0.025: 16.01,\n        0.01: 18.48,\n        0.005: 20.28\n    },\n    8: {\n        0.995: 1.34,\n        0.99: 1.65,\n        0.975: 2.18,\n        0.95: 2.73,\n        0.9: 3.49,\n        0.5: 7.34,\n        0.1: 13.36,\n        0.05: 15.51,\n        0.025: 17.53,\n        0.01: 20.09,\n        0.005: 21.96\n    },\n    9: {\n        0.995: 1.73,\n        0.99: 2.09,\n        0.975: 2.7,\n        0.95: 3.33,\n        0.9: 4.17,\n        0.5: 8.34,\n        0.1: 14.68,\n        0.05: 16.92,\n        0.025: 19.02,\n        0.01: 21.67,\n        0.005: 23.59\n    },\n    10: {\n        0.995: 2.16,\n        0.99: 2.56,\n        0.975: 3.25,\n        0.95: 3.94,\n        0.9: 4.87,\n        0.5: 9.34,\n        0.1: 15.99,\n        0.05: 18.31,\n        0.025: 20.48,\n        0.01: 23.21,\n        0.005: 25.19\n    },\n    11: {\n        0.995: 2.6,\n        0.99: 3.05,\n        0.975: 3.82,\n        0.95: 4.57,\n        0.9: 5.58,\n        0.5: 10.34,\n        0.1: 17.28,\n        0.05: 19.68,\n        0.025: 21.92,\n        0.01: 24.72,\n        0.005: 26.76\n    },\n    12: {\n        0.995: 3.07,\n        0.99: 3.57,\n        0.975: 4.4,\n        0.95: 5.23,\n        0.9: 6.3,\n        0.5: 11.34,\n        0.1: 18.55,\n        0.05: 21.03,\n        0.025: 23.34,\n        0.01: 26.22,\n        0.005: 28.3\n    },\n    13: {\n        0.995: 3.57,\n        0.99: 4.11,\n        0.975: 5.01,\n        0.95: 5.89,\n        0.9: 7.04,\n        0.5: 12.34,\n        0.1: 19.81,\n        0.05: 22.36,\n        0.025: 24.74,\n        0.01: 27.69,\n        0.005: 29.82\n    },\n    14: {\n        0.995: 4.07,\n        0.99: 4.66,\n        0.975: 5.63,\n        0.95: 6.57,\n        0.9: 7.79,\n        0.5: 13.34,\n        0.1: 21.06,\n        0.05: 23.68,\n        0.025: 26.12,\n        0.01: 29.14,\n        0.005: 31.32\n    },\n    15: {\n        0.995: 4.6,\n        0.99: 5.23,\n        0.975: 6.27,\n        0.95: 7.26,\n        0.9: 8.55,\n        0.5: 14.34,\n        0.1: 22.31,\n        0.05: 25,\n        0.025: 27.49,\n        0.01: 30.58,\n        0.005: 32.8\n    },\n    16: {\n        0.995: 5.14,\n        0.99: 5.81,\n        0.975: 6.91,\n        0.95: 7.96,\n        0.9: 9.31,\n        0.5: 15.34,\n        0.1: 23.54,\n        0.05: 26.3,\n        0.025: 28.85,\n        0.01: 32,\n        0.005: 34.27\n    },\n    17: {\n        0.995: 5.7,\n        0.99: 6.41,\n        0.975: 7.56,\n        0.95: 8.67,\n        0.9: 10.09,\n        0.5: 16.34,\n        0.1: 24.77,\n        0.05: 27.59,\n        0.025: 30.19,\n        0.01: 33.41,\n        0.005: 35.72\n    },\n    18: {\n        0.995: 6.26,\n        0.99: 7.01,\n        0.975: 8.23,\n        0.95: 9.39,\n        0.9: 10.87,\n        0.5: 17.34,\n        0.1: 25.99,\n        0.05: 28.87,\n        0.025: 31.53,\n        0.01: 34.81,\n        0.005: 37.16\n    },\n    19: {\n        0.995: 6.84,\n        0.99: 7.63,\n        0.975: 8.91,\n        0.95: 10.12,\n        0.9: 11.65,\n        0.5: 18.34,\n        0.1: 27.2,\n        0.05: 30.14,\n        0.025: 32.85,\n        0.01: 36.19,\n        0.005: 38.58\n    },\n    20: {\n        0.995: 7.43,\n        0.99: 8.26,\n        0.975: 9.59,\n        0.95: 10.85,\n        0.9: 12.44,\n        0.5: 19.34,\n        0.1: 28.41,\n        0.05: 31.41,\n        0.025: 34.17,\n        0.01: 37.57,\n        0.005: 40\n    },\n    21: {\n        0.995: 8.03,\n        0.99: 8.9,\n        0.975: 10.28,\n        0.95: 11.59,\n        0.9: 13.24,\n        0.5: 20.34,\n        0.1: 29.62,\n        0.05: 32.67,\n        0.025: 35.48,\n        0.01: 38.93,\n        0.005: 41.4\n    },\n    22: {\n        0.995: 8.64,\n        0.99: 9.54,\n        0.975: 10.98,\n        0.95: 12.34,\n        0.9: 14.04,\n        0.5: 21.34,\n        0.1: 30.81,\n        0.05: 33.92,\n        0.025: 36.78,\n        0.01: 40.29,\n        0.005: 42.8\n    },\n    23: {\n        0.995: 9.26,\n        0.99: 10.2,\n        0.975: 11.69,\n        0.95: 13.09,\n        0.9: 14.85,\n        0.5: 22.34,\n        0.1: 32.01,\n        0.05: 35.17,\n        0.025: 38.08,\n        0.01: 41.64,\n        0.005: 44.18\n    },\n    24: {\n        0.995: 9.89,\n        0.99: 10.86,\n        0.975: 12.4,\n        0.95: 13.85,\n        0.9: 15.66,\n        0.5: 23.34,\n        0.1: 33.2,\n        0.05: 36.42,\n        0.025: 39.36,\n        0.01: 42.98,\n        0.005: 45.56\n    },\n    25: {\n        0.995: 10.52,\n        0.99: 11.52,\n        0.975: 13.12,\n        0.95: 14.61,\n        0.9: 16.47,\n        0.5: 24.34,\n        0.1: 34.28,\n        0.05: 37.65,\n        0.025: 40.65,\n        0.01: 44.31,\n        0.005: 46.93\n    },\n    26: {\n        0.995: 11.16,\n        0.99: 12.2,\n        0.975: 13.84,\n        0.95: 15.38,\n        0.9: 17.29,\n        0.5: 25.34,\n        0.1: 35.56,\n        0.05: 38.89,\n        0.025: 41.92,\n        0.01: 45.64,\n        0.005: 48.29\n    },\n    27: {\n        0.995: 11.81,\n        0.99: 12.88,\n        0.975: 14.57,\n        0.95: 16.15,\n        0.9: 18.11,\n        0.5: 26.34,\n        0.1: 36.74,\n        0.05: 40.11,\n        0.025: 43.19,\n        0.01: 46.96,\n        0.005: 49.65\n    },\n    28: {\n        0.995: 12.46,\n        0.99: 13.57,\n        0.975: 15.31,\n        0.95: 16.93,\n        0.9: 18.94,\n        0.5: 27.34,\n        0.1: 37.92,\n        0.05: 41.34,\n        0.025: 44.46,\n        0.01: 48.28,\n        0.005: 50.99\n    },\n    29: {\n        0.995: 13.12,\n        0.99: 14.26,\n        0.975: 16.05,\n        0.95: 17.71,\n        0.9: 19.77,\n        0.5: 28.34,\n        0.1: 39.09,\n        0.05: 42.56,\n        0.025: 45.72,\n        0.01: 49.59,\n        0.005: 52.34\n    },\n    30: {\n        0.995: 13.79,\n        0.99: 14.95,\n        0.975: 16.79,\n        0.95: 18.49,\n        0.9: 20.6,\n        0.5: 29.34,\n        0.1: 40.26,\n        0.05: 43.77,\n        0.025: 46.98,\n        0.01: 50.89,\n        0.005: 53.67\n    },\n    40: {\n        0.995: 20.71,\n        0.99: 22.16,\n        0.975: 24.43,\n        0.95: 26.51,\n        0.9: 29.05,\n        0.5: 39.34,\n        0.1: 51.81,\n        0.05: 55.76,\n        0.025: 59.34,\n        0.01: 63.69,\n        0.005: 66.77\n    },\n    50: {\n        0.995: 27.99,\n        0.99: 29.71,\n        0.975: 32.36,\n        0.95: 34.76,\n        0.9: 37.69,\n        0.5: 49.33,\n        0.1: 63.17,\n        0.05: 67.5,\n        0.025: 71.42,\n        0.01: 76.15,\n        0.005: 79.49\n    },\n    60: {\n        0.995: 35.53,\n        0.99: 37.48,\n        0.975: 40.48,\n        0.95: 43.19,\n        0.9: 46.46,\n        0.5: 59.33,\n        0.1: 74.4,\n        0.05: 79.08,\n        0.025: 83.3,\n        0.01: 88.38,\n        0.005: 91.95\n    },\n    70: {\n        0.995: 43.28,\n        0.99: 45.44,\n        0.975: 48.76,\n        0.95: 51.74,\n        0.9: 55.33,\n        0.5: 69.33,\n        0.1: 85.53,\n        0.05: 90.53,\n        0.025: 95.02,\n        0.01: 100.42,\n        0.005: 104.22\n    },\n    80: {\n        0.995: 51.17,\n        0.99: 53.54,\n        0.975: 57.15,\n        0.95: 60.39,\n        0.9: 64.28,\n        0.5: 79.33,\n        0.1: 96.58,\n        0.05: 101.88,\n        0.025: 106.63,\n        0.01: 112.33,\n        0.005: 116.32\n    },\n    90: {\n        0.995: 59.2,\n        0.99: 61.75,\n        0.975: 65.65,\n        0.95: 69.13,\n        0.9: 73.29,\n        0.5: 89.33,\n        0.1: 107.57,\n        0.05: 113.14,\n        0.025: 118.14,\n        0.01: 124.12,\n        0.005: 128.3\n    },\n    100: {\n        0.995: 67.33,\n        0.99: 70.06,\n        0.975: 74.22,\n        0.95: 77.93,\n        0.9: 82.36,\n        0.5: 99.33,\n        0.1: 118.5,\n        0.05: 124.34,\n        0.025: 129.56,\n        0.01: 135.81,\n        0.005: 140.17\n    }\n};\n\nexport default chiSquaredDistributionTable;\n","import interquartileRange from \"./interquartile_range\";\nimport stddev from \"./sample_standard_deviation\";\n\nconst SQRT_2PI = Math.sqrt(2 * Math.PI);\n\n/**\n * [Well-known kernels](https://en.wikipedia.org/wiki/Kernel_(statistics)#Kernel_functions_in_common_use)\n * @private\n */\nconst kernels = {\n    /**\n     * The gaussian kernel.\n     * @private\n     */\n    gaussian: function (u) {\n        return Math.exp(-0.5 * u * u) / SQRT_2PI;\n    }\n};\n\n/**\n * Well known bandwidth selection methods\n * @private\n */\nconst bandwidthMethods = {\n    /**\n     * The [\"normal reference distribution\"\n     * rule-of-thumb](https://stat.ethz.ch/R-manual/R-devel/library/MASS/html/bandwidth.nrd.html),\n     * a commonly used version of [Silverman's\n     * rule-of-thumb](https://en.wikipedia.org/wiki/Kernel_density_estimation#A_rule-of-thumb_bandwidth_estimator).\n     * @private\n     */\n    nrd: function (x) {\n        let s = stddev(x);\n        const iqr = interquartileRange(x);\n        if (typeof iqr === \"number\") {\n            s = Math.min(s, iqr / 1.34);\n        }\n        return 1.06 * s * Math.pow(x.length, -0.2);\n    }\n};\n\n/**\n * [Kernel density estimation](https://en.wikipedia.org/wiki/Kernel_density_estimation)\n * is a useful tool for, among other things, estimating the shape of the\n * underlying probability distribution from a sample.\n *\n * @name kernelDensityEstimation\n * @param X sample values\n * @param kernel The kernel function to use. If a function is provided, it should return non-negative values and integrate to 1. Defaults to 'gaussian'.\n * @param bandwidthMethod The \"bandwidth selection\" method to use, or a fixed bandwidth value. Defaults to \"nrd\", the commonly-used [\"normal reference distribution\" rule-of-thumb](https://stat.ethz.ch/R-manual/R-devel/library/MASS/html/bandwidth.nrd.html).\n * @returns {Function} An estimated [probability density function](https://en.wikipedia.org/wiki/Probability_density_function) for the given sample. The returned function runs in `O(X.length)`.\n */\nfunction kernelDensityEstimation(X, kernel, bandwidthMethod) {\n    let kernelFn;\n    if (kernel === undefined) {\n        kernelFn = kernels.gaussian;\n    } else if (typeof kernel === \"string\") {\n        if (!kernels[kernel]) {\n            throw new Error('Unknown kernel \"' + kernel + '\"');\n        }\n        kernelFn = kernels[kernel];\n    } else {\n        kernelFn = kernel;\n    }\n\n    let bandwidth;\n    if (typeof bandwidthMethod === \"undefined\") {\n        bandwidth = bandwidthMethods.nrd(X);\n    } else if (typeof bandwidthMethod === \"string\") {\n        if (!bandwidthMethods[bandwidthMethod]) {\n            throw new Error(\n                'Unknown bandwidth method \"' + bandwidthMethod + '\"'\n            );\n        }\n        bandwidth = bandwidthMethods[bandwidthMethod](X);\n    } else {\n        bandwidth = bandwidthMethod;\n    }\n\n    return function (x) {\n        let i = 0;\n        let sum = 0;\n        for (i = 0; i < X.length; i++) {\n            sum += kernelFn((x - X[i]) / bandwidth);\n        }\n        return sum / bandwidth / X.length;\n    };\n}\n\nexport default kernelDensityEstimation;\n","const SQRT_2PI = Math.sqrt(2 * Math.PI);\n\nfunction cumulativeDistribution(z) {\n    let sum = z,\n        tmp = z;\n\n    // 15 iterations are enough for 4-digit precision\n    for (let i = 1; i < 15; i++) {\n        tmp *= (z * z) / (2 * i + 1);\n        sum += tmp;\n    }\n    return (\n        Math.round((0.5 + (sum / SQRT_2PI) * Math.exp((-z * z) / 2)) * 1e4) /\n        1e4\n    );\n}\n\n/**\n * A standard normal table, also called the unit normal table or Z table,\n * is a mathematical table for the values of Φ (phi), which are the values of\n * the [cumulative distribution function](https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function)\n * of the normal distribution. It is used to find the probability that a\n * statistic is observed below, above, or between values on the standard\n * normal distribution, and by extension, any normal distribution.\n */\nconst standardNormalTable = [];\n\nfor (let z = 0; z <= 3.09; z += 0.01) {\n    standardNormalTable.push(cumulativeDistribution(z));\n}\n\nexport default standardNormalTable;\n","/**\n * **[Gaussian error function](http://en.wikipedia.org/wiki/Error_function)**\n *\n * The `errorFunction(x/(sd * Math.sqrt(2)))` is the probability that a value in a\n * normal distribution with standard deviation sd is within x of the mean.\n *\n * This function returns a numerical approximation to the exact value.\n * It uses Horner's method to evaluate the polynomial of τ (tau).\n *\n * @param {number} x input\n * @return {number} error estimation\n * @example\n * errorFunction(1).toFixed(2); // => '0.84'\n */\nfunction errorFunction(x) {\n    const t = 1 / (1 + 0.5 * Math.abs(x));\n    const tau =\n        t *\n        Math.exp(\n            -x * x +\n                ((((((((0.17087277 * t - 0.82215223) * t + 1.48851587) * t -\n                    1.13520398) *\n                    t +\n                    0.27886807) *\n                    t -\n                    0.18628806) *\n                    t +\n                    0.09678418) *\n                    t +\n                    0.37409196) *\n                    t +\n                    1.00002368) *\n                    t -\n                1.26551223\n        );\n    if (x >= 0) {\n        return 1 - tau;\n    } else {\n        return tau - 1;\n    }\n}\n\nexport default errorFunction;\n","/**\n * The Inverse [Gaussian error function](http://en.wikipedia.org/wiki/Error_function)\n * returns a numerical approximation to the value that would have caused\n * `errorFunction()` to return x.\n *\n * @param {number} x value of error function\n * @returns {number} estimated inverted value\n */\nfunction inverseErrorFunction(x) {\n    const a = (8 * (Math.PI - 3)) / (3 * Math.PI * (4 - Math.PI));\n\n    const inv = Math.sqrt(\n        Math.sqrt(\n            Math.pow(2 / (Math.PI * a) + Math.log(1 - x * x) / 2, 2) -\n                Math.log(1 - x * x) / a\n        ) -\n            (2 / (Math.PI * a) + Math.log(1 - x * x) / 2)\n    );\n\n    if (x >= 0) {\n        return inv;\n    } else {\n        return -inv;\n    }\n}\n\nexport default inverseErrorFunction;\n","/**\n * [Sign](https://en.wikipedia.org/wiki/Sign_function) is a function\n * that extracts the sign of a real number\n *\n * @param {number} x input value\n * @returns {number} sign value either 1, 0 or -1\n * @throws {TypeError} if the input argument x is not a number\n * @private\n *\n * @example\n * sign(2); // => 1\n */\nfunction sign(x) {\n    if (typeof x === \"number\") {\n        if (x < 0) {\n            return -1;\n        } else if (x === 0) {\n            return 0;\n        } else {\n            return 1;\n        }\n    } else {\n        throw new TypeError(\"not a number\");\n    }\n}\n\nexport default sign;\n","/**\n * Calculate Euclidean distance between two points.\n * @param {Array<number>} left First N-dimensional point.\n * @param {Array<number>} right Second N-dimensional point.\n * @returns {number} Distance.\n */\nfunction euclideanDistance(left, right) {\n    let sum = 0;\n    for (let i = 0; i < left.length; i++) {\n        const diff = left[i] - right[i];\n        sum += diff * diff;\n    }\n    return Math.sqrt(sum);\n}\n\nexport default euclideanDistance;\n","import euclideanDistance from \"./euclidean_distance\";\nimport makeMatrix from \"./make_matrix\";\nimport sample from \"./sample\";\n\n/**\n * @typedef {Object} kMeansReturn\n * @property {Array<number>} labels The labels.\n * @property {Array<Array<number>>} centroids The cluster centroids.\n */\n\n/**\n * Perform k-means clustering.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points to be clustered.\n * @param {number} numCluster How many clusters to create.\n * @param {Function} randomSource An optional entropy source that generates uniform values in [0, 1).\n * @return {kMeansReturn} Labels (same length as data) and centroids (same length as numCluster).\n * @throws {Error} If any centroids wind up friendless (i.e., without associated points).\n *\n * @example\n * kMeansCluster([[0.0, 0.5], [1.0, 0.5]], 2); // => {labels: [0, 1], centroids: [[0.0, 0.5], [1.0 0.5]]}\n */\nfunction kMeansCluster(points, numCluster, randomSource = Math.random) {\n    let oldCentroids = null;\n    let newCentroids = sample(points, numCluster, randomSource);\n    let labels = null;\n    let change = Number.MAX_VALUE;\n    while (change !== 0) {\n        labels = labelPoints(points, newCentroids);\n        oldCentroids = newCentroids;\n        newCentroids = calculateCentroids(points, labels, numCluster);\n        change = calculateChange(newCentroids, oldCentroids);\n    }\n    return {\n        labels: labels,\n        centroids: newCentroids\n    };\n}\n\n/**\n * Label each point according to which centroid it is closest to.\n *\n * @private\n * @param {Array<Array<number>>} points Array of XY coordinates.\n * @param {Array<Array<number>>} centroids Current centroids.\n * @return {Array<number>} Group labels.\n */\nfunction labelPoints(points, centroids) {\n    return points.map((p) => {\n        let minDist = Number.MAX_VALUE;\n        let label = -1;\n        for (let i = 0; i < centroids.length; i++) {\n            const dist = euclideanDistance(p, centroids[i]);\n            if (dist < minDist) {\n                minDist = dist;\n                label = i;\n            }\n        }\n        return label;\n    });\n}\n\n/**\n * Calculate centroids for points given labels.\n *\n * @private\n * @param {Array<Array<number>>} points Array of XY coordinates.\n * @param {Array<number>} labels Which groups points belong to.\n * @param {number} numCluster Number of clusters being created.\n * @return {Array<Array<number>>} Centroid for each group.\n * @throws {Error} If any centroids wind up friendless (i.e., without associated points).\n */\nfunction calculateCentroids(points, labels, numCluster) {\n    // Initialize accumulators.\n    const dimension = points[0].length;\n    const centroids = makeMatrix(numCluster, dimension);\n    const counts = Array(numCluster).fill(0);\n\n    // Add points to centroids' accumulators and count points per centroid.\n    const numPoints = points.length;\n    for (let i = 0; i < numPoints; i++) {\n        const point = points[i];\n        const label = labels[i];\n        const current = centroids[label];\n        for (let j = 0; j < dimension; j++) {\n            current[j] += point[j];\n        }\n        counts[label] += 1;\n    }\n\n    // Rescale centroids, checking for any that have no points.\n    for (let i = 0; i < numCluster; i++) {\n        if (counts[i] === 0) {\n            throw new Error(`Centroid ${i} has no friends`);\n        }\n        const centroid = centroids[i];\n        for (let j = 0; j < dimension; j++) {\n            centroid[j] /= counts[i];\n        }\n    }\n\n    return centroids;\n}\n\n/**\n * Calculate the difference between old centroids and new centroids.\n *\n * @private\n * @param {Array<Array<number>>} left One list of centroids.\n * @param {Array<Array<number>>} right Another list of centroids.\n * @return {number} Distance between centroids.\n */\nfunction calculateChange(left, right) {\n    let total = 0;\n    for (let i = 0; i < left.length; i++) {\n        total += euclideanDistance(left[i], right[i]);\n    }\n    return total;\n}\n\nexport default kMeansCluster;\n","import euclideanDistance from \"./euclidean_distance\";\nimport makeMatrix from \"./make_matrix\";\nimport max from \"./max\";\n\n/**\n * Calculate the [silhouette values](https://en.wikipedia.org/wiki/Silhouette_(clustering))\n * for clustered data.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {Array<number>} The silhouette value for each point.\n *\n * @example\n * silhouette([[0.25], [0.75]], [0, 0]); // => [1.0, 1.0]\n */\nfunction silhouette(points, labels) {\n    if (points.length !== labels.length) {\n        throw new Error(\"must have exactly as many labels as points\");\n    }\n    const groupings = createGroups(labels);\n    const distances = calculateAllDistances(points);\n    const result = [];\n    for (let i = 0; i < points.length; i++) {\n        let s = 0;\n        if (groupings[labels[i]].length > 1) {\n            const a = meanDistanceFromPointToGroup(\n                i,\n                groupings[labels[i]],\n                distances\n            );\n            const b = meanDistanceToNearestGroup(\n                i,\n                labels,\n                groupings,\n                distances\n            );\n            s = (b - a) / Math.max(a, b);\n        }\n        result.push(s);\n    }\n    return result;\n}\n\n/**\n * Create a lookup table mapping group IDs to point IDs.\n *\n * @private\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {Array<Array<number>>} An array of length G, each of whose entries is an array\n * containing the indices of the points in that group.\n */\nfunction createGroups(labels) {\n    const numGroups = 1 + max(labels);\n    const result = Array(numGroups);\n    for (let i = 0; i < labels.length; i++) {\n        const label = labels[i];\n        if (result[label] === undefined) {\n            result[label] = [];\n        }\n        result[label].push(i);\n    }\n    return result;\n}\n\n/**\n * Create a lookup table of all inter-point distances.\n *\n * @private\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @return {Array<Array<number>>} A symmetric square array of inter-point distances\n * (zero on the diagonal).\n */\nfunction calculateAllDistances(points) {\n    const numPoints = points.length;\n    const result = makeMatrix(numPoints, numPoints);\n    for (let i = 0; i < numPoints; i++) {\n        for (let j = 0; j < i; j++) {\n            result[i][j] = euclideanDistance(points[i], points[j]);\n            result[j][i] = result[i][j];\n        }\n    }\n    return result;\n}\n\n/**\n * Calculate the mean distance between this point and all the points in the\n * nearest group (as determined by which point in another group is closest).\n *\n * @private\n * @param {number} which The index of this point.\n * @param {Array<number>} labels Labels of points.\n * @param {Array<Array<number>>} groupings An array whose entries are arrays\n * containing the indices of the points in that group.\n * @param {Array<Array<number>>} distances A symmetric square array of inter-point\n * distances.\n * @return {number} The mean distance from this point to others in the nearest\n * group.\n */\nfunction meanDistanceToNearestGroup(which, labels, groupings, distances) {\n    const label = labels[which];\n    let result = Number.MAX_VALUE;\n    for (let i = 0; i < groupings.length; i++) {\n        if (i !== label) {\n            const d = meanDistanceFromPointToGroup(\n                which,\n                groupings[i],\n                distances\n            );\n            if (d < result) {\n                result = d;\n            }\n        }\n    }\n    return result;\n}\n\n/**\n * Calculate the mean distance between a point and all the points in a group\n * (possibly its own).\n *\n * @private\n * @param {number} which The index of this point.\n * @param {Array<number>} group The indices of all the points in the group in\n * question.\n * @param {Array<Array<number>>} distances A symmetric square array of inter-point\n * distances.\n * @return {number} The mean distance from this point to others in the\n * specified group.\n */\nfunction meanDistanceFromPointToGroup(which, group, distances) {\n    let total = 0;\n    for (let i = 0; i < group.length; i++) {\n        total += distances[which][group[i]];\n    }\n    return total / group.length;\n}\n\nexport default silhouette;\n","/**\n * Relative error.\n *\n * This is more difficult to calculate than it first appears [1,2].  The usual\n * formula for the relative error between an actual value A and an expected\n * value E is `|(A-E)/E|`, but:\n *\n * 1. If the expected value is 0, any other value has infinite relative error,\n *    which is counter-intuitive: if the expected voltage is 0, getting 1/10th\n *    of a volt doesn't feel like an infinitely large error.\n *\n * 2. This formula does not satisfy the mathematical definition of a metric [3].\n *    [4] solved this problem by defining the relative error as `|ln(|A/E|)|`,\n *    but that formula only works if all values are positive: for example, it\n *    reports the relative error of -10 and 10 as 0.\n *\n * Our implementation sticks with convention and returns:\n *\n * - 0 if the actual and expected values are both zero\n * - Infinity if the actual value is non-zero and the expected value is zero\n * - `|(A-E)/E|` in all other cases\n *\n * [1] https://math.stackexchange.com/questions/677852/how-to-calculate-relative-error-when-true-value-is-zero\n * [2] https://en.wikipedia.org/wiki/Relative_change_and_difference\n * [3] https://en.wikipedia.org/wiki/Metric_(mathematics)#Definition\n * [4] F.W.J. Olver: \"A New Approach to Error Arithmetic.\" SIAM Journal on\n *     Numerical Analysis, 15(2), 1978, 10.1137/0715024.\n *\n * @param {number} actual The actual value.\n * @param {number} expected The expected value.\n * @return {number} The relative error.\n */\nfunction relativeError(actual, expected) {\n    if (actual === 0 && expected === 0) {\n        return 0;\n    }\n    return Math.abs((actual - expected) / expected);\n}\n\nexport default relativeError;\n","/**\n * When adding a new value to a list, one does not have to necessary\n * recompute the mean of the list in linear time. They can instead use\n * this function to compute the new mean by providing the current mean,\n * the number of elements in the list that produced it and the new\n * value to add.\n *\n * @since 2.5.0\n * @param {number} mean current mean\n * @param {number} n number of items in the list\n * @param {number} newValue the added value\n * @returns {number} the new mean\n *\n * @example\n * addToMean(14, 5, 53); // => 20.5\n */\nfunction addToMean(mean, n, newValue) {\n    return mean + (newValue - mean) / (n + 1);\n}\n\nexport default addToMean;\n","import epsilon from \"./epsilon\";\nimport relativeError from \"./relative_error\";\n\n/**\n * Approximate equality.\n *\n * @param {number} actual The value to be tested.\n * @param {number} expected The reference value.\n * @param {number} tolerance The acceptable relative difference.\n * @return {boolean} Whether numbers are within tolerance.\n */\nfunction approxEqual(actual, expected, tolerance = epsilon) {\n    return relativeError(actual, expected) <= tolerance;\n}\n\nexport default approxEqual;\n","/**\n * The [Bernoulli distribution](http://en.wikipedia.org/wiki/Bernoulli_distribution)\n * is the probability discrete\n * distribution of a random variable which takes value 1 with success\n * probability `p` and value 0 with failure\n * probability `q` = 1 - `p`. It can be used, for example, to represent the\n * toss of a coin, where \"1\" is defined to mean \"heads\" and \"0\" is defined\n * to mean \"tails\" (or vice versa). It is\n * a special case of a Binomial Distribution\n * where `n` = 1.\n *\n * @param {number} p input value, between 0 and 1 inclusive\n * @returns {number[]} values of bernoulli distribution at this point\n * @throws {Error} if p is outside 0 and 1\n * @example\n * bernoulliDistribution(0.3); // => [0.7, 0.3]\n */\nfunction bernoulliDistribution(p) /*: number[] */ {\n    // Check that `p` is a valid probability (0 ≤ p ≤ 1)\n    if (p < 0 || p > 1) {\n        throw new Error(\n            \"bernoulliDistribution requires probability to be between 0 and 1 inclusive\"\n        );\n    }\n\n    return [1 - p, p];\n}\n\nexport default bernoulliDistribution;\n","import epsilon from \"./epsilon\";\n\n/**\n * The [Binomial Distribution](http://en.wikipedia.org/wiki/Binomial_distribution) is the discrete probability\n * distribution of the number of successes in a sequence of n independent yes/no experiments, each of which yields\n * success with probability `probability`. Such a success/failure experiment is also called a Bernoulli experiment or\n * Bernoulli trial; when trials = 1, the Binomial Distribution is a Bernoulli Distribution.\n *\n * @param {number} trials number of trials to simulate\n * @param {number} probability\n * @returns {number[]} output\n */\nfunction binomialDistribution(trials, probability) /*: ?number[] */ {\n    // Check that `p` is a valid probability (0 ≤ p ≤ 1),\n    // that `n` is an integer, strictly positive.\n    if (probability < 0 || probability > 1 || trials <= 0 || trials % 1 !== 0) {\n        return undefined;\n    }\n\n    // We initialize `x`, the random variable, and `accumulator`, an accumulator\n    // for the cumulative distribution function to 0. `distribution_functions`\n    // is the object we'll return with the `probability_of_x` and the\n    // `cumulativeProbability_of_x`, as well as the calculated mean &\n    // variance. We iterate until the `cumulativeProbability_of_x` is\n    // within `epsilon` of 1.0.\n    let x = 0;\n    let cumulativeProbability = 0;\n    const cells = [];\n    let binomialCoefficient = 1;\n\n    // This algorithm iterates through each potential outcome,\n    // until the `cumulativeProbability` is very close to 1, at\n    // which point we've defined the vast majority of outcomes\n    do {\n        // a [probability mass function](https://en.wikipedia.org/wiki/Probability_mass_function)\n        cells[x] =\n            binomialCoefficient *\n            Math.pow(probability, x) *\n            Math.pow(1 - probability, trials - x);\n        cumulativeProbability += cells[x];\n        x++;\n        binomialCoefficient = (binomialCoefficient * (trials - x + 1)) / x;\n        // when the cumulativeProbability is nearly 1, we've calculated\n        // the useful range of this distribution\n    } while (cumulativeProbability < 1 - epsilon);\n\n    return cells;\n}\n\nexport default binomialDistribution;\n","import sign from \"./sign\";\n\n/**\n * [Bisection method](https://en.wikipedia.org/wiki/Bisection_method) is a root-finding\n * method that repeatedly bisects an interval to find the root.\n *\n * This function returns a numerical approximation to the exact value.\n *\n * @param {Function} func input function\n * @param {number} start - start of interval\n * @param {number} end - end of interval\n * @param {number} maxIterations - the maximum number of iterations\n * @param {number} errorTolerance - the error tolerance\n * @returns {number} estimated root value\n * @throws {TypeError} Argument func must be a function\n *\n * @example\n * bisect(Math.cos,0,4,100,0.003); // => 1.572265625\n */\nfunction bisect(func, start, end, maxIterations, errorTolerance) {\n    if (typeof func !== \"function\")\n        throw new TypeError(\"func must be a function\");\n\n    for (let i = 0; i < maxIterations; i++) {\n        const output = (start + end) / 2;\n\n        if (\n            func(output) === 0 ||\n            Math.abs((end - start) / 2) < errorTolerance\n        ) {\n            return output;\n        }\n\n        if (sign(func(output)) === sign(func(start))) {\n            start = output;\n        } else {\n            end = output;\n        }\n    }\n\n    throw new Error(\"maximum number of iterations exceeded\");\n}\n\nexport default bisect;\n","import chiSquaredDistributionTable from \"./chi_squared_distribution_table\";\nimport mean from \"./mean\";\n\n/**\n * The [χ2 (Chi-Squared) Goodness-of-Fit Test](http://en.wikipedia.org/wiki/Goodness_of_fit#Pearson.27s_chi-squared_test)\n * uses a measure of goodness of fit which is the sum of differences between observed and expected outcome frequencies\n * (that is, counts of observations), each squared and divided by the number of observations expected given the\n * hypothesized distribution. The resulting χ2 statistic, `chiSquared`, can be compared to the chi-squared distribution\n * to determine the goodness of fit. In order to determine the degrees of freedom of the chi-squared distribution, one\n * takes the total number of observed frequencies and subtracts the number of estimated parameters. The test statistic\n * follows, approximately, a chi-square distribution with (k − c) degrees of freedom where `k` is the number of non-empty\n * cells and `c` is the number of estimated parameters for the distribution.\n *\n * @param {Array<number>} data\n * @param {Function} distributionType a function that returns a point in a distribution:\n * for instance, binomial, bernoulli, or poisson\n * @param {number} significance\n * @returns {number} chi squared goodness of fit\n * @example\n * // Data from Poisson goodness-of-fit example 10-19 in William W. Hines & Douglas C. Montgomery,\n * // \"Probability and Statistics in Engineering and Management Science\", Wiley (1980).\n * var data1019 = [\n *     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n *     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n *     1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n *     2, 2, 2, 2, 2, 2, 2, 2, 2,\n *     3, 3, 3, 3\n * ];\n * ss.chiSquaredGoodnessOfFit(data1019, ss.poissonDistribution, 0.05); //= false\n */\nfunction chiSquaredGoodnessOfFit(data, distributionType, significance) {\n    // Estimate from the sample data, a weighted mean.\n    const inputMean = mean(data);\n    // Calculated value of the χ2 statistic.\n    let chiSquared = 0;\n    // Number of hypothesized distribution parameters estimated, expected to be supplied in the distribution test.\n    // Lose one degree of freedom for estimating `lambda` from the sample data.\n    const c = 1;\n    // The hypothesized distribution.\n    // Generate the hypothesized distribution.\n    const hypothesizedDistribution = distributionType(inputMean);\n    const observedFrequencies = [];\n    const expectedFrequencies = [];\n\n    // Create an array holding a histogram from the sample data, of\n    // the form `{ value: numberOfOcurrences }`\n    for (let i = 0; i < data.length; i++) {\n        if (observedFrequencies[data[i]] === undefined) {\n            observedFrequencies[data[i]] = 0;\n        }\n        observedFrequencies[data[i]]++;\n    }\n\n    // The histogram we created might be sparse - there might be gaps\n    // between values. So we iterate through the histogram, making\n    // sure that instead of undefined, gaps have 0 values.\n    for (let i = 0; i < observedFrequencies.length; i++) {\n        if (observedFrequencies[i] === undefined) {\n            observedFrequencies[i] = 0;\n        }\n    }\n\n    // Create an array holding a histogram of expected data given the\n    // sample size and hypothesized distribution.\n    for (const k in hypothesizedDistribution) {\n        if (k in observedFrequencies) {\n            expectedFrequencies[+k] = hypothesizedDistribution[k] * data.length;\n        }\n    }\n\n    // Working backward through the expected frequencies, collapse classes\n    // if less than three observations are expected for a class.\n    // This transformation is applied to the observed frequencies as well.\n    for (let k = expectedFrequencies.length - 1; k >= 0; k--) {\n        if (expectedFrequencies[k] < 3) {\n            expectedFrequencies[k - 1] += expectedFrequencies[k];\n            expectedFrequencies.pop();\n\n            observedFrequencies[k - 1] += observedFrequencies[k];\n            observedFrequencies.pop();\n        }\n    }\n\n    // Iterate through the squared differences between observed & expected\n    // frequencies, accumulating the `chiSquared` statistic.\n    for (let k = 0; k < observedFrequencies.length; k++) {\n        chiSquared +=\n            Math.pow(observedFrequencies[k] - expectedFrequencies[k], 2) /\n            expectedFrequencies[k];\n    }\n\n    // Calculate degrees of freedom for this test and look it up in the\n    // `chiSquaredDistributionTable` in order to\n    // accept or reject the goodness-of-fit of the hypothesized distribution.\n    // Degrees of freedom, calculated as (number of class intervals -\n    // number of hypothesized distribution parameters estimated - 1)\n    const degreesOfFreedom = observedFrequencies.length - c - 1;\n    return (\n        chiSquaredDistributionTable[degreesOfFreedom][significance] < chiSquared\n    );\n}\n\nexport default chiSquaredGoodnessOfFit;\n","/**\n * Split an array into chunks of a specified size. This function\n * has the same behavior as [PHP's array_chunk](http://php.net/manual/en/function.array-chunk.php)\n * function, and thus will insert smaller-sized chunks at the end if\n * the input size is not divisible by the chunk size.\n *\n * `x` is expected to be an array, and `chunkSize` a number.\n * The `x` array can contain any kind of data.\n *\n * @param {Array} x a sample\n * @param {number} chunkSize size of each output array. must be a positive integer\n * @returns {Array<Array>} a chunked array\n * @throws {Error} if chunk size is less than 1 or not an integer\n * @example\n * chunk([1, 2, 3, 4, 5, 6], 2);\n * // => [[1, 2], [3, 4], [5, 6]]\n */\nfunction chunk(x, chunkSize) {\n    // a list of result chunks, as arrays in an array\n    const output = [];\n\n    // `chunkSize` must be zero or higher - otherwise the loop below,\n    // in which we call `start += chunkSize`, will loop infinitely.\n    // So, we'll detect and throw in that case to indicate\n    // invalid input.\n    if (chunkSize < 1) {\n        throw new Error(\"chunk size must be a positive number\");\n    }\n\n    if (Math.floor(chunkSize) !== chunkSize) {\n        throw new Error(\"chunk size must be an integer\");\n    }\n\n    // `start` is the index at which `.slice` will start selecting\n    // new array elements\n    for (let start = 0; start < x.length; start += chunkSize) {\n        // for each chunk, slice that part of the array and add it\n        // to the output. The `.slice` function does not change\n        // the original array.\n        output.push(x.slice(start, start + chunkSize));\n    }\n    return output;\n}\n\nexport default chunk;\n","import mean from \"./mean\";\nimport sampleStandardDeviation from \"./sample_standard_deviation\";\n\n/**\n * The`coefficient of variation`_ is the ratio of the standard deviation to the mean.\n * .._`coefficient of variation`: https://en.wikipedia.org/wiki/Coefficient_of_variation\n *\n *\n * @param {Array} x input\n * @returns {number} coefficient of variation\n * @example\n * coefficientOfVariation([1, 2, 3, 4]).toFixed(3); // => 0.516\n * coefficientOfVariation([1, 2, 3, 4, 5]).toFixed(3); // => 0.527\n * coefficientOfVariation([-1, 0, 1, 2, 3, 4]).toFixed(3); // => 1.247\n */\nfunction coefficientOfVariation(x) {\n    return sampleStandardDeviation(x) / mean(x);\n}\n\nexport default coefficientOfVariation;\n","/**\n * Implementation of Combinations\n * Combinations are unique subsets of a collection - in this case, k x from a collection at a time.\n * https://en.wikipedia.org/wiki/Combination\n * @param {Array} x any type of data\n * @param {int} k the number of objects in each group (without replacement)\n * @returns {Array<Array>} array of permutations\n * @example\n * combinations([1, 2, 3], 2); // => [[1,2], [1,3], [2,3]]\n */\n\nfunction combinations(x, k) {\n    let i;\n    let subI;\n    const combinationList = [];\n    let subsetCombinations;\n    let next;\n\n    for (i = 0; i < x.length; i++) {\n        if (k === 1) {\n            combinationList.push([x[i]]);\n        } else {\n            subsetCombinations = combinations(x.slice(i + 1, x.length), k - 1);\n            for (subI = 0; subI < subsetCombinations.length; subI++) {\n                next = subsetCombinations[subI];\n                next.unshift(x[i]);\n                combinationList.push(next);\n            }\n        }\n    }\n    return combinationList;\n}\n\nexport default combinations;\n","/**\n * Implementation of [Combinations](https://en.wikipedia.org/wiki/Combination) with replacement\n * Combinations are unique subsets of a collection - in this case, k x from a collection at a time.\n * 'With replacement' means that a given element can be chosen multiple times.\n * Unlike permutation, order doesn't matter for combinations.\n *\n * @param {Array} x any type of data\n * @param {int} k the number of objects in each group (without replacement)\n * @returns {Array<Array>} array of permutations\n * @example\n * combinationsReplacement([1, 2], 2); // => [[1, 1], [1, 2], [2, 2]]\n */\nfunction combinationsReplacement(x, k) {\n    const combinationList = [];\n\n    for (let i = 0; i < x.length; i++) {\n        if (k === 1) {\n            // If we're requested to find only one element, we don't need\n            // to recurse: just push `x[i]` onto the list of combinations.\n            combinationList.push([x[i]]);\n        } else {\n            // Otherwise, recursively find combinations, given `k - 1`. Note that\n            // we request `k - 1`, so if you were looking for k=3 combinations, we're\n            // requesting k=2. This -1 gets reversed in the for loop right after this\n            // code, since we concatenate `x[i]` onto the selected combinations,\n            // bringing `k` back up to your requested level.\n            // This recursion may go many levels deep, since it only stops once\n            // k=1.\n            const subsetCombinations = combinationsReplacement(\n                x.slice(i, x.length),\n                k - 1\n            );\n\n            for (let j = 0; j < subsetCombinations.length; j++) {\n                combinationList.push([x[i]].concat(subsetCombinations[j]));\n            }\n        }\n    }\n\n    return combinationList;\n}\n\nexport default combinationsReplacement;\n","import combineMeans from \"./combine_means\";\n\n/**\n * When combining two lists of values for which one already knows the variances,\n * one does not have to necessary recompute the variance of the combined lists\n * in linear time. They can instead use this function to compute the combined\n * variance by providing the variance, mean & number of values of the first list\n * and the variance, mean & number of values of the second list.\n *\n * @since 3.0.0\n * @param {number} variance1 variance of the first list\n * @param {number} mean1 mean of the first list\n * @param {number} n1 number of items in the first list\n * @param {number} variance2 variance of the second list\n * @param {number} mean2 mean of the second list\n * @param {number} n2 number of items in the second list\n * @returns {number} the combined mean\n *\n * @example\n * combineVariances(14 / 3, 5, 3, 8 / 3, 4, 3); // => 47 / 12\n */\nfunction combineVariances(variance1, mean1, n1, variance2, mean2, n2) {\n    const newMean = combineMeans(mean1, n1, mean2, n2);\n\n    return (\n        (n1 * (variance1 + Math.pow(mean1 - newMean, 2)) +\n            n2 * (variance2 + Math.pow(mean2 - newMean, 2))) /\n        (n1 + n2)\n    );\n}\n\nexport default combineVariances;\n","/**\n * **[Logistic Cumulative Distribution Function](https://en.wikipedia.org/wiki/Logistic_distribution)**\n *\n * @param {number} x\n * @returns {number} cumulative standard logistic probability\n */\nfunction cumulativeStdLogisticProbability(x) {\n    return 1 / (Math.exp(-x) + 1);\n}\n\nexport default cumulativeStdLogisticProbability;\n","import standardNormalTable from \"./standard_normal_table\";\n\n/**\n * **[Cumulative Standard Normal Probability](http://en.wikipedia.org/wiki/Standard_normal_table)**\n *\n * Since probability tables cannot be\n * printed for every normal distribution, as there are an infinite variety\n * of normal distributions, it is common practice to convert a normal to a\n * standard normal and then use the standard normal table to find probabilities.\n *\n * You can use `.5 + .5 * errorFunction(x / Math.sqrt(2))` to calculate the probability\n * instead of looking it up in a table.\n *\n * @param {number} z\n * @returns {number} cumulative standard normal probability\n */\nfunction cumulativeStdNormalProbability(z) {\n    // Calculate the position of this value.\n    const absZ = Math.abs(z);\n    // Each row begins with a different\n    // significant digit: 0.5, 0.6, 0.7, and so on. Each value in the table\n    // corresponds to a range of 0.01 in the input values, so the value is\n    // multiplied by 100.\n    const index = Math.min(\n        Math.round(absZ * 100),\n        standardNormalTable.length - 1\n    );\n\n    // The index we calculate must be in the table as a positive value,\n    // but we still pay attention to whether the input is positive\n    // or negative, and flip the output value as a last step.\n    if (z >= 0) {\n        return standardNormalTable[index];\n    } else {\n        // due to floating-point arithmetic, values in the table with\n        // 4 significant figures can nevertheless end up as repeating\n        // fractions when they're computed here.\n        return +(1 - standardNormalTable[index]).toFixed(4);\n    }\n}\n\nexport default cumulativeStdNormalProbability;\n","import max from \"./max\";\nimport min from \"./min\";\n\n/**\n * Given an array of x, this will find the extent of the\n * x and return an array of breaks that can be used\n * to categorize the x into a number of classes. The\n * returned array will always be 1 longer than the number of\n * classes because it includes the minimum value.\n *\n * @param {Array<number>} x an array of number values\n * @param {number} nClasses number of desired classes\n * @returns {Array<number>} array of class break positions\n * @example\n * equalIntervalBreaks([1, 2, 3, 4, 5, 6], 4); // => [1, 2.25, 3.5, 4.75, 6]\n */\nfunction equalIntervalBreaks(x, nClasses) {\n    if (x.length < 2) {\n        return x;\n    }\n\n    const theMin = min(x);\n    const theMax = max(x);\n\n    // the first break will always be the minimum value\n    // in the xset\n    const breaks = [theMin];\n\n    // The size of each break is the full range of the x\n    // divided by the number of classes requested\n    const breakSize = (theMax - theMin) / nClasses;\n\n    // In the case of nClasses = 1, this loop won't run\n    // and the returned breaks will be [min, max]\n    for (let i = 1; i < nClasses; i++) {\n        breaks.push(breaks[0] + breakSize * i);\n    }\n\n    // the last break will always be the\n    // maximum.\n    breaks.push(theMax);\n\n    return breaks;\n}\n\nexport default equalIntervalBreaks;\n","/**\n * This computes the minimum & maximum number in an array.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {Array<number>} minimum & maximum value\n * @throws {Error} if the length of x is less than one\n * @example\n * extent([1, 2, 3, 4]);\n * // => [1, 4]\n */\nfunction extent(x) {\n    if (x.length === 0) {\n        throw new Error(\"extent requires at least one data point\");\n    }\n\n    let min = x[0];\n    let max = x[0];\n    for (let i = 1; i < x.length; i++) {\n        if (x[i] > max) {\n            max = x[i];\n        }\n        if (x[i] < min) {\n            min = x[i];\n        }\n    }\n    return [min, max];\n}\n\nexport default extent;\n","/**\n * The extent is the lowest & highest number in the array. With a sorted array,\n * the first element in the array is always the lowest while the last element is always the largest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {Array<number>} minimum & maximum value\n * @example\n * extentSorted([-100, -10, 1, 2, 5]); // => [-100, 5]\n */\nfunction extentSorted(x) {\n    return [x[0], x[x.length - 1]];\n}\n\nexport default extentSorted;\n","import factorial from \"./factorial\";\n\n/**\n * Compute the [gamma function](https://en.wikipedia.org/wiki/Gamma_function) of a value using Nemes' approximation.\n * The gamma of n is equivalent to (n-1)!, but unlike the factorial function, gamma is defined for all real n except zero\n * and negative integers (where NaN is returned). Note, the gamma function is also well-defined for complex numbers,\n * though this implementation currently does not handle complex numbers as input values.\n * Nemes' approximation is defined [here](https://arxiv.org/abs/1003.6020) as Theorem 2.2.\n * Negative values use [Euler's reflection formula](https://en.wikipedia.org/wiki/Gamma_function#Properties) for computation.\n *\n * @param {number} n Any real number except for zero and negative integers.\n * @returns {number} The gamma of the input value.\n *\n * @example\n * gamma(11.5); // 11899423.084037038\n * gamma(-11.5); // 2.29575810481609e-8\n * gamma(5); // 24\n */\nfunction gamma(n) {\n    if (Number.isInteger(n)) {\n        if (n <= 0) {\n            // gamma not defined for zero or negative integers\n            return NaN;\n        } else {\n            // use factorial for integer inputs\n            return factorial(n - 1);\n        }\n    }\n\n    // Decrement n, because approximation is defined for n - 1\n    n--;\n\n    if (n < 0) {\n        // Use Euler's reflection formula for negative inputs\n        // see:  https://en.wikipedia.org/wiki/Gamma_function#Properties\n        return Math.PI / (Math.sin(Math.PI * -n) * gamma(-n));\n    } else {\n        // Nemes' expansion approximation\n        const seriesCoefficient =\n            Math.pow(n / Math.E, n) * Math.sqrt(2 * Math.PI * (n + 1 / 6));\n\n        const seriesDenom = n + 1 / 4;\n\n        const seriesExpansion =\n            1 +\n            1 / 144 / Math.pow(seriesDenom, 2) -\n            1 / 12960 / Math.pow(seriesDenom, 3) -\n            257 / 207360 / Math.pow(seriesDenom, 4) -\n            52 / 2612736 / Math.pow(seriesDenom, 5) +\n            5741173 / 9405849600 / Math.pow(seriesDenom, 6) +\n            37529 / 18811699200 / Math.pow(seriesDenom, 7);\n\n        return seriesCoefficient * seriesExpansion;\n    }\n}\n\nexport default gamma;\n","/**\n * The [Geometric Mean](https://en.wikipedia.org/wiki/Geometric_mean) is\n * a mean function that is more useful for numbers in different\n * ranges.\n *\n * This is the nth root of the input numbers multiplied by each other.\n *\n * The geometric mean is often useful for\n * **[proportional growth](https://en.wikipedia.org/wiki/Geometric_mean#Proportional_growth)**: given\n * growth rates for multiple years, like _80%, 16.66% and 42.85%_, a simple\n * mean will incorrectly estimate an average growth rate, whereas a geometric\n * mean will correctly estimate a growth rate that, over those years,\n * will yield the same end value.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} geometric mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n * @example\n * var growthRates = [1.80, 1.166666, 1.428571];\n * var averageGrowth = ss.geometricMean(growthRates);\n * var averageGrowthRates = [averageGrowth, averageGrowth, averageGrowth];\n * var startingValue = 10;\n * var startingValueMean = 10;\n * growthRates.forEach(function(rate) {\n *   startingValue *= rate;\n * });\n * averageGrowthRates.forEach(function(rate) {\n *   startingValueMean *= rate;\n * });\n * startingValueMean === startingValue;\n */\nfunction geometricMean(x) {\n    if (x.length === 0) {\n        throw new Error(\"geometricMean requires at least one data point\");\n    }\n\n    // the starting value.\n    let value = 1;\n\n    for (let i = 0; i < x.length; i++) {\n        // the geometric mean is only valid for positive numbers\n        if (x[i] < 0) {\n            throw new Error(\n                \"geometricMean requires only non-negative numbers as input\"\n            );\n        }\n\n        // repeatedly multiply the value by each number\n        value *= x[i];\n    }\n\n    return Math.pow(value, 1 / x.length);\n}\n\nexport default geometricMean;\n","/**\n * The [Harmonic Mean](https://en.wikipedia.org/wiki/Harmonic_mean) is\n * a mean function typically used to find the average of rates.\n * This mean is calculated by taking the reciprocal of the arithmetic mean\n * of the reciprocals of the input numbers.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} harmonic mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n * @example\n * harmonicMean([2, 3]).toFixed(2) // => '2.40'\n */\nfunction harmonicMean(x) {\n    if (x.length === 0) {\n        throw new Error(\"harmonicMean requires at least one data point\");\n    }\n\n    let reciprocalSum = 0;\n\n    for (let i = 0; i < x.length; i++) {\n        // the harmonic mean is only valid for positive numbers\n        if (x[i] <= 0) {\n            throw new Error(\n                \"harmonicMean requires only positive numbers as input\"\n            );\n        }\n\n        reciprocalSum += 1 / x[i];\n    }\n\n    // divide n by the reciprocal sum\n    return x.length / reciprocalSum;\n}\n\nexport default harmonicMean;\n","/**\n * [Simple linear regression](http://en.wikipedia.org/wiki/Simple_linear_regression)\n * is a simple way to find a fitted line\n * between a set of coordinates. This algorithm finds the slope and y-intercept of a regression line\n * using the least sum of squares.\n *\n * @param {Array<Array<number>>} data an array of two-element of arrays,\n * like `[[0, 1], [2, 3]]`\n * @returns {Object} object containing slope and intersect of regression line\n * @example\n * linearRegression([[0, 0], [1, 1]]); // => { m: 1, b: 0 }\n */\nfunction linearRegression(data) {\n    let m, b;\n\n    // Store data length in a local variable to reduce\n    // repeated object property lookups\n    const dataLength = data.length;\n\n    //if there's only one point, arbitrarily choose a slope of 0\n    //and a y-intercept of whatever the y of the initial point is\n    if (dataLength === 1) {\n        m = 0;\n        b = data[0][1];\n    } else {\n        // Initialize our sums and scope the `m` and `b`\n        // variables that define the line.\n        let sumX = 0,\n            sumY = 0,\n            sumXX = 0,\n            sumXY = 0;\n\n        // Use local variables to grab point values\n        // with minimal object property lookups\n        let point, x, y;\n\n        // Gather the sum of all x values, the sum of all\n        // y values, and the sum of x^2 and (x*y) for each\n        // value.\n        //\n        // In math notation, these would be SS_x, SS_y, SS_xx, and SS_xy\n        for (let i = 0; i < dataLength; i++) {\n            point = data[i];\n            x = point[0];\n            y = point[1];\n\n            sumX += x;\n            sumY += y;\n\n            sumXX += x * x;\n            sumXY += x * y;\n        }\n\n        // `m` is the slope of the regression line\n        m =\n            (dataLength * sumXY - sumX * sumY) /\n            (dataLength * sumXX - sumX * sumX);\n\n        // `b` is the y-intercept of the line.\n        b = sumY / dataLength - (m * sumX) / dataLength;\n    }\n\n    // Return both values as an object.\n    return {\n        m: m,\n        b: b\n    };\n}\n\nexport default linearRegression;\n","/**\n * Given the output of `linearRegression`: an object\n * with `m` and `b` values indicating slope and intercept,\n * respectively, generate a line function that translates\n * x values into y values.\n *\n * @param {Object} mb object with `m` and `b` members, representing\n * slope and intersect of desired line\n * @returns {Function} method that computes y-value at any given\n * x-value on the line.\n * @example\n * var l = linearRegressionLine(linearRegression([[0, 0], [1, 1]]));\n * l(0) // = 0\n * l(2) // = 2\n * linearRegressionLine({ b: 0, m: 1 })(1); // => 1\n * linearRegressionLine({ b: 1, m: 1 })(1); // => 2\n */\nfunction linearRegressionLine(mb /*: { b: number, m: number }*/) {\n    // Return a function that computes a `y` value for each\n    // x value it is given, based on the values of `b` and `a`\n    // that we just computed.\n    return function (x) {\n        return mb.b + mb.m * x;\n    };\n}\n\nexport default linearRegressionLine;\n","/**\n * The [log average](https://en.wikipedia.org/wiki/https://en.wikipedia.org/wiki/Geometric_mean#Relationship_with_logarithms)\n * is an equivalent way of computing the geometric mean of an array suitable for large or small products.\n *\n * It's found by calculating the average logarithm of the elements and exponentiating.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} geometric mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n */\nfunction logAverage(x) {\n    if (x.length === 0) {\n        throw new Error(\"logAverage requires at least one data point\");\n    }\n\n    let value = 0;\n    for (let i = 0; i < x.length; i++) {\n        if (x[i] < 0) {\n            throw new Error(\n                \"logAverage requires only non-negative numbers as input\"\n            );\n        }\n        value += Math.log(x[i]);\n    }\n\n    return Math.exp(value / x.length);\n}\n\nexport default logAverage;\n","/**\n * The [Logit](https://en.wikipedia.org/wiki/Logit)\n * is the inverse of cumulativeStdLogisticProbability,\n * and is also known as the logistic quantile function.\n *\n * @param {number} p\n * @returns {number} logit\n */\nfunction logit(p) {\n    if (p <= 0 || p >= 1) {\n        throw new Error(\"p must be strictly between zero and one\");\n    }\n    return Math.log(p / (1 - p));\n}\n\nexport default logit;\n","/**\n * The maximum is the highest number in the array. With a sorted array,\n * the last element in the array is always the largest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {number} maximum value\n * @example\n * maxSorted([-100, -10, 1, 2, 5]); // => 5\n */\nfunction maxSorted(x) {\n    return x[x.length - 1];\n}\n\nexport default maxSorted;\n","import quantileSorted from \"./quantile_sorted\";\n\n/**\n * The [median](http://en.wikipedia.org/wiki/Median) is\n * the middle number of a list. This is often a good indicator of 'the middle'\n * when there are outliers that skew the `mean()` value.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The median isn't necessarily one of the elements in the list: the value\n * can be the average of two elements if the list has an even length\n * and the two central values are different.\n *\n * @param {Array<number>} sorted input\n * @returns {number} median value\n * @example\n * medianSorted([10, 2, 5, 100, 2, 1]); // => 52.5\n */\nfunction medianSorted(sorted) {\n    return quantileSorted(sorted, 0.5);\n}\n\nexport default medianSorted;\n","/**\n * The minimum is the lowest number in the array. With a sorted array,\n * the first element in the array is always the smallest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {number} minimum value\n * @example\n * minSorted([-100, -10, 1, 2, 5]); // => -100\n */\nfunction minSorted(x) {\n    return x[0];\n}\n\nexport default minSorted;\n","import modeSorted from \"./mode_sorted\";\nimport numericSort from \"./numeric_sort\";\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n log(n))` because it needs to sort the array internally\n * before running an `O(n)` search to find the mode.\n *\n * @param {Array<number>} x input\n * @returns {number} mode\n * @example\n * mode([0, 0, 1]); // => 0\n */\nfunction mode(x) {\n    // Sorting the array lets us iterate through it below and be sure\n    // that every time we see a new number it's new and we'll never\n    // see the same number twice\n    return modeSorted(numericSort(x));\n}\n\nexport default mode;\n","/* globals Map: false */\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * modeFast uses a Map object to keep track of the mode, instead of the approach\n * used with `mode`, a sorted array. As a result, it is faster\n * than `mode` and supports any data type that can be compared with `==`.\n * It also requires a\n * [JavaScript environment with support for Map](https://kangax.github.io/compat-table/es6/#test-Map),\n * and will throw an error if Map is not available.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * @param {Array<*>} x a sample of one or more data points\n * @returns {?*} mode\n * @throws {ReferenceError} if the JavaScript environment doesn't support Map\n * @throws {Error} if x is empty\n * @example\n * modeFast(['rabbits', 'rabbits', 'squirrels']); // => 'rabbits'\n */\nfunction modeFast(x) {\n    // This index will reflect the incidence of different values, indexing\n    // them like\n    // { value: count }\n    const index = new Map();\n\n    // A running `mode` and the number of times it has been encountered.\n    let mode;\n    let modeCount = 0;\n\n    for (let i = 0; i < x.length; i++) {\n        let newCount = index.get(x[i]);\n        if (newCount === undefined) {\n            newCount = 1;\n        } else {\n            newCount++;\n        }\n        if (newCount > modeCount) {\n            mode = x[i];\n            modeCount = newCount;\n        }\n        index.set(x[i], newCount);\n    }\n\n    if (modeCount === 0) {\n        throw new Error(\"mode requires at last one data point\");\n    }\n\n    return mode;\n}\n\nexport default modeFast;\n","import mean from \"./mean\";\nimport shuffleInPlace from \"./shuffle_in_place\";\n\n/**\n * Conducts a [permutation test](https://en.wikipedia.org/wiki/Resampling_(statistics)#Permutation_tests)\n * to determine if two data sets are *significantly* different from each other, using\n * the difference of means between the groups as the test statistic.\n * The function allows for the following hypotheses:\n * - two_tail = Null hypothesis: the two distributions are equal.\n * - greater = Null hypothesis: observations from sampleX tend to be smaller than those from sampleY.\n * - less = Null hypothesis: observations from sampleX tend to be greater than those from sampleY.\n * [Learn more about one-tail vs two-tail tests.](https://en.wikipedia.org/wiki/One-_and_two-tailed_tests)\n *\n * @param {Array<number>} sampleX first dataset (e.g. treatment data)\n * @param {Array<number>} sampleY second dataset (e.g. control data)\n * @param {string} alternative alternative hypothesis, either 'two_sided' (default), 'greater', or 'less'\n * @param {number} k number of values in permutation distribution.\n * @param {Function} [randomSource=Math.random] an optional entropy source\n * @returns {number} p-value The probability of observing the difference between groups (as or more extreme than what we did), assuming the null hypothesis.\n *\n * @example\n * var control = [2, 5, 3, 6, 7, 2, 5];\n * var treatment = [20, 5, 13, 12, 7, 2, 2];\n * permutationTest(control, treatment); // ~0.1324\n */\nfunction permutationTest(sampleX, sampleY, alternative, k, randomSource) {\n    // Set default arguments\n    if (k === undefined) {\n        k = 10000;\n    }\n    if (alternative === undefined) {\n        alternative = \"two_side\";\n    }\n    if (\n        alternative !== \"two_side\" &&\n        alternative !== \"greater\" &&\n        alternative !== \"less\"\n    ) {\n        throw new Error(\n            \"`alternative` must be either 'two_side', 'greater', or 'less'\"\n        );\n    }\n\n    // get means for each sample\n    const meanX = mean(sampleX);\n    const meanY = mean(sampleY);\n\n    // calculate initial test statistic. This will be our point of comparison with\n    // the generated test statistics.\n    const testStatistic = meanX - meanY;\n\n    // create test-statistic distribution\n    const testStatDsn = new Array(k);\n\n    // combine datsets so we can easily shuffle later\n    const allData = sampleX.concat(sampleY);\n    const midIndex = Math.floor(allData.length / 2);\n\n    for (let i = 0; i < k; i++) {\n        // 1. shuffle data assignments\n        shuffleInPlace(allData, randomSource);\n        const permLeft = allData.slice(0, midIndex);\n        const permRight = allData.slice(midIndex, allData.length);\n\n        // 2.re-calculate test statistic\n        const permTestStatistic = mean(permLeft) - mean(permRight);\n\n        // 3. store test statistic to build test statistic distribution\n        testStatDsn[i] = permTestStatistic;\n    }\n\n    // Calculate p-value depending on alternative\n    // For this test, we calculate the percentage of 'extreme' test statistics (subject to our hypothesis)\n    // more info on permutation test p-value calculations: https://onlinecourses.science.psu.edu/stat464/node/35\n    let numExtremeTStats = 0;\n    if (alternative === \"two_side\") {\n        for (let i = 0; i <= k; i++) {\n            if (Math.abs(testStatDsn[i]) >= Math.abs(testStatistic)) {\n                numExtremeTStats += 1;\n            }\n        }\n    } else if (alternative === \"greater\") {\n        for (let i = 0; i <= k; i++) {\n            if (testStatDsn[i] >= testStatistic) {\n                numExtremeTStats += 1;\n            }\n        }\n    } else {\n        // alternative === 'less'\n        for (let i = 0; i <= k; i++) {\n            if (testStatDsn[i] <= testStatistic) {\n                numExtremeTStats += 1;\n            }\n        }\n    }\n\n    return numExtremeTStats / k;\n}\n\nexport default permutationTest;\n","/**\n * Implementation of [Heap's Algorithm](https://en.wikipedia.org/wiki/Heap%27s_algorithm)\n * for generating permutations.\n *\n * @param {Array} elements any type of data\n * @returns {Array<Array>} array of permutations\n */\nfunction permutationsHeap(elements) {\n    const indexes = new Array(elements.length);\n    const permutations = [elements.slice()];\n\n    for (let i = 0; i < elements.length; i++) {\n        indexes[i] = 0;\n    }\n\n    for (let i = 0; i < elements.length; ) {\n        if (indexes[i] < i) {\n            // At odd indexes, swap from indexes[i] instead\n            // of from the beginning of the array\n            let swapFrom = 0;\n            if (i % 2 !== 0) {\n                swapFrom = indexes[i];\n            }\n\n            // swap between swapFrom and i, using\n            // a temporary variable as storage.\n            const temp = elements[swapFrom];\n            elements[swapFrom] = elements[i];\n            elements[i] = temp;\n\n            permutations.push(elements.slice());\n            indexes[i]++;\n            i = 0;\n        } else {\n            indexes[i] = 0;\n            i++;\n        }\n    }\n\n    return permutations;\n}\n\nexport default permutationsHeap;\n","import epsilon from \"./epsilon\";\n\n/**\n * The [Poisson Distribution](http://en.wikipedia.org/wiki/Poisson_distribution)\n * is a discrete probability distribution that expresses the probability\n * of a given number of events occurring in a fixed interval of time\n * and/or space if these events occur with a known average rate and\n * independently of the time since the last event.\n *\n * The Poisson Distribution is characterized by the strictly positive\n * mean arrival or occurrence rate, `λ`.\n *\n * @param {number} lambda location poisson distribution\n * @returns {number[]} values of poisson distribution at that point\n */\nfunction poissonDistribution(lambda) /*: ?number[] */ {\n    // Check that lambda is strictly positive\n    if (lambda <= 0) {\n        return undefined;\n    }\n\n    // our current place in the distribution\n    let x = 0;\n    // and we keep track of the current cumulative probability, in\n    // order to know when to stop calculating chances.\n    let cumulativeProbability = 0;\n    // the calculated cells to be returned\n    const cells = [];\n    let factorialX = 1;\n\n    // This algorithm iterates through each potential outcome,\n    // until the `cumulativeProbability` is very close to 1, at\n    // which point we've defined the vast majority of outcomes\n    do {\n        // a [probability mass function](https://en.wikipedia.org/wiki/Probability_mass_function)\n        cells[x] = (Math.exp(-lambda) * Math.pow(lambda, x)) / factorialX;\n        cumulativeProbability += cells[x];\n        x++;\n        factorialX *= x;\n        // when the cumulativeProbability is nearly 1, we've calculated\n        // the useful range of this distribution\n    } while (cumulativeProbability < 1 - epsilon);\n\n    return cells;\n}\n\nexport default poissonDistribution;\n","import epsilon from \"./epsilon\";\nimport inverseErrorFunction from \"./inverse_error_function\";\n\n/**\n * The [Probit](http://en.wikipedia.org/wiki/Probit)\n * is the inverse of cumulativeStdNormalProbability(),\n * and is also known as the normal quantile function.\n *\n * It returns the number of standard deviations from the mean\n * where the p'th quantile of values can be found in a normal distribution.\n * So, for example, probit(0.5 + 0.6827/2) ≈ 1 because 68.27% of values are\n * normally found within 1 standard deviation above or below the mean.\n *\n * @param {number} p\n * @returns {number} probit\n */\nfunction probit(p) {\n    if (p === 0) {\n        p = epsilon;\n    } else if (p >= 1) {\n        p = 1 - epsilon;\n    }\n    return Math.sqrt(2) * inverseErrorFunction(2 * p - 1);\n}\n\nexport default probit;\n","/**\n * The [product](https://en.wikipedia.org/wiki/Product_(mathematics)) of an array\n * is the result of multiplying all numbers together, starting using one as the multiplicative identity.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} product of all input numbers\n * @example\n * product([1, 2, 3, 4]); // => 24\n */\nfunction product(x) {\n    let value = 1;\n    for (let i = 0; i < x.length; i++) {\n        value *= x[i];\n    }\n    return value;\n}\n\nexport default product;\n","import numericSort from \"./numeric_sort\";\nimport quantileRankSorted from \"./quantile_rank_sorted\";\n\n/**\n * This function returns the quantile in which one would find the given value in\n * the given array. It will copy and sort your array before each run, so\n * if you know your array is already sorted, you should use `quantileRankSorted`\n * instead.\n *\n * @param {Array<number>} x input\n * @returns {number} value value\n * @example\n * quantileRank([4, 3, 1, 2], 3); // => 0.75\n * quantileRank([4, 3, 2, 3, 1], 3); // => 0.7\n * quantileRank([2, 4, 1, 3], 6); // => 1\n * quantileRank([5, 3, 1, 2, 3], 4); // => 0.8\n */\nfunction quantileRank(x, value) {\n    // Cloning and sorting the array\n    const sortedCopy = numericSort(x);\n\n    return quantileRankSorted(sortedCopy, value);\n}\n\nexport default quantileRank;\n","/**\n * The [R Squared](http://en.wikipedia.org/wiki/Coefficient_of_determination)\n * value of data compared with a function `f`\n * is the sum of the squared differences between the prediction\n * and the actual value.\n *\n * @param {Array<Array<number>>} x input data: this should be doubly-nested\n * @param {Function} func function called on `[i][0]` values within the dataset\n * @returns {number} r-squared value\n * @example\n * var samples = [[0, 0], [1, 1]];\n * var regressionLine = linearRegressionLine(linearRegression(samples));\n * rSquared(samples, regressionLine); // = 1 this line is a perfect fit\n */\nfunction rSquared(x, func) {\n    if (x.length < 2) {\n        return 1;\n    }\n\n    // Compute the average y value for the actual\n    // data set in order to compute the\n    // _total sum of squares_\n    let sum = 0;\n    for (let i = 0; i < x.length; i++) {\n        sum += x[i][1];\n    }\n    const average = sum / x.length;\n\n    // Compute the total sum of squares - the\n    // squared difference between each point\n    // and the average of all points.\n    let sumOfSquares = 0;\n    for (let j = 0; j < x.length; j++) {\n        sumOfSquares += Math.pow(average - x[j][1], 2);\n    }\n\n    // Finally estimate the error: the squared\n    // difference between the estimate and the actual data\n    // value at each point.\n    let err = 0;\n    for (let k = 0; k < x.length; k++) {\n        err += Math.pow(x[k][1] - func(x[k][0]), 2);\n    }\n\n    // As the error grows larger, its ratio to the\n    // sum of squares increases and the r squared\n    // value grows lower.\n    return 1 - err / sumOfSquares;\n}\n\nexport default rSquared;\n","import mean from \"./mean\";\n\n/**\n * [Kurtosis](http://en.wikipedia.org/wiki/Kurtosis) is\n * a measure of the heaviness of a distribution's tails relative to its\n * variance. The kurtosis value can be positive or negative, or even undefined.\n *\n * Implementation is based on Fisher's excess kurtosis definition and uses\n * unbiased moment estimators. This is the version found in Excel and available\n * in several statistical packages, including SAS and SciPy.\n *\n * @param {Array<number>} x a sample of 4 or more data points\n * @returns {number} sample kurtosis\n * @throws {Error} if x has length less than 4\n * @example\n * sampleKurtosis([1, 2, 2, 3, 5]); // => 1.4555765595463122\n */\nfunction sampleKurtosis(x) {\n    const n = x.length;\n\n    if (n < 4) {\n        throw new Error(\"sampleKurtosis requires at least four data points\");\n    }\n\n    const meanValue = mean(x);\n    let tempValue;\n    let secondCentralMoment = 0;\n    let fourthCentralMoment = 0;\n\n    for (let i = 0; i < n; i++) {\n        tempValue = x[i] - meanValue;\n        secondCentralMoment += tempValue * tempValue;\n        fourthCentralMoment += tempValue * tempValue * tempValue * tempValue;\n    }\n\n    return (\n        ((n - 1) / ((n - 2) * (n - 3))) *\n        ((n * (n + 1) * fourthCentralMoment) /\n            (secondCentralMoment * secondCentralMoment) -\n            3 * (n - 1))\n    );\n}\n\nexport default sampleKurtosis;\n","import sampleCorrelation from \"./sample_correlation\";\n\n/**\n * The [rank correlation](https://en.wikipedia.org/wiki/Rank_correlation) is\n * a measure of the strength of monotonic relationship between two arrays\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample rank correlation\n */\nfunction sampleRankCorrelation(x, y) {\n    const xIndexes = x\n        .map((value, index) => [value, index])\n        .sort((a, b) => a[0] - b[0])\n        .map((pair) => pair[1]);\n    const yIndexes = y\n        .map((value, index) => [value, index])\n        .sort((a, b) => a[0] - b[0])\n        .map((pair) => pair[1]);\n\n    // At this step, we have an array of indexes\n    // that map from sorted numbers to their original indexes. We reverse\n    // that so that it is an array of the sorted destination index.\n    const xRanks = Array(xIndexes.length);\n    const yRanks = Array(xIndexes.length);\n    for (let i = 0; i < xIndexes.length; i++) {\n        xRanks[xIndexes[i]] = i;\n        yRanks[yIndexes[i]] = i;\n    }\n\n    return sampleCorrelation(xRanks, yRanks);\n}\n\nexport default sampleRankCorrelation;\n","import mean from \"./mean\";\n\n/**\n * [Skewness](http://en.wikipedia.org/wiki/Skewness) is\n * a measure of the extent to which a probability distribution of a\n * real-valued random variable \"leans\" to one side of the mean.\n * The skewness value can be positive or negative, or even undefined.\n *\n * Implementation is based on the adjusted Fisher-Pearson standardized\n * moment coefficient, which is the version found in Excel and several\n * statistical packages including Minitab, SAS and SPSS.\n *\n * @since 4.1.0\n * @param {Array<number>} x a sample of 3 or more data points\n * @returns {number} sample skewness\n * @throws {Error} if x has length less than 3\n * @example\n * sampleSkewness([2, 4, 6, 3, 1]); // => 0.590128656384365\n */\nfunction sampleSkewness(x) {\n    if (x.length < 3) {\n        throw new Error(\"sampleSkewness requires at least three data points\");\n    }\n\n    const meanValue = mean(x);\n    let tempValue;\n    let sumSquaredDeviations = 0;\n    let sumCubedDeviations = 0;\n\n    for (let i = 0; i < x.length; i++) {\n        tempValue = x[i] - meanValue;\n        sumSquaredDeviations += tempValue * tempValue;\n        sumCubedDeviations += tempValue * tempValue * tempValue;\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    const besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    const theSampleStandardDeviation = Math.sqrt(\n        sumSquaredDeviations / besselsCorrection\n    );\n\n    const n = x.length;\n    const cubedS = Math.pow(theSampleStandardDeviation, 3);\n\n    return (n * sumCubedDeviations) / ((n - 1) * (n - 2) * cubedS);\n}\n\nexport default sampleSkewness;\n","/**\n * Sampling with replacement is a type of sampling that allows the same\n * item to be picked out of a population more than once.\n *\n * @param {Array<*>} x an array of any kind of value\n * @param {number} n count of how many elements to take\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} n sampled items from the population\n * @example\n * var values = [1, 2, 3, 4];\n * sampleWithReplacement(values, 2); // returns 2 random values, like [2, 4];\n */\nfunction sampleWithReplacement(x, n, randomSource) {\n    if (x.length === 0) {\n        return [];\n    }\n\n    // a custom random number source can be provided if you want to use\n    // a fixed seed or another random number generator, like\n    // [random-js](https://www.npmjs.org/package/random-js)\n    randomSource = randomSource || Math.random;\n\n    const length = x.length;\n    const sample = [];\n\n    for (let i = 0; i < n; i++) {\n        const index = Math.floor(randomSource() * length);\n\n        sample.push(x[index]);\n    }\n\n    return sample;\n}\n\nexport default sampleWithReplacement;\n","import max from \"./max\";\nimport silhouette from \"./silhouette\";\n\n/**\n * Calculate the [silhouette metric](https://en.wikipedia.org/wiki/Silhouette_(clustering))\n * for a set of N-dimensional points arranged in groups. The metric is the largest\n * individual silhouette value for the data.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {number} The silhouette metric for the groupings.\n *\n * @example\n * silhouetteMetric([[0.25], [0.75]], [0, 0]); // => 1.0\n */\nfunction silhouetteMetric(points, labels) {\n    const values = silhouette(points, labels);\n    return max(values);\n}\n\nexport default silhouetteMetric;\n","/**\n * When removing a value from a list, one does not have to necessary\n * recompute the mean of the list in linear time. They can instead use\n * this function to compute the new mean by providing the current mean,\n * the number of elements in the list that produced it and the value to remove.\n *\n * @since 3.0.0\n * @param {number} mean current mean\n * @param {number} n number of items in the list\n * @param {number} value the value to remove\n * @returns {number} the new mean\n *\n * @example\n * subtractFromMean(20.5, 6, 53); // => 14\n */\nfunction subtractFromMean(mean, n, value) {\n    return (mean * n - value) / (n - 1);\n}\n\nexport default subtractFromMean;\n","import mean from \"./mean\";\nimport standardDeviation from \"./standard_deviation\";\n\n/**\n * This is to compute [a one-sample t-test](https://en.wikipedia.org/wiki/Student%27s_t-test#One-sample_t-test), comparing the mean\n * of a sample to a known value, x.\n *\n * in this case, we're trying to determine whether the\n * population mean is equal to the value that we know, which is `x`\n * here. Usually the results here are used to look up a\n * [p-value](http://en.wikipedia.org/wiki/P-value), which, for\n * a certain level of significance, will let you determine that the\n * null hypothesis can or cannot be rejected.\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {number} expectedValue expected value of the population mean\n * @returns {number} value\n * @example\n * tTest([1, 2, 3, 4, 5, 6], 3.385).toFixed(2); // => '0.16'\n */\nfunction tTest(x, expectedValue) {\n    // The mean of the sample\n    const sampleMean = mean(x);\n\n    // The standard deviation of the sample\n    const sd = standardDeviation(x);\n\n    // Square root the length of the sample\n    const rootN = Math.sqrt(x.length);\n\n    // returning the t value\n    return (sampleMean - expectedValue) / (sd / rootN);\n}\n\nexport default tTest;\n","import mean from \"./mean\";\nimport sampleVariance from \"./sample_variance\";\n\n/**\n * This is to compute [two sample t-test](http://en.wikipedia.org/wiki/Student's_t-test).\n * Tests whether \"mean(X)-mean(Y) = difference\", (\n * in the most common case, we often have `difference == 0` to test if two samples\n * are likely to be taken from populations with the same mean value) with\n * no prior knowledge on standard deviations of both samples\n * other than the fact that they have the same standard deviation.\n *\n * Usually the results here are used to look up a\n * [p-value](http://en.wikipedia.org/wiki/P-value), which, for\n * a certain level of significance, will let you determine that the\n * null hypothesis can or cannot be rejected.\n *\n * `diff` can be omitted if it equals 0.\n *\n * [This is used to reject](https://en.wikipedia.org/wiki/Exclusion_of_the_null_hypothesis)\n * a null hypothesis that the two populations that have been sampled into\n * `sampleX` and `sampleY` are equal to each other.\n *\n * @param {Array<number>} sampleX a sample as an array of numbers\n * @param {Array<number>} sampleY a sample as an array of numbers\n * @param {number} [difference=0]\n * @returns {number|null} test result\n *\n * @example\n * tTestTwoSample([1, 2, 3, 4], [3, 4, 5, 6], 0); // => -2.1908902300206643\n */\nfunction tTestTwoSample(sampleX, sampleY, difference) {\n    const n = sampleX.length;\n    const m = sampleY.length;\n\n    // If either sample doesn't actually have any values, we can't\n    // compute this at all, so we return `null`.\n    if (!n || !m) {\n        return null;\n    }\n\n    // default difference (mu) is zero\n    if (!difference) {\n        difference = 0;\n    }\n\n    const meanX = mean(sampleX);\n    const meanY = mean(sampleY);\n    const sampleVarianceX = sampleVariance(sampleX);\n    const sampleVarianceY = sampleVariance(sampleY);\n\n    if (\n        typeof meanX === \"number\" &&\n        typeof meanY === \"number\" &&\n        typeof sampleVarianceX === \"number\" &&\n        typeof sampleVarianceY === \"number\"\n    ) {\n        const weightedVariance =\n            ((n - 1) * sampleVarianceX + (m - 1) * sampleVarianceY) /\n            (n + m - 2);\n\n        return (\n            (meanX - meanY - difference) /\n            Math.sqrt(weightedVariance * (1 / n + 1 / m))\n        );\n    }\n}\n\nexport default tTestTwoSample;\n","/**\n * This function calculates the Wilcoxon rank sum statistic for the first sample\n * with respect to the second. The Wilcoxon rank sum test is a non-parametric\n * alternative to the t-test which is equivalent to the\n * [Mann-Whitney U test](https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test).\n * The statistic is calculated by pooling all the observations together, ranking them,\n * and then summing the ranks associated with one of the samples. If this rank sum is\n * sufficiently large or small we reject the hypothesis that the two samples come\n * from the same distribution in favor of the alternative that one is shifted with\n * respect to the other.\n *\n * @param {Array<number>} sampleX a sample as an array of numbers\n * @param {Array<number>} sampleY a sample as an array of numbers\n * @returns {number} rank sum for sampleX\n *\n * @example\n * wilcoxonRankSum([1, 4, 8], [9, 12, 15]); // => 6\n */\nfunction wilcoxonRankSum(sampleX, sampleY) {\n    if (!sampleX.length || !sampleY.length) {\n        throw new Error(\"Neither sample can be empty\");\n    }\n\n    const pooledSamples = sampleX\n        .map((x) => ({ label: \"x\", value: x }))\n        .concat(sampleY.map((y) => ({ label: \"y\", value: y })))\n        .sort((a, b) => a.value - b.value);\n\n    for (let rank = 0; rank < pooledSamples.length; rank++) {\n        pooledSamples[rank].rank = rank;\n    }\n\n    let tiedRanks = [pooledSamples[0].rank];\n    for (let i = 1; i < pooledSamples.length; i++) {\n        if (pooledSamples[i].value === pooledSamples[i - 1].value) {\n            tiedRanks.push(pooledSamples[i].rank);\n            if (i === pooledSamples.length - 1) {\n                replaceRanksInPlace(pooledSamples, tiedRanks);\n            }\n        } else if (tiedRanks.length > 1) {\n            replaceRanksInPlace(pooledSamples, tiedRanks);\n        } else {\n            tiedRanks = [pooledSamples[i].rank];\n        }\n    }\n\n    function replaceRanksInPlace(pooledSamples, tiedRanks) {\n        const average = (tiedRanks[0] + tiedRanks[tiedRanks.length - 1]) / 2;\n        for (let i = 0; i < tiedRanks.length; i++) {\n            pooledSamples[tiedRanks[i]].rank = average;\n        }\n    }\n\n    let rankSum = 0;\n\n    for (let i = 0; i < pooledSamples.length; i++) {\n        const sample = pooledSamples[i];\n        if (sample.label === \"x\") {\n            rankSum += sample.rank + 1;\n        }\n    }\n\n    return rankSum;\n}\n\nexport default wilcoxonRankSum;\n","/**\n * The [Z-Score, or Standard Score](http://en.wikipedia.org/wiki/Standard_score).\n *\n * The standard score is the number of standard deviations an observation\n * or datum is above or below the mean. Thus, a positive standard score\n * represents a datum above the mean, while a negative standard score\n * represents a datum below the mean. It is a dimensionless quantity\n * obtained by subtracting the population mean from an individual raw\n * score and then dividing the difference by the population standard\n * deviation.\n *\n * The z-score is only defined if one knows the population parameters;\n * if one only has a sample set, then the analogous computation with\n * sample mean and sample standard deviation yields the\n * Student's t-statistic.\n *\n * @param {number} x\n * @param {number} mean\n * @param {number} standardDeviation\n * @return {number} z score\n * @example\n * zScore(78, 80, 5); // => -0.4\n */\nfunction zScore(x, mean, standardDeviation) {\n    return (x - mean) / standardDeviation;\n}\n\nexport default zScore;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*globals require, exports */\n\nvar sylvester = require('sylvester'),\n    Matrix = sylvester.Matrix,\n    Vector = sylvester.Vector,\n    _ = require('underscore');\n\nvar LinearRegression = function(X, Y, options) {\n  this.X = X || [];\n  this.Y = Y || [];\n\n  // Setup options\n  this.options = options || {};\n  if (this.options.algorithm === 'GradientDescent') {\n    this.algorithm = 'GradientDescent';\n    this.saveCosts = options.saveCosts || false;\n    this.costs = [];\n  } else if (this.options.algorithm === 'NormalEquation') {\n    this.algorithm = 'NormalEquation';\n  } else {\n    this.algorithm = 'NormalEquation';\n  }\n\n  this.debug = this.options.debug || false;\n\n  // initialize some attributes used by LinearRegression\n  this.trained = false;\n  this.normalized = false;\n\n  // verify that X is an array\n  if (X && !Array.isArray(X)) {\n    throw new Error('X must be an array');\n  }\n\n  // verify that Y is an array\n  if (Y && !Array.isArray(Y)) {\n    throw new Error('Y must be an array');\n  }\n};\n\nLinearRegression.prototype.train = function(callback) {\n  if (this.X.length === 0) {\n    return callback(new Error('X is empty'));\n  } else if (this.Y.length === 0) {\n    return callback(new Error('Y is empty'));\n  }\n\n  // verify that X and Y inputs have the same length\n  if (this.X.length !== this.Y.length) {\n    return callback(new Error('X and Y must be of the same length'));\n  }\n\n  // if there is only one point, let's just choose a\n  // slope of 0 and a y-intercept of the y passed in\n  if (this.X.length === 1) {\n    this.theta = $M([0, this.Y[0]]);\n    this.trained = true;\n    return callback();\n  }\n\n  if (this.algorithm === 'GradientDescent') {\n    return this.trainWithGradientDescent(callback);\n  } else {\n    return this.trainWithNormalEquation(callback);\n  }\n};\n\nLinearRegression.addColumnOne = function(X) {\n  // The x matrix for the normal equation needs to\n  // have a row of ones as its first row.\n  // Let's first build the x matrix\n  var zeros = Matrix.Zero(X.length,1);\n  var ones = zeros.add(1);\n  var x = ones.augment($M(X));\n  return x;\n};\n\nfunction getMaxOfArray(numArray) {\n    return Math.max.apply(null, numArray);\n}\nfunction getMinOfArray(numArray) {\n    return Math.min.apply(null, numArray);\n}\n\nLinearRegression.prototype.normalize = function(X) {\n  if (this.debug) {\n    console.log('Normalizing features...');\n  }\n  var nbrOfFeatures = X.dimensions().cols;\n  var m = X.dimensions().rows;\n  var newX = Matrix.Zero(X.dimensions().rows,1).add(1);\n  this.means = [];\n  this.ranges = [];\n  for (var i = 2; i <= nbrOfFeatures; i++) {\n    var feature = X.column(i);\n    var sum = _.reduce(feature.elements, function(memo, num) { return memo + num; }, 0);\n    var mean = sum / m;\n    this.means.push(mean);\n    var featureArray = feature.elements;\n    var range = getMaxOfArray(featureArray) - getMinOfArray(featureArray);\n    var normalizedFeature;\n    this.ranges.push(range);\n    if (range === 0) {\n      normalizedFeature = feature.subtract(mean);\n    } else {\n      normalizedFeature = feature.subtract(mean).multiply(1 / range);\n    }\n    newX = newX.augment(normalizedFeature);\n  }\n  return newX;\n};\n\nLinearRegression.prototype.trainWithNormalEquation = function(callback) {\n  if (this.debug) {\n    console.log('Training with Normal Equation...');\n  }\n  var x = LinearRegression.addColumnOne(this.X);\n  // Build the y matrix\n  var y = $M(this.Y);\n\n  // now we can apply the normal equation:\n  // see formula at http://upload.wikimedia.org/math/2/c/e/2ce21b8e24ea7509a3295c3acd2ae0ea.png\n  var inversePortion = x.transpose().x(x).inverse();\n  if (inversePortion) {\n    this.theta = inversePortion.x(x.transpose()).x(y);\n    this.trained = true;\n    return callback();\n  } else {\n    if (this.debug) {\n      console.log('  shaman could not inverse the matrix. Try to use Gradient Descent instead.');\n    }\n    return callback(new Error('could not inverse the matrix in normal equation. Try to use Gradient Descent instead.'));\n  }\n};\n\nLinearRegression.computeCost = function(X, Y, theta) {\n  var m = Y.dimensions().rows;\n  var xThetaMinusY = (X.x(theta)).subtract(Y);\n  var xThetaMinusYSquared = _.flatten(xThetaMinusY.elements).map(function(val) { return val * val; });\n  var sum = _.reduce(xThetaMinusYSquared, function(memo, num) { return memo + num; }, 0);\n  return (1 / (2 * m)) * sum;\n};\n\nLinearRegression.prototype.gradientDescent = function(X, Y, theta, learningRate, numberOfIterations) {\n  var m = Y.dimensions().rows;\n  var nbrOfFeatures = X.dimensions().cols;\n\n  var normalizedX = this.normalize(X);\n\n  for (var i = 0; i < numberOfIterations; i++) {\n    var xThetaMinusY = (normalizedX.x(theta)).subtract(Y);\n    var tempArray = [];\n\n    for (var j = 1; j <= nbrOfFeatures; j++) {\n      var xThetaMinusYTimesXj = xThetaMinusY.transpose().x(normalizedX.column(j));\n      var arrayToSum = _.flatten(xThetaMinusYTimesXj.elements);\n      var sum = _.reduce(arrayToSum, function(memo, num) { return memo + num; }, 0);\n\n      var temp = theta.e(j,1) - (learningRate / m) * sum;\n      tempArray.push([temp]);\n    }\n    theta = $M(tempArray);\n    if (this.saveCosts) {\n      this.costs.push(LinearRegression.computeCost(normalizedX, Y, theta));\n    }\n    if (this.debug) {\n      console.log('Iteration: ', i ,' -> Cost:', LinearRegression.computeCost(normalizedX, Y, theta));\n    }\n  }\n  return theta;\n};\n\nLinearRegression.prototype.trainWithGradientDescent = function(callback) {\n  var learningRate = this.options.learningRate || 0.1;\n  var numberOfIterations = this.options.numberOfIterations || 8500;\n\n  if (this.debug) {\n    console.log('Training with Normal Equation...');\n    console.log('  Learning Rate = ', learningRate);\n    console.log('  Number of Iterations', numberOfIterations);\n  }\n\n  // build the matrix of input features\n  var x = LinearRegression.addColumnOne(this.X);\n  var nbrOfFeatures = x.dimensions().cols;\n\n  // Build the y matrix\n  var y = $M(this.Y);\n\n  // initialize theta to zero\n  this.theta = Matrix.Zero(nbrOfFeatures, 1);\n\n  this.theta = this.gradientDescent(x, y, this.theta, learningRate, numberOfIterations);\n  this.normalized = true;\n  this.trained = true;\n  return callback(); \n};\n\nLinearRegression.prototype.predict = function(input) {\n  var self = this;\n  if (self.trained) {\n    if (!Array.isArray(input)) {\n      input = [input];\n    }\n\n    if (self.normalized) {\n      input = input.map(function(val, index) { return (val - self.means[index]) / self.ranges[index]; });\n    }\n\n    var xInput = $V([1]).augment(input);\n    var output = self.theta.transpose().x(xInput);\n    return output.e(1,1);\n  } else {\n    throw new Error('cannot predict before training');\n  }\n};\n\nexports.LinearRegression = LinearRegression;\n","// Copyright (c) 2011, Chris Umbel\n\nexports.Vector = require('./vector');\nglobal.$V = exports.Vector.create;\nexports.Matrix = require('./matrix');\nglobal.$M = exports.Matrix.create;\nexports.Line = require('./line');\nglobal.$L = exports.Line.create;\nexports.Plane = require('./plane');\nglobal.$P = exports.Plane.create;\nexports.Line.Segment = require('./line.segment');\nexports.Sylvester = require('./sylvester');\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// Copyright (c) 2011, Chris Umbel, James Coglan\n// Line.Segment class - depends on Line and its dependencies.\n\nvar Line = require('./line');\nvar Vector = require('./vector');\n\nLine.Segment = function() {};\nLine.Segment.prototype = {\n\n  // Returns true iff the line segment is equal to the argument\n  eql: function(segment) {\n    return (this.start.eql(segment.start) && this.end.eql(segment.end)) ||\n        (this.start.eql(segment.end) && this.end.eql(segment.start));\n  },\n\n  // Returns a copy of the line segment\n  dup: function() {\n    return Line.Segment.create(this.start, this.end);\n  },\n\n  // Returns the length of the line segment\n  length: function() {\n    var A = this.start.elements, B = this.end.elements;\n    var C1 = B[0] - A[0], C2 = B[1] - A[1], C3 = B[2] - A[2];\n    return Math.sqrt(C1*C1 + C2*C2 + C3*C3);\n  },\n\n  // Returns the line segment as a vector equal to its\n  // end point relative to its endpoint\n  toVector: function() {\n    var A = this.start.elements, B = this.end.elements;\n    return Vector.create([B[0] - A[0], B[1] - A[1], B[2] - A[2]]);\n  },\n\n  // Returns the segment's midpoint as a vector\n  midpoint: function() {\n    var A = this.start.elements, B = this.end.elements;\n    return Vector.create([(B[0] + A[0])/2, (B[1] + A[1])/2, (B[2] + A[2])/2]);\n  },\n\n  // Returns the plane that bisects the segment\n  bisectingPlane: function() {\n    return Plane.create(this.midpoint(), this.toVector());\n  },\n\n  // Returns the result of translating the line by the given vector/array\n  translate: function(vector) {\n    var V = vector.elements || vector;\n    var S = this.start.elements, E = this.end.elements;\n    return Line.Segment.create(\n      [S[0] + V[0], S[1] + V[1], S[2] + (V[2] || 0)],\n      [E[0] + V[0], E[1] + V[1], E[2] + (V[2] || 0)]\n    );\n  },\n\n  // Returns true iff the line segment is parallel to the argument. It simply forwards\n  // the method call onto its line property.\n  isParallelTo: function(obj) {\n    return this.line.isParallelTo(obj);\n  },\n\n  // Returns the distance between the argument and the line segment's closest point to the argument\n  distanceFrom: function(obj) {\n    var P = this.pointClosestTo(obj);\n    return (P === null) ? null : P.distanceFrom(obj);\n  },\n\n  // Returns true iff the given point lies on the segment\n  contains: function(obj) {\n    if (obj.start && obj.end) { return this.contains(obj.start) && this.contains(obj.end); }\n    var P = (obj.elements || obj).slice();\n    if (P.length == 2) { P.push(0); }\n    if (this.start.eql(P)) { return true; }\n    var S = this.start.elements;\n    var V = Vector.create([S[0] - P[0], S[1] - P[1], S[2] - (P[2] || 0)]);\n    var vect = this.toVector();\n    return V.isAntiparallelTo(vect) && V.modulus() <= vect.modulus();\n  },\n\n  // Returns true iff the line segment intersects the argument\n  intersects: function(obj) {\n    return (this.intersectionWith(obj) !== null);\n  },\n\n  // Returns the unique point of intersection with the argument\n  intersectionWith: function(obj) {\n    if (!this.line.intersects(obj)) { return null; }\n    var P = this.line.intersectionWith(obj);\n    return (this.contains(P) ? P : null);\n  },\n\n  // Returns the point on the line segment closest to the given object\n  pointClosestTo: function(obj) {\n    if (obj.normal) {\n      // obj is a plane\n      var V = this.line.intersectionWith(obj);\n      if (V === null) { return null; }\n      return this.pointClosestTo(V);\n    } else {\n      // obj is a line (segment) or point\n      var P = this.line.pointClosestTo(obj);\n      if (P === null) { return null; }\n      if (this.contains(P)) { return P; }\n      return (this.line.positionOf(P) < 0 ? this.start : this.end).dup();\n    }\n  },\n\n  // Set the start and end-points of the segment\n  setPoints: function(startPoint, endPoint) {\n    startPoint = Vector.create(startPoint).to3D();\n    endPoint = Vector.create(endPoint).to3D();\n    if (startPoint === null || endPoint === null) { return null; }\n    this.line = Line.create(startPoint, endPoint.subtract(startPoint));\n    this.start = startPoint;\n    this.end = endPoint;\n    return this;\n  }\n};\n\n// Constructor function\nLine.Segment.create = function(v1, v2) {\n  var S = new Line.Segment();\n  return S.setPoints(v1, v2);\n};\n\nmodule.exports = Line.Segment;\n","/*globals require, exports */\n\nvar distance = require('./distance.js').euclidean,\n    _ = require('underscore');\n\nvar KMeans = function(K, options) {\n  options = options || {};\n  this.K = K || 3;\n  this.centroids = [];\n  this.clusters = [];\n  this.iterations = options.iterations || 1000;\n\n  this.options = options || {};\n}\n\nKMeans.prototype.cluster = function(data, callback) {\n  var self = this;\n\n  if (!data) {\n    return callback(new Error('data is required.'));\n  } else if (!Array.isArray(data)) {\n    return callback(new Error('data must be an array.'));\n  } else if (data.length < self.K) {\n    return callback(new Error('data must have at least K data points.'));\n  }\n\n  var normalizedData = self.normalize(data);\n\n  // initialize random centroids\n  for (var k = 0; k < self.K; k++) {\n    var randomIndex = Math.floor(Math.random() * normalizedData.length);\n    self.centroids.push(normalizedData[randomIndex]);\n  }\n\n  for (var j = 0; j < self.iterations; j++) {\n\n    // cluster assignment step\n    var clusterIndexes = [];\n    for (var i = 0; i < normalizedData.length; i++) {\n      var min = distance(normalizedData[i], self.centroids[0]);\n      var closestCentroid = 0;\n      for (k = 0; k < self.K; k++) {\n        var tmpDistance = distance(normalizedData[i], self.centroids[k]);\n        if (tmpDistance < min) {\n          min = tmpDistance;\n          closestCentroid = k;\n        }\n      }\n      clusterIndexes.push(closestCentroid);\n    }\n\n    // move centroids\n    var newCentroids = [];\n    self.clusters = [];\n    for (var k = 0; k < self.centroids.length; k++) {\n      var points = [];\n      clusterIndexes.forEach(function(clusterIndex, index) {\n        if (clusterIndex == k) {\n          points.push(normalizedData[index]);\n        }\n      });\n      self.clusters.push(points);\n      if (points.length > 0) {\n        newCentroids.push( self.mean(points) );\n      } else {\n        newCentroids.push(self.centroids[k]);\n      }\n    }\n    self.centroids = newCentroids;\n  }\n\n  // denormalize clusters and centroids\n  self.centroids = self.denormalize(self.centroids);\n  self.clusters.forEach(function(cluster, index) {\n    self.clusters[index] = self.denormalize(cluster);\n  });\n\n  return callback(null, self.clusters, self.centroids);\n};\n\nKMeans.prototype.mean = function(points) {\n  if (!Array.isArray(points)) {\n    throw new Error('mean requires an array of data points as an argument.');\n  }\n  if (points.length === 0) {\n    return [];\n  }\n  var sum = new Array(points[0].length);\n  for (var i = 0; i < points.length; i++) {\n    for (var k = 0; k < sum.length; k++) {\n      sum[k] = (sum[k] || 0) + parseFloat(points[i][k], 10);\n\n      if (i === points.length - 1) {\n        sum[k] = sum[k] / points.length;\n      }\n\n    }\n  }\n  return sum;\n};\n\nKMeans.prototype.normalize = function(points) {\n  var mean = this.mean(points);\n  this.originalMean = mean;\n  var newPoints = [];\n  points.forEach(function(point, j) {\n    var newPoint = new Array(point.length);\n    for (var i = 0; i < point.length; i++) {\n      newPoint[i] = (point[i] - mean[i]) / mean[i];\n    }\n    newPoints.push(newPoint);\n  });\n  return newPoints;\n};\n\nKMeans.prototype.denormalize = function(points) {\n  var originalMean = this.originalMean;\n  var newPoints = [];\n  points.forEach(function(point, j) {\n    var newPoint = new Array(point.length);\n    for (var i = 0; i < point.length; i++) {\n      newPoint[i] = (point[i] * originalMean[i]) + originalMean[i];\n    }\n    newPoints.push(newPoint);\n  });\n  return newPoints;\n};\n\nexports.KMeans = KMeans;\n\n\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import * as ss from 'simple-statistics';\n\nexport const correlation = (d1, d2) => {\n  const r = ss.sampleCorrelation(d1, d2);\n\n  return isNaN(r) ? 0 : r;\n};","export const getUniqueValues = d => Array.from(d.reduce((values, value) => values.add(value), new Set()));","import * as ss from 'simple-statistics';\nimport { getUniqueValues } from './utils';\n\nconst chiSquared = (dimension1, categories1, dimension2, categories2) => {\n    const categoryCounts = values => {\n      return values.reduce((counts, value) => {\n        if (!counts[value]) counts[value] = 1;\n        else counts[value]++;\n        return counts;\n      }, {});\n    };\n  \n    // Get counts per dimension\n    const counts1 = categoryCounts(dimension1, categories1);\n    const counts2 = categoryCounts(dimension2, categories2);\n  \n    // Initialize object for value counts\n    const counts = categories1.reduce((counts, c1) => {\n      counts[c1] = {};\n  \n      categories2.forEach(c2 => {\n        counts[c1][c2] = 0;\n      });\n  \n      return counts;\n    }, {});\n  \n    // Get counts\n    dimension1.forEach((v1, i) => {\n      const v2 = dimension2[i];\n  \n      counts[v1][v2]++;\n    });\n  \n    // Get expected and observed values\n    const n = dimension1.length;\n    const observed = [];\n    const expected = [];\n  \n    categories1.forEach(c1 => {\n      categories2.forEach(c2 => {\n        observed.push(counts[c1][c2]);\n        expected.push(counts1[c1] * counts2[c2] /  n);\n      });\n    });\n  \n    // Compute chi squared\n    return ss.sumSimple(observed.map((o, i) => {\n      const e = expected[i];\n  \n      return Math.pow(o - e, 2) / e;\n    }));\n  }\n  \n  export const cramersV = (dimension1, dimension2) => {\n    const categories1 = getUniqueValues(dimension1);\n    const categories2 = getUniqueValues(dimension2);\n  \n    // XXX: What should be returned here?\n    if (categories1.length === 1 || categories2.length === 1) return 0;\n  \n    const chi2 = chiSquared(dimension1, categories1, dimension2, categories2);\n  \n    const n = dimension1.length;\n    const k1 = categories1.length;\n    const k2 = categories2.length;\n    const k = Math.min(k1, k2);\n  \n    if (k1 === 2 && k2 === 2) {\n      // Use phi\n  //    console.log(\"Phi: \", Math.sqrt(chi2 / n));\n      return Math.sqrt(chi2 / n);\n    }\n    else {\n      // Use Cramers V\n  //    console.log(\"V: \", Math.sqrt(chi2 / (n * (k - 1))));\n      return Math.sqrt(chi2 / (n * (k - 1)));\n    }\n  };","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import shaman from 'shaman';\nimport { correlation } from './correlation';\nimport { getUniqueValues } from './utils';\n\nexport const categoricalRegression = (categorical, numeric) => {\n  // Remove nulls\n  const [validCat, validNum] = categorical.reduce((nonNull, v, i) => {\n    if (categorical[i] !== null && numeric[i] !== null) {\n      nonNull[0].push(categorical[i]);\n      nonNull[1].push(numeric[i]);\n    }\n\n    return nonNull;\n  }, [[], []]);\n\n  const categories = getUniqueValues(validCat);\n\n  // XXX: What should be returned here?\n  if (categories.length === 1) return 0;\n\n  // n - 1 dummy categories\n  const cats = categories.slice(0, -1);\n\n  // Setup multiple regression\n  const x = validCat.map(value => {\n    return [...cats.map(category => value === category ? 1 : 0)];\n  });\n\n  const lr = new shaman.LinearRegression(x, validNum, { algorithm: 'NormalEquation' });\n\n  const p = [];\n  lr.train(err => {\n    if (err) console.log(err);\n\n    x.forEach(x => p.push(lr.predict(x)));\n  });\n\n  return correlation(validNum, p);\n};","import * as d3 from 'd3';\nimport { categoricalRegression, correlation, cramersV } from './relations';\n\n// on message\n// eslint-disable-next-line no-restricted-globals\nself.onmessage = (e) => {\n  let { relations, columns, allData } = e.data;\n  if (e && e.data) {\n    //console.log('Worker: Message received from main script');\n    computeRelations();\n    // post message back\n    //console.log('Worker: Posting message back to main script');\n    postMessage({ relations, columns });\n  }\n\n  // Compute relations\n  function computeRelations() {\n    relations = columns.reduce((relations, column1, i, a) => {\n      const v1 = allData.map((d) => d.values[column1.name]);\n\n      for (let j = i + 1; j < a.length; j++) {\n        const column2 = a[j];\n        const v2 = allData.map((d) => d.values[column2.name]);\n\n        const value =\n          column1.type === 'id' || column2.type === 'id'\n            ? 0\n            : column1.type === 'categorical' && column2.type === 'categorical'\n            ? cramersV(v1, v2)\n            : column1.type === 'categorical' && column2.type === 'numeric'\n            ? categoricalRegression(v1, v2)\n            : column1.type === 'numeric' && column2.type === 'categorical'\n            ? categoricalRegression(v2, v1)\n            : correlation(v1, v2);\n\n        relations.push({\n          source: column1,\n          target: column2,\n          value: value,\n          magnitude: Math.abs(value),\n        });\n      }\n\n      return relations;\n    }, []);\n\n    relations.sort((a, b) => d3.ascending(a.magnitude, b.magnitude));\n  }\n};\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n"],"sourceRoot":""}